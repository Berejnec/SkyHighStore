"use strict";(self.webpackChunkSkyHighStore=self.webpackChunkSkyHighStore||[]).push([[179],{2011:(mt,Oe,N)=>{N.d(Oe,{Dh:()=>_e,GT:()=>we,cc:()=>Ve,hO:()=>Ge,on:()=>q,pX:()=>fe,xv:()=>Ce});var s=N(4650),H=N(127),O=N(5813);mt=N.hmd(mt);const ue=["ngOnDestroy"],fe=(be,rt,st,Ue={})=>new Proxy(be,{get:(Fe,ke)=>st.runOutsideAngular(()=>{var Qe;if(be[ke])return!(null===(Qe=Ue?.spy)||void 0===Qe)&&Qe.get&&Ue.spy.get(ke,be[ke]),be[ke];if(ue.indexOf(ke)>-1)return()=>{};const ce=rt.toPromise().then(me=>{const Ee=me&&me[ke];return"function"==typeof Ee?Ee.bind(me):Ee&&Ee.then?Ee.then(ee=>st.run(()=>ee)):st.run(()=>Ee)});return new Proxy(()=>{},{get:(me,Ee)=>ce[Ee],apply:(me,Ee,ee)=>ce.then(ie=>{var ye;const de=ie&&ie(...ee);return!(null===(ye=Ue?.spy)||void 0===ye)&&ye.apply&&Ue.spy.apply(ke,ee,de),de})})})}),we=(be,rt)=>{rt.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Ue=>{Object.defineProperty(be.prototype,Ue,Object.getOwnPropertyDescriptor(st.prototype||st,Ue))})})};class ve{constructor(rt){return rt}}const _e=new s.OlP("angularfire2.app.options"),Ce=new s.OlP("angularfire2.app.name");function q(be,rt,st){const Fe="object"==typeof st&&st||{};Fe.name=Fe.name||"string"==typeof st&&st||"[DEFAULT]";const Qe=H.Z.apps.filter(ce=>ce&&ce.name===Fe.name)[0]||rt.runOutsideAngular(()=>H.Z.initializeApp(be,Fe));try{JSON.stringify(be)!==JSON.stringify(Qe.options)&&W("error",`${Qe.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Qe)}const W=(be,...rt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[be](...rt)},ne={provide:ve,useFactory:q,deps:[_e,s.R0b,[new s.FiY,Ce]]};let Ge=(()=>{class be{constructor(st){H.Z.registerVersion("angularfire",O.q4.full,"core"),H.Z.registerVersion("angularfire",O.q4.full,"app-compat"),H.Z.registerVersion("angular",s.q4F.full,st.toString())}static initializeApp(st,Ue){return{ngModule:be,providers:[{provide:_e,useValue:st},{provide:Ce,useValue:Ue}]}}}return be.\u0275fac=function(st){return new(st||be)(s.LFG(s.Lbi))},be.\u0275mod=s.oAB({type:be}),be.\u0275inj=s.cJS({providers:[ne]}),be})();function Ve(be,rt,st,Ue,Fe){const[,ke,Qe]=globalThis.\u0275AngularfireInstanceCache.find(ce=>ce[0]===be)||[];if(ke)return function Ae(be,rt){try{return be.toString()===rt.toString()}catch{return be===rt}}(Fe,Qe)||(Te("error",`${rt} was already initialized on the ${st} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:Fe,was:Qe})),ke;{const ce=Ue();return globalThis.\u0275AngularfireInstanceCache.push([be,ce,Fe]),ce}}const ct=!!mt.hot,Te=(be,...rt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[be](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,Oe,N)=>{N.d(Oe,{q4:()=>tu,iC:()=>pi,HU:()=>ao,vb:()=>hs,JM:()=>aa,u3:()=>ur});var s=N(4650),H=N(5867),O=N(5861),ue=N(9681),fe=N(2090),we=N(4859),ve=N(1877),_e=N(8766);const Ce="@firebase/installations",q="0.5.12",ne=`w:${q}`,Ge="FIS_v2",rt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(T){return T instanceof fe.ZR&&T.code.includes("request-failed")}function Ue({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Fe(T){return{token:T.token,requestStatus:2,expiresIn:ie(T.expiresIn),creationTime:Date.now()}}function ke(T,S){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,O.Z)(function*(T,S){const U=(yield S.json()).error;return rt.create("request-failed",{requestName:T,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ce({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function me(T,{refreshToken:S}){const k=ce(T);return k.append("Authorization",function ye(T){return`${Ge} ${T}`}(S)),k}function Ee(T){return ee.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function ie(T){return Number(T.replace("s","000"))}function de(T,S){return ze.apply(this,arguments)}function ze(){return(ze=(0,O.Z)(function*({appConfig:T,heartbeatServiceProvider:S},{fid:k}){const U=Ue(T),X=ce(T),he=S.getImmediate({optional:!0});if(he){const Ot=yield he.getHeartbeatsHeader();Ot&&X.append("x-firebase-client",Ot)}const Ke={method:"POST",headers:X,body:JSON.stringify({fid:k,authVersion:Ge,appId:T.appId,sdkVersion:ne})},vt=yield Ee(()=>fetch(U,Ke));if(vt.ok){const Ot=yield vt.json();return{fid:Ot.fid||k,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:Fe(Ot.authToken)}}throw yield ke("Create Installation",vt)})).apply(this,arguments)}function je(T){return new Promise(S=>{setTimeout(S,T)})}const un=/^[cdef][\w-]{21}$/;function Je(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const k=function Sn(T){return function Et(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return un.test(k)?k:""}catch{return""}}function Zn(T){return`${T.appName}!${T.appId}`}const fn=new Map;function dn(T,S){const k=Zn(T);Mi(k,S),function Ro(T,S){const k=function Bn(){return!ki&&"BroadcastChannel"in self&&(ki=new BroadcastChannel("[Firebase] FID Change"),ki.onmessage=T=>{Mi(T.data.key,T.data.fid)}),ki}();k&&k.postMessage({key:T,fid:S}),function Xr(){0===fn.size&&ki&&(ki.close(),ki=null)}()}(k,S)}function Mi(T,S){const k=fn.get(T);if(k)for(const U of k)U(S)}let ki=null;const qn="firebase-installations-store";let Nr=null;function Lr(){return Nr||(Nr=(0,_e.X3)("firebase-installations-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(qn)}})),Nr}function at(T,S){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,O.Z)(function*(T,S){const k=Zn(T),X=(yield Lr()).transaction(qn,"readwrite"),he=X.objectStore(qn),De=yield he.get(k);return yield he.put(S,k),yield X.done,(!De||De.fid!==S.fid)&&dn(T,S.fid),S})).apply(this,arguments)}function Kn(T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(T){const S=Zn(T),U=(yield Lr()).transaction(qn,"readwrite");yield U.objectStore(qn).delete(S),yield U.done})).apply(this,arguments)}function Ri(T,S){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(T,S){const k=Zn(T),X=(yield Lr()).transaction(qn,"readwrite"),he=X.objectStore(qn),De=yield he.get(k),Ke=S(De);return void 0===Ke?yield he.delete(k):yield he.put(Ke,k),yield X.done,Ke&&(!De||De.fid!==Ke.fid)&&dn(T,Ke.fid),Ke})).apply(this,arguments)}function kn(T){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,O.Z)(function*(T){let S;const k=yield Ri(T.appConfig,U=>{const X=Mn(U),he=yt(T,X);return S=he.registrationPromise,he.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function Mn(T){return kt(T||{fid:Je(),registrationStatus:0})}function yt(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(rt.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},U=function bt(T,S){return Ht.apply(this,arguments)}(T,k);return{installationEntry:k,registrationPromise:U}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ki(T)}:{installationEntry:S}}function Ht(){return(Ht=(0,O.Z)(function*(T,S){try{const k=yield de(T,S);return at(T.appConfig,k)}catch(k){throw st(k)&&409===k.customData.serverCode?yield Kn(T.appConfig):yield at(T.appConfig,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Ki(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,O.Z)(function*(T){let S=yield Oi(T.appConfig);for(;1===S.registrationStatus;)yield je(100),S=yield Oi(T.appConfig);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield kn(T);return U||k}return S})).apply(this,arguments)}function Oi(T){return Ri(T,S=>{if(!S)throw rt.create("installation-not-found");return kt(S)})}function kt(T){return function Ui(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function zt(T,S){return sr.apply(this,arguments)}function sr(){return(sr=(0,O.Z)(function*({appConfig:T,heartbeatServiceProvider:S},k){const U=rn(T,k),X=me(T,k),he=S.getImmediate({optional:!0});if(he){const Ot=yield he.getHeartbeatsHeader();Ot&&X.append("x-firebase-client",Ot)}const Ke={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:ne,appId:T.appId}})},vt=yield Ee(()=>fetch(U,Ke));if(vt.ok)return Fe(yield vt.json());throw yield ke("Generate Auth Token",vt)})).apply(this,arguments)}function rn(T,{fid:S}){return`${Ue(T)}/${S}/authTokens:generate`}function J(T){return $.apply(this,arguments)}function $(){return($=(0,O.Z)(function*(T,S=!1){let k;const U=yield Ri(T.appConfig,he=>{if(!xt(he))throw rt.create("not-registered");const De=he.authToken;if(!S&&_n(De))return he;if(1===De.requestStatus)return k=z(T,S),he;{if(!navigator.onLine)throw rt.create("app-offline");const Ke=oi(he);return k=Re(T,Ke),Ke}});return k?yield k:U.authToken})).apply(this,arguments)}function z(T,S){return K.apply(this,arguments)}function K(){return(K=(0,O.Z)(function*(T,S){let k=yield Y(T.appConfig);for(;1===k.authToken.requestStatus;)yield je(100),k=yield Y(T.appConfig);const U=k.authToken;return 0===U.requestStatus?J(T,S):U})).apply(this,arguments)}function Y(T){return Ri(T,S=>{if(!xt(S))throw rt.create("not-registered");return function se(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Re(T,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,O.Z)(function*(T,S){try{const k=yield zt(T,S),U=Object.assign(Object.assign({},S),{authToken:k});return yield at(T.appConfig,U),k}catch(k){if(!st(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield at(T.appConfig,U)}else yield Kn(T.appConfig);throw k}})).apply(this,arguments)}function xt(T){return void 0!==T&&2===T.registrationStatus}function _n(T){return 2===T.requestStatus&&!function gn(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function oi(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function G(){return(G=(0,O.Z)(function*(T){const S=T,{installationEntry:k,registrationPromise:U}=yield kn(S);return U?U.catch(console.error):J(S).catch(console.error),k.fid})).apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(T,S=!1){const k=T;return yield It(k),(yield J(k,S)).token})).apply(this,arguments)}function It(T){return At.apply(this,arguments)}function At(){return(At=(0,O.Z)(function*(T){const{registrationPromise:S}=yield kn(T);S&&(yield S)})).apply(this,arguments)}function $s(T){return rt.create("missing-app-config-values",{valueName:T})}const Oo="installations",Gs=T=>{const S=T.getProvider("app").getImmediate(),k=function Rn(T){if(!T||!T.options)throw $s("App Configuration");if(!T.name)throw $s("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!T.options[k])throw $s(k);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S);return{app:S,appConfig:k,heartbeatServiceProvider:(0,ue._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Po=T=>{const S=T.getProvider("app").getImmediate(),k=(0,ue._getProvider)(S,Oo).getImmediate();return{getId:()=>function j(T){return G.apply(this,arguments)}(k),getToken:X=>function Ie(T){return Ye.apply(this,arguments)}(k,X)}};(function Fl(){(0,ue._registerComponent)(new we.wA(Oo,Gs,"PUBLIC")),(0,ue._registerComponent)(new we.wA("installations-internal",Po,"PRIVATE"))})(),(0,ue.registerVersion)(Ce,q),(0,ue.registerVersion)(Ce,q,"esm2017");const ns="@firebase/remote-config",ii=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class li{constructor(S,k,U,X){this.client=S,this.storage=k,this.storageCache=U,this.logger=X}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,X=U<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${X}.`),X}fetch(S){var k=this;return(0,O.Z)(function*(){const[U,X]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(X&&k.isCachedDataFresh(S.cacheMaxAgeMillis,U))return X;S.eTag=X&&X.eTag;const he=yield k.client.fetch(S),De=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&De.push(k.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(De),he})()}}function Ii(T=navigator){return T.languages&&T.languages[0]||T.language}class Ks{constructor(S,k,U,X,he,De){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=U,this.projectId=X,this.apiKey=he,this.appId=De}fetch(S){var k=this;return(0,O.Z)(function*(){var U,X,he;const[De,Ke]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},wt={sdk_version:k.sdkVersion,app_instance_id:De,app_instance_id_token:Ke,app_id:k.appId,language_code:Ii()},ri={method:"POST",headers:Bt,body:JSON.stringify(wt)},ji=fetch(Ot,ri),ho=new Promise((Fs,Si)=>{S.signal.addEventListener(()=>{const Ed=new Error("The operation was aborted.");Ed.name="AbortError",Si(Ed)})});let jt;try{yield Promise.race([ji,ho]),jt=yield ji}catch(Fs){let Si="fetch-client-network";throw"AbortError"===(null===(U=Fs)||void 0===U?void 0:U.name)&&(Si="fetch-timeout"),ii.create(Si,{originalErrorMessage:null===(X=Fs)||void 0===X?void 0:X.message})}let Li=jt.status;const po=jt.headers.get("ETag")||void 0;let Ps,ec;if(200===jt.status){let Fs;try{Fs=yield jt.json()}catch(Si){throw ii.create("fetch-client-parse",{originalErrorMessage:null===(he=Si)||void 0===he?void 0:he.message})}Ps=Fs.entries,ec=Fs.state}if("INSTANCE_STATE_UNSPECIFIED"===ec?Li=500:"NO_CHANGE"===ec?Li=304:("NO_TEMPLATE"===ec||"EMPTY_CONFIG"===ec)&&(Ps={}),304!==Li&&200!==Li)throw ii.create("fetch-status",{httpStatus:Li});return{status:Li,eTag:po,config:Ps}})()}}class rs{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,O.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,U)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:U}){var X=this;return(0,O.Z)(function*(){yield function mr(T,S){return new Promise((k,U)=>{const X=Math.max(S-Date.now(),0),he=setTimeout(k,X);T.addEventListener(()=>{clearTimeout(he),U(ii.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const he=yield X.client.fetch(S);return yield X.storage.deleteThrottleMetadata(),he}catch(he){if(!function mg(T){if(!(T instanceof fe.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(he))throw he;const De={throttleEndTimeMillis:Date.now()+(0,fe.$s)(U),backoffCount:U+1};return yield X.storage.setThrottleMetadata(De),X.attemptFetch(S,De)}})()}}class yg{constructor(S,k,U,X,he){this.app=S,this._client=k,this._storageCache=U,this._storage=X,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fa(T,S){var k;const U=T.target.error||void 0;return ii.create(S,{originalErrorMessage:U&&(null===(k=U)||void 0===k?void 0:k.message)})}const No="app_namespace_store";class Nc{constructor(S,k,U,X=function bg(){return new Promise((T,S)=>{var k;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=X=>{S(Fa(X,"storage-open"))},U.onsuccess=X=>{T(X.target.result)},U.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(No,{keyPath:"compositeKey"})}}catch(U){S(ii.create("storage-open",{originalErrorMessage:null===(k=U)||void 0===k?void 0:k.message}))}})}()){this.appId=S,this.appName=k,this.namespace=U,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,O.Z)(function*(){const U=yield k.openDbPromise;return new Promise((X,he)=>{var De;const vt=U.transaction([No],"readonly").objectStore(No),Ot=k.createCompositeKey(S);try{const Bt=vt.get(Ot);Bt.onerror=wt=>{he(Fa(wt,"storage-get"))},Bt.onsuccess=wt=>{const ri=wt.target.result;X(ri?ri.value:void 0)}}catch(Bt){he(ii.create("storage-get",{originalErrorMessage:null===(De=Bt)||void 0===De?void 0:De.message}))}})})()}set(S,k){var U=this;return(0,O.Z)(function*(){const X=yield U.openDbPromise;return new Promise((he,De)=>{var Ke;const Ot=X.transaction([No],"readwrite").objectStore(No),Bt=U.createCompositeKey(S);try{const wt=Ot.put({compositeKey:Bt,value:k});wt.onerror=ri=>{De(Fa(ri,"storage-set"))},wt.onsuccess=()=>{he()}}catch(wt){De(ii.create("storage-set",{originalErrorMessage:null===(Ke=wt)||void 0===Ke?void 0:Ke.message}))}})})()}delete(S){var k=this;return(0,O.Z)(function*(){const U=yield k.openDbPromise;return new Promise((X,he)=>{var De;const vt=U.transaction([No],"readwrite").objectStore(No),Ot=k.createCompositeKey(S);try{const Bt=vt.delete(Ot);Bt.onerror=wt=>{he(Fa(wt,"storage-delete"))},Bt.onsuccess=()=>{X()}}catch(Bt){he(ii.create("storage-delete",{originalErrorMessage:null===(De=Bt)||void 0===De?void 0:De.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Lo{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,O.Z)(function*(){const k=S.storage.getLastFetchStatus(),U=S.storage.getLastSuccessfulFetchTimestampMillis(),X=S.storage.getActiveConfig(),he=yield k;he&&(S.lastFetchStatus=he);const De=yield U;De&&(S.lastSuccessfulFetchTimestampMillis=De);const Ke=yield X;Ke&&(S.activeConfig=Ke)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function q_(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,O.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function td(){(0,ue._registerComponent)(new we.wA("remote-config",function T(S,{instanceIdentifier:k}){const U=S.getProvider("app").getImmediate(),X=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ii.create("registration-window");if(!(0,fe.hl)())throw ii.create("indexed-db-unavailable");const{projectId:he,apiKey:De,appId:Ke}=U.options;if(!he)throw ii.create("registration-project-id");if(!De)throw ii.create("registration-api-key");if(!Ke)throw ii.create("registration-app-id");const vt=new Nc(Ke,U.name,k=k||"firebase"),Ot=new Lo(vt),Bt=new ve.Yd(ns);Bt.logLevel=ve.in.ERROR;const wt=new Ks(X,ue.SDK_VERSION,k,he,De,Ke),ri=new rs(wt,vt),ji=new li(ri,vt,Ot,Bt),ho=new yg(U,ji,Ot,vt,Bt);return function en(T){const S=(0,fe.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(ho),ho},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(ns,"0.3.11"),(0,ue.registerVersion)(ns,"0.3.11","esm2017")}();const Fi="/firebase-messaging-sw.js",Bo="/firebase-cloud-messaging-push-scope",Ts="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vl="google.c.a.c_id",Lc="google.c.a.c_l",Vc="google.c.a.ts",Uo="google.c.a.e";var _r=(()=>{return(T=_r||(_r={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",_r;var T})();function ss(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lr(T){const k=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),X=new Uint8Array(U.length);for(let he=0;he<U.length;++he)X[he]=U.charCodeAt(he);return X}const Ys="fcm_token_details_db",Ho="fcm_token_object_Store";function wg(T){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,O.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Ys))return null;let S=null;return(yield(0,_e.X3)(Ys,5,{upgrade:(U=(0,O.Z)(function*(X,he,De,Ke){var vt;if(he<2||!X.objectStoreNames.contains(Ho))return;const Ot=Ke.objectStore(Ho),Bt=yield Ot.index("fcmSenderId").get(T);if(yield Ot.clear(),Bt)if(2===he){const wt=Bt;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;S={token:wt.fcmToken,createTime:null!==(vt=wt.createTime)&&void 0!==vt?vt:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:ss(wt.vapidKey)}}}else if(3===he){const wt=Bt;S={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:ss(wt.auth),p256dh:ss(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:ss(wt.vapidKey)}}}else if(4===he){const wt=Bt;S={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:ss(wt.auth),p256dh:ss(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:ss(wt.vapidKey)}}}}),function(he,De,Ke,vt){return U.apply(this,arguments)})})).close(),yield(0,_e.Lj)(Ys),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),Gn(S)?S:null;var U}),Bc.apply(this,arguments)}function Gn(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ar="firebase-messaging-store";let Ni=null;function Bl(){return Ni||(Ni=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(Ar)}})),Ni}function Qs(T){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,O.Z)(function*(T){const S=vr(T),U=yield(yield Bl()).transaction(Ar).objectStore(Ar).get(S);if(U)return U;{const X=yield wg(T.appConfig.senderId);if(X)return yield hn(T,X),X}})).apply(this,arguments)}function hn(T,S){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,O.Z)(function*(T,S){const k=vr(T),X=(yield Bl()).transaction(Ar,"readwrite");return yield X.objectStore(Ar).put(S,k),yield X.done,S})).apply(this,arguments)}function Ss(T){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,O.Z)(function*(T){const S=vr(T),U=(yield Bl()).transaction(Ar,"readwrite");yield U.objectStore(Ar).delete(S),yield U.done})).apply(this,arguments)}function vr({appConfig:T}){return T.appId}const Yn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vt(T,S){return Va.apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(T,S){var k;const U=yield Ha(T),X=Ne(S),he={method:"POST",headers:U,body:JSON.stringify(X)};let De;try{De=yield(yield fetch(Js(T.appConfig),he)).json()}catch(Ke){throw Yn.create("token-subscribe-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(De.error)throw Yn.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw Yn.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function Cg(T,S){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,O.Z)(function*(T,S){var k;const U=yield Ha(T),X=Ne(S.subscriptionOptions),he={method:"PATCH",headers:U,body:JSON.stringify(X)};let De;try{De=yield(yield fetch(`${Js(T.appConfig)}/${S.token}`,he)).json()}catch(Ke){throw Yn.create("token-update-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(De.error)throw Yn.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw Yn.create("token-update-no-token");return De.token})).apply(this,arguments)}function rd(T,S){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(T,S){var k;const X={method:"DELETE",headers:yield Ha(T)};try{const De=yield(yield fetch(`${Js(T.appConfig)}/${S}`,X)).json();if(De.error)throw Yn.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(he){throw Yn.create("token-unsubscribe-failed",{errorInfo:null===(k=he)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Js({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Ha(T){return zo.apply(this,arguments)}function zo(){return(zo=(0,O.Z)(function*({appConfig:T,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ne({p256dh:T,auth:S,endpoint:k,vapidKey:U}){const X={web:{endpoint:k,auth:S,p256dh:T}};return U!==Ts&&(X.web.applicationPubKey=U),X}const sn=6048e5;function zh(T){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(T){const S=yield jh(T.swRegistration,T.vapidKey),k={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:ss(S.getKey("auth")),p256dh:ss(S.getKey("p256dh"))},U=yield Qs(T.firebaseDependencies);if(U){if(Eg(U.subscriptionOptions,k))return Date.now()>=U.createTime+sn?Ul(T,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield rd(T.firebaseDependencies,U.token)}catch(X){console.warn(X)}return Hl(T.firebaseDependencies,k)}return Hl(T.firebaseDependencies,k)})).apply(this,arguments)}function ci(T){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(T){const S=yield Qs(T.firebaseDependencies);S&&(yield rd(T.firebaseDependencies,S.token),yield Ss(T.firebaseDependencies));const k=yield T.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Ul(T,S){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,O.Z)(function*(T,S){try{const k=yield Cg(T.firebaseDependencies,S),U=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield hn(T.firebaseDependencies,U),k}catch(k){throw yield ci(T),k}})).apply(this,arguments)}function Hl(T,S){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(T,S){const U={token:yield Vt(T,S),createTime:Date.now(),subscriptionOptions:S};return yield hn(T,U),U.token})).apply(this,arguments)}function jh(T,S){return za.apply(this,arguments)}function za(){return(za=(0,O.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lr(S)})})).apply(this,arguments)}function Eg(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function Xs(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function ui(T,S){if(!S.notification)return;T.notification={};const k=S.notification.title;k&&(T.notification.title=k);const U=S.notification.body;U&&(T.notification.body=U);const X=S.notification.image;X&&(T.notification.image=X)}(S,T),function Br(T,S){!S.data||(T.data=S.data)}(S,T),function ja(T,S){var k,U,X,he,De;if(!(S.fcmOptions||null!==(k=S.notification)&&void 0!==k&&k.click_action))return;T.fcmOptions={};const Ke=null!==(X=null===(U=S.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==X?X:null===(he=S.notification)||void 0===he?void 0:he.click_action;Ke&&(T.fcmOptions.link=Ke);const vt=null===(De=S.fcmOptions)||void 0===De?void 0:De.analytics_label;vt&&(T.fcmOptions.analyticsLabel=vt)}(S,T),S}function $a(T){return"object"==typeof T&&!!T&&Vl in T}function os(T,S){const k=[];for(let U=0;U<T.length;U++)k.push(T.charAt(U)),U<S.length&&k.push(S.charAt(U));return k.join("")}function zc(T){return Yn.create("missing-app-config-values",{valueName:T})}os("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),os("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class od{constructor(S,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function sd(T){if(!T||!T.options)throw zc("App Configuration Object");if(!T.name)throw zc("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=T;for(const U of S)if(!k[U])throw zc(U);return{appName:T.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:X,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function $h(T){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,O.Z)(function*(T){var S;try{T.swRegistration=yield navigator.serviceWorker.register(Fi,{scope:Bo}),T.swRegistration.update().catch(()=>{})}catch(k){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=k)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function jc(T,S){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield $h(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function $c(T,S){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,O.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=Ts)})).apply(this,arguments)}function Zo(){return(Zo=(0,O.Z)(function*(T,S){if(!navigator)throw Yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yn.create("permission-blocked");return yield $c(T,S?.vapidKey),yield jc(T,S?.serviceWorkerRegistration),zh(T)})).apply(this,arguments)}function Gh(T,S,k){return Za.apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(T,S,k){const U=Wh(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[Vl],message_name:k[Lc],message_time:k[Vc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wh(T){switch(T){case _r.NOTIFICATION_CLICKED:return"notification_open";case _r.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ds(){return(Ds=(0,O.Z)(function*(T,S){const k=S.data;if(!k.isFirebaseMessaging)return;T.onMessageHandler&&k.messageType===_r.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Xs(k)):T.onMessageHandler.next(Xs(k)));const U=k.data;$a(U)&&"1"===U[Uo]&&(yield Gh(T,k.messageType,U))})).apply(this,arguments)}const xs="@firebase/messaging",Hn=T=>{const S=new od(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function ld(T,S){return Ds.apply(this,arguments)}(S,k)),S},as=T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:U=>function ad(T,S){return Zo.apply(this,arguments)}(S,U)}};function ud(){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,O.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zn(){(0,ue._registerComponent)(new we.wA("messaging",Hn,"PUBLIC")),(0,ue._registerComponent)(new we.wA("messaging-internal",as,"PRIVATE")),(0,ue.registerVersion)(xs,"0.9.16"),(0,ue.registerVersion)(xs,"0.9.16","esm2017")}();const Ko="analytics",pd="firebase_id",Kc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fd="https://www.googletagmanager.com/gtag/js",Qn=new ve.Yd("@firebase/analytics");function zl(T){return Promise.all(T.map(S=>S.catch(k=>k)))}function jl(T,S){const k=document.createElement("script");k.src=`${fd}?l=${T}&id=${S}`,k.async=!0,document.head.appendChild(k)}function qh(T,S,k,U,X,he){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(T,S,k,U,X,he){const De=U[X];try{if(De)yield S[De];else{const vt=(yield zl(k)).find(Ot=>Ot.measurementId===X);vt&&(yield S[vt.appId])}}catch(Ke){Qn.error(Ke)}T("config",X,he)})).apply(this,arguments)}function ls(T,S,k,U,X){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(T,S,k,U,X){try{let he=[];if(X&&X.send_to){let De=X.send_to;Array.isArray(De)||(De=[De]);const Ke=yield zl(k);for(const vt of De){const Ot=Ke.find(wt=>wt.measurementId===vt),Bt=Ot&&S[Ot.appId];if(!Bt){he=[];break}he.push(Bt)}}0===he.length&&(he=Object.values(S)),yield Promise.all(he),T("event",U,X||{})}catch(he){Qn.error(he)}})).apply(this,arguments)}function gd(){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(fd))return S;return null}const di=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qa=new class Qc{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Yo(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Qh(T){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,O.Z)(function*(T){var S;const{appId:k,apiKey:U}=T,X={method:"GET",headers:Yo(U)},he=Kc.replace("{app-id}",k),De=yield fetch(he,X);if(200!==De.status&&304!==De.status){let Ke="";try{const vt=yield De.json();null!==(S=vt.error)&&void 0!==S&&S.message&&(Ke=vt.error.message)}catch{}throw di.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Ke})}return De.json()})).apply(this,arguments)}function md(T){return cr.apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(T,S=Qa,k){const{appId:U,apiKey:X,measurementId:he}=T.options;if(!U)throw di.create("no-app-id");if(!X){if(he)return{measurementId:he,appId:U};throw di.create("no-api-key")}const De=S.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Ja;return setTimeout((0,O.Z)(function*(){Ke.abort()}),void 0!==k?k:6e4),_d({appId:U,apiKey:X,measurementId:he},De,Ke,S)})).apply(this,arguments)}function _d(T,S,k){return cs.apply(this,arguments)}function cs(){return(cs=(0,O.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:k},U,X=Qa){var he,De;const{appId:Ke,measurementId:vt}=T;try{yield Jc(U,S)}catch(Ot){if(vt)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${null===(he=Ot)||void 0===he?void 0:he.message}]`),{appId:Ke,measurementId:vt};throw Ot}try{const Ot=yield Qh(T);return X.deleteThrottleMetadata(Ke),Ot}catch(Ot){const Bt=Ot;if(!Gl(Bt)){if(X.deleteThrottleMetadata(Ke),vt)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Bt?.message}]`),{appId:Ke,measurementId:vt};throw Ot}const wt=503===Number(null===(De=Bt?.customData)||void 0===De?void 0:De.httpStatus)?(0,fe.$s)(k,X.intervalMillis,30):(0,fe.$s)(k,X.intervalMillis),ri={throttleEndTimeMillis:Date.now()+wt,backoffCount:k+1};return X.setThrottleMetadata(Ke,ri),Qn.debug(`Calling attemptFetch again in ${wt} millis`),_d(T,ri,U,X)}})).apply(this,arguments)}function Jc(T,S){return new Promise((k,U)=>{const X=Math.max(S-Date.now(),0),he=setTimeout(k,X);T.addEventListener(()=>{clearTimeout(he),U(di.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Gl(T){if(!(T instanceof fe.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Ja{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let to,Zl;function Qo(){return(Qo=(0,O.Z)(function*(T,S,k,U,X){if(X&&X.global)T("event",k,U);else{const he=yield S;T("event",k,Object.assign(Object.assign({},U),{send_to:he}))}})).apply(this,arguments)}function ea(T){Zl=T}function Xc(T){to=T}function Ms(){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(){var T;if(!(0,fe.hl)())return Qn.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(S){return Qn.warn(di.create("indexeddb-unavailable",{errorInfo:null===(T=S)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function na(){return(na=(0,O.Z)(function*(T,S,k,U,X,he,De){var Ke;const vt=md(T);vt.then(ji=>{k[ji.measurementId]=ji.appId,T.options.measurementId&&ji.measurementId!==T.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${ji.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ji=>Qn.error(ji)),S.push(vt);const Ot=Ms().then(ji=>{if(ji)return U.getId()}),[Bt,wt]=yield Promise.all([vt,Ot]);gd()||jl(he,Bt.measurementId),Zl&&(X("consent","default",Zl),ea(void 0)),X("js",new Date);const ri=null!==(Ke=De?.config)&&void 0!==Ke?Ke:{};return ri.origin="firebase",ri.update=!0,null!=wt&&(ri[pd]=wt),X("config",Bt.measurementId,ri),to&&(X("set",to),Xc(void 0)),Bt.measurementId})).apply(this,arguments)}class ql{constructor(S){this.app=S}_delete(){return delete Hi[this.app.options.appId],Promise.resolve()}}let Hi={},ia=[];const io={};let sa,Hr,ra="dataLayer",vd=!1;function ep(T,S,k){!function Ig(){const T=[];if((0,fe.ru)()&&T.push("This is a browser extension environment."),(0,fe.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map((U,X)=>`(${X+1}) ${U}`).join(" "),k=di.create("invalid-analytics-context",{errorInfo:S});Qn.warn(k.message)}}();const U=T.options.appId;if(!U)throw di.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw di.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hi[U])throw di.create("already-exists",{id:U});if(!vd){!function $l(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(ra);const{wrappedGtag:he,gtagCore:De}=function Ya(T,S,k,U,X){let he=function(...De){window[U].push(arguments)};return window[X]&&"function"==typeof window[X]&&(he=window[X]),window[X]=function Yc(T,S,k,U){function he(){return(he=(0,O.Z)(function*(De,Ke,vt){try{"event"===De?yield ls(T,S,k,Ke,vt):"config"===De?yield qh(T,S,k,U,Ke,vt):"consent"===De?T("consent","update",vt):T("set",Ke)}catch(Ot){Qn.error(Ot)}})).apply(this,arguments)}return function X(De,Ke,vt){return he.apply(this,arguments)}}(he,T,S,k),{gtagCore:he,wrappedGtag:window[X]}}(Hi,ia,io,ra,"gtag");Hr=he,sa=De,vd=!0}return Hi[U]=function Xh(T,S,k,U,X,he,De){return na.apply(this,arguments)}(T,ia,io,S,sa,ra,k),new ql(T)}function Y_(){return tp.apply(this,arguments)}function tp(){return(tp=(0,O.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const ht="@firebase/analytics";!function Pn(){(0,ue._registerComponent)(new we.wA(Ko,(S,{options:k})=>ep(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ue._registerComponent)(new we.wA("analytics-internal",function T(S){try{const k=S.getProvider(Ko).getImmediate();return{logEvent:(U,X,he)=>function vn(T,S,k,U){T=(0,fe.m9)(T),function Xa(T,S,k,U,X){return Qo.apply(this,arguments)}(Hr,Hi[T.app.options.appId],S,k,U).catch(X=>Qn.error(X))}(k,U,X,he)}}catch(k){throw di.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ue.registerVersion)(ht,"0.8.0"),(0,ue.registerVersion)(ht,"0.8.0","esm2017")}();var ds=N(4408),hi=N(7565);const bd=new class so extends hi.v{}(class ro extends ds.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(S,k,U):(S.flush(this),0)}});var np=N(4986),ks=N(9751),Cd=N(8505),oo=N(9468),ut=N(5363);const tu=new s.GfV("7.4.1"),zr="__angularfire_symbol__analyticsIsSupportedValue",Yl="__angularfire_symbol__analyticsIsSupported",tl="__angularfire_symbol__remoteConfigIsSupportedValue",Xn="__angularfire_symbol__remoteConfigIsSupported",nl="__angularfire_symbol__messagingIsSupportedValue",Ql="__angularfire_symbol__messagingIsSupported";function aa(T,S,k){if(S){if(1===S.length)return S[0];const he=S.filter(De=>De.app===k);if(1===he.length)return he[0]}return k.container.getProvider(T).getImmediate({optional:!0})}globalThis[Yl]||(globalThis[Yl]=Y_().then(T=>globalThis[zr]=T).catch(()=>globalThis[zr]=!1)),globalThis[Ql]||(globalThis[Ql]=ud().then(T=>globalThis[nl]=T).catch(()=>globalThis[nl]=!1)),globalThis[Xn]||(globalThis[Xn]=q_().then(T=>globalThis[tl]=T).catch(()=>globalThis[tl]=!1));const hs=(T,S)=>{const k=S?[S]:(0,H.C6)(),U=[];return k.forEach(X=>{X.container.getProvider(T).instances.forEach(De=>{U.includes(De)||U.push(De)})}),U};function kr(){}class Xl{constructor(S,k=bd){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,U){const X=this.zone;return this.delegate.schedule(function(De){X.runGuarded(()=>{S.apply(this,[De])})},k,U)}}class Rs{constructor(S){this.zone=S,this.task=null}call(S,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kr,{},kr,kr)),k.pipe((0,Cd.b)({next:U,complete:U,error:U})).subscribe(S).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ao=(()=>{class T{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Xl(Zone.current)),this.insideAngular=k.run(()=>new Xl(Zone.current,np.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(k){return new(k||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function zi(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Os(T){return zi().ngZone.runOutsideAngular(()=>T())}function Fn(T){return zi().ngZone.run(()=>T())}function pi(T){return zi(),function Ln(T){return function(k){return(k=k.lift(new Rs(T.ngZone))).pipe((0,oo.R)(T.outsideAngular),(0,ut.Q)(T.insideAngular))}}(zi())(T)}const uo=(T,S)=>function(){const U=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Fn(()=>T.apply(void 0,U))},ur=(T,S)=>function(){let k;const U=arguments;for(let he=0;he<arguments.length;he++)"function"==typeof U[he]&&(S&&(k||(k=Fn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kr,{},kr,kr)))),U[he]=uo(U[he],k));const X=Os(()=>T.apply(this,U));if(!S){if(X instanceof ks.y){const he=zi();return X.pipe((0,oo.R)(he.outsideAngular),(0,ut.Q)(he.insideAngular))}return Fn(()=>X)}return X instanceof ks.y?X.pipe(pi):X instanceof Promise?Fn(()=>new Promise((he,De)=>X.then(Ke=>Fn(()=>he(Ke)),Ke=>Fn(()=>De(Ke))))):"function"==typeof X&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),X.apply(this,arguments)}:Fn(()=>X)}},7143:(mt,Oe,N)=>{N.d(Oe,{$:()=>Js,A:()=>W,B:()=>Ve,G:()=>Po,H:()=>or,J:()=>rs,L:()=>_n,M:()=>Ll,N:()=>Na,P:()=>np,Q:()=>Vl,R:()=>Q_,T:()=>Lc,U:()=>Ts,V:()=>_r,W:()=>ss,X:()=>wg,Y:()=>La,Z:()=>Vt,_:()=>Cg,a:()=>As,a0:()=>zh,a1:()=>ci,a2:()=>Ul,a3:()=>Hl,a4:()=>jh,a5:()=>Eg,a6:()=>ui,a7:()=>Br,a8:()=>$a,a9:()=>os,aA:()=>ri,aB:()=>Ke,aC:()=>Fn,aD:()=>Os,aE:()=>Tt,aI:()=>Yo,aL:()=>Uo,aa:()=>$h,ab:()=>jc,ac:()=>$c,af:()=>Gh,ag:()=>Wh,ah:()=>ld,ak:()=>Ar,al:()=>Wc,an:()=>fd,ao:()=>qa,ap:()=>on,aq:()=>Ee,ar:()=>lt,as:()=>It,at:()=>st,au:()=>tc,av:()=>Li,aw:()=>Ue,ax:()=>ce,ay:()=>ie,az:()=>gn,b:()=>di,c:()=>Xn,d:()=>ip,e:()=>Ql,f:()=>pi,g:()=>k,h:()=>ur,i:()=>ta,j:()=>he,k:()=>cp,l:()=>Qt,m:()=>Ns,n:()=>Rw,o:()=>_e,r:()=>ds,s:()=>us,u:()=>bd,v:()=>eo});var s=N(5861),H=N(2090),O=N(9681),ue=N(655),fe=N(1877),we=N(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new fe.Yd("@firebase/auth");function rt(b,...m){be.logLevel<=fe.in.ERROR&&be.error(`Auth (${O.SDK_VERSION}): ${b}`,...m)}function st(b,...m){throw Qe(b,...m)}function Ue(b,...m){return Qe(b,...m)}function Fe(b,m,_){const C=Object.assign(Object.assign({},Ae()),{[m]:_});return new H.LL("auth","Firebase",C).create(m,{appName:b.name})}function ke(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&st(b,"argument-error"),Fe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return ct.create(b,...m)}function ce(b,m,..._){if(!b)throw Qe(m,..._)}function me(b){const m="INTERNAL ASSERTION FAILED: "+b;throw rt(m),new Error(m)}function Ee(b,m){b||me(m)}const ee=new Map;function ie(b){Ee(b instanceof Function,"Expected a class definition");let m=ee.get(b);return m?(Ee(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,ee.set(b,m),m)}function ze(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function je(){return"http:"===Et()||"https:"===Et()}function Et(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Je{constructor(m,_){this.shortDelay=m,this.longDelay=_,Ee(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(b,m){Ee(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Zn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dn=new Je(3e4,6e4);function Xt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function qt(b,m,_,C){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(b,m,_,C,M={}){return Ro(b,M,(0,s.Z)(function*(){let F={},ae={};C&&("GET"===m?ae=C:F={body:JSON.stringify(C)});const xe=(0,H.xO)(Object.assign({key:b.config.apiKey},ae)).slice(1),it=yield b._getAdditionalHeaders();return it["Content-Type"]="application/json",b.languageCode&&(it["X-Firebase-Locale"]=b.languageCode),Zn.fetch()(Fr(b,b.config.apiHost,_,xe),Object.assign({method:m,headers:it,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Ro(b,m,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,s.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},fn),m);try{const M=new rr(b),F=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const ae=yield F.json();if("needConfirmation"in ae)throw qn(b,"account-exists-with-different-credential",ae);if(F.ok&&!("errorMessage"in ae))return ae;{const xe=F.ok?ae.errorMessage:ae.error.message,[it,pt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw qn(b,"credential-already-in-use",ae);if("EMAIL_EXISTS"===it)throw qn(b,"email-already-in-use",ae);if("USER_DISABLED"===it)throw qn(b,"user-disabled",ae);const Zt=C[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw Fe(b,Zt,pt);st(b,Zt)}}catch(M){if(M instanceof H.ZR)throw M;st(b,"network-request-failed")}})).apply(this,arguments)}function Bn(b,m,_,C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(b,m,_,C,M={}){const F=yield qt(b,m,_,C,M);return"mfaPendingCredential"in F&&st(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Fr(b,m,_,C){const M=`${m}${_}?${C}`;return b.config.emulator?Sn(b.config,M):`${b.config.apiScheme}://${M}`}class rr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Ue(this.auth,"network-request-failed")),dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Ue(b,m,C);return M.customData._tokenResponse=_,M}function Lr(){return(Lr=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function at(b,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Kn(b,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ri(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Nn(){return(Nn=(0,s.Z)(function*(b,m=!1){const _=(0,H.m9)(b),C=yield _.getIdToken(m),M=yt(C);ce(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,ae=F?.sign_in_provider;return{claims:M,token:C,authTime:Ri(Mn(M.auth_time)),issuedAtTime:Ri(Mn(M.iat)),expirationTime:Ri(Mn(M.exp)),signInProvider:ae||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Mn(b){return 1e3*Number(b)}function yt(b){var m;const[_,C,M]=b.split(".");if(void 0===_||void 0===C||void 0===M)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,H.tV)(C);return F?JSON.parse(F):(rt("Failed to decode base64 JWT payload"),null)}catch(F){return rt("Caught error parsing JWT payload as JSON",null===(m=F)||void 0===m?void 0:m.toString()),null}}function Ht(b,m){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,s.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof H.ZR&&Ei(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function Ei({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Oi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,s.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class kt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ui(b){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),M=yield Ht(b,Kn(_,{idToken:C}));ce(M?.users.length,_,"internal-error");const F=M.users[0];b._notifyReloadListener(F);const ae=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?$(F.providerUserInfo):[],xe=J(b.providerData,ae),Zt=!!b.isAnonymous&&!(b.email&&F.passwordHash||xe?.length),Wn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:xe,metadata:new kt(F.createdAt,F.lastLoginAt),isAnonymous:Zt};Object.assign(b,Wn)})).apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(b){const m=(0,H.m9)(b);yield Ui(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function J(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function $(b){return b.map(m=>{var{providerId:_}=m,C=(0,ue._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function K(){return(K=(0,s.Z)(function*(b,m){const _=yield Ro(b,{},(0,s.Z)(function*(){const C=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:F}=b.config,ae=Fr(b,M,"/v1/token",`key=${F}`),xe=yield b._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Zn.fetch()(ae,{method:"POST",headers:xe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ce(m.idToken,"internal-error"),ce(typeof m.idToken<"u","internal-error"),ce(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function bt(b){const m=yt(b);return ce(m,"internal-error"),ce(typeof m.exp<"u","internal-error"),ce(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,s.Z)(function*(){return ce(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,s.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:ae}=yield function z(b,m){return K.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,F,Number(ae))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:F}=_,ae=new Y;return C&&(ce("string"==typeof C,"internal-error",{appName:m}),ae.refreshToken=C),M&&(ce("string"==typeof M,"internal-error",{appName:m}),ae.accessToken=M),F&&(ce("number"==typeof F,"internal-error",{appName:m}),ae.expirationTime=F),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return me("not implemented")}}function Re(b,m){ce("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class qe{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,F=(0,ue._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new kt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const C=yield Ht(_,_.stsTokenManager.getToken(_.auth,m));return ce(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function kn(b){return Nn.apply(this,arguments)}(this,m)}reload(){return function sr(b){return rn.apply(this,arguments)}(this)}_assign(m){this!==m&&(ce(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new qe(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,s.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Ui(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield Ht(m,function Nr(b,m){return Lr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,F,ae,xe,it,pt,Zt;const Wn=null!==(C=_.displayName)&&void 0!==C?C:void 0,yo=null!==(M=_.email)&&void 0!==M?M:void 0,sl=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,hp=null!==(ae=_.photoURL)&&void 0!==ae?ae:void 0,la=null!==(xe=_.tenantId)&&void 0!==xe?xe:void 0,vo=null!==(it=_._redirectEventId)&&void 0!==it?it:void 0,ic=null!==(pt=_.createdAt)&&void 0!==pt?pt:void 0,Mg=null!==(Zt=_.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:su,emailVerified:pp,isAnonymous:ol,providerData:fp,stsTokenManager:kg}=_;ce(su&&kg,m,"internal-error");const gp=Y.fromJSON(this.name,kg);ce("string"==typeof su,m,"internal-error"),Re(Wn,m.name),Re(yo,m.name),ce("boolean"==typeof pp,m,"internal-error"),ce("boolean"==typeof ol,m,"internal-error"),Re(sl,m.name),Re(hp,m.name),Re(la,m.name),Re(vo,m.name),Re(ic,m.name),Re(Mg,m.name);const rc=new qe({uid:su,auth:m,email:yo,emailVerified:pp,displayName:Wn,isAnonymous:ol,photoURL:hp,phoneNumber:sl,tenantId:la,stsTokenManager:gp,createdAt:ic,lastLoginAt:Mg});return fp&&Array.isArray(fp)&&(rc.providerData=fp.map(mp=>Object.assign({},mp))),vo&&(rc._redirectEventId=vo),rc}static _fromIdTokenResponse(m,_,C=!1){return(0,s.Z)(function*(){const M=new Y;M.updateFromServerResponse(_);const F=new qe({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Ui(F),F})()}}const _n=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,s.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,s.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,s.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function gn(b,m,_){return`firebase:${b}:${m}:${_}`}class oi{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:F}=this.auth;this.fullUserKey=gn(this.userKey,M.apiKey,F),this.fullPersistenceKey=gn("persistence",M.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?qe._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,s.Z)(function*(){if(!_.length)return new oi(ie(_n),m,C);const M=(yield Promise.all(_.map(function(){var pt=(0,s.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let F=M[0]||ie(_n);const ae=gn(C,m.config.apiKey,m.name);let xe=null;for(const pt of _)try{const Zt=yield pt._get(ae);if(Zt){const Wn=qe._fromJSON(m,Zt);pt!==F&&(xe=Wn),F=pt;break}}catch{}const it=M.filter(pt=>pt._shouldAllowMigration);return F._shouldAllowMigration&&it.length?(F=it[0],xe&&(yield F._set(ae,xe.toJSON())),yield Promise.all(_.map(function(){var pt=(0,s.Z)(function*(Zt){if(Zt!==F)try{yield Zt._remove(ae)}catch{}});return function(Zt){return pt.apply(this,arguments)}}())),new oi(F,m,C)):new oi(F,m,C)})()}}function se(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ye(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(j(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(At(m))return"Blackberry";if(Be(m))return"Webos";if(G(m))return"Safari";if((m.includes("chrome/")||Ie(m))&&!m.includes("edge/"))return"Chrome";if(It(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function j(b=(0,H.z$)()){return/firefox\//i.test(b)}function G(b=(0,H.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ie(b=(0,H.z$)()){return/crios\//i.test(b)}function Ye(b=(0,H.z$)()){return/iemobile/i.test(b)}function It(b=(0,H.z$)()){return/android/i.test(b)}function At(b=(0,H.z$)()){return/blackberry/i.test(b)}function Be(b=(0,H.z$)()){return/webos/i.test(b)}function lt(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function on(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function En(b=(0,H.z$)()){return lt(b)||It(b)||Be(b)||At(b)||/windows phone/i.test(b)||Ye(b)}function Rn(b,m=[]){let _;switch(b){case"Browser":_=se((0,H.z$)());break;case"Worker":_=`${se((0,H.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class $s{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=F=>new Promise((ae,xe)=>{try{ae(m(F))}catch(it){xe(it)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,s.Z)(function*(){var C;if(_.auth.currentUser===m)return;const M=[];try{for(const F of _.queue)yield F(m),F.onAbort&&M.push(F.onAbort)}catch(F){M.reverse();for(const ae of M)try{ae()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=F)||void 0===C?void 0:C.message})}})()}}class Oo{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new $s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var M,F;if(!C._deleted&&(C.persistenceManager=yield oi.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let F=M,ae=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const xe=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,it=F?._redirectEventId,pt=yield _.tryRedirectSignIn(m);(!xe||xe===it)&&pt?.user&&(F=pt.user,ae=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(ae)try{yield _.beforeStateQueue.runMiddleware(F)}catch(xe){F=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(xe))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){var C;try{yield Ui(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function nn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const C=m?(0,H.m9)(m):null;return C&&ce(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return m&&ce(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,s.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&ie(m)||_._popupRedirectResolver;ce(C,_,"argument-error"),_.redirectPersistenceManager=yield oi.create(_,[ie(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(ae,this,"internal-error"),ae.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Tt(b){return(0,H.m9)(b)}class Gs{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(_=>this.observer=_)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Po(b,m,_){const C=Tt(b);ce(C._canInitEmulator,C,"emulator-config-failed"),ce(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,F=Fl(m),{host:ae,port:xe}=function ns(b){const m=Fl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const F=M[1];return{host:F,port:ni(C.substr(F.length+1))}}{const[F,ae]=C.split(":");return{host:F,port:ni(ae)}}}(m);C.config.emulator={url:`${F}//${ae}${null===xe?"":`:${xe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ae,port:xe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ws(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Fl(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function ni(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class or{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return me("not implemented")}_getIdTokenResponse(m){return me("not implemented")}_linkToIdToken(m,_){return me("not implemented")}_getReauthenticationResolver(m){return me("not implemented")}}function fr(b,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:resetPassword",Xt(b,m))})).apply(this,arguments)}function Nl(b,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Bh(b,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:update",Xt(b,m))})).apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signInWithPassword",Xt(b,m))})).apply(this,arguments)}function Pi(b,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:sendOobCode",Xt(b,m))})).apply(this,arguments)}function is(b,m){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(b,m){return Pi(b,m)})).apply(this,arguments)}function Uh(b,m){return ai.apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(b,m){return Pi(b,m)})).apply(this,arguments)}function gr(b,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(b,m){return Pi(b,m)})).apply(this,arguments)}function Oc(b,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(b,m){return Pi(b,m)})).apply(this,arguments)}function Pc(){return(Pc=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signInWithEmailLink",Xt(b,m))})).apply(this,arguments)}function li(){return(li=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signInWithEmailLink",Xt(b,m))})).apply(this,arguments)}class Ii extends or{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new Ii(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new Ii(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function Oa(b,m){return Zs.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ar(b,m){return Pc.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:st(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return Nl(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function gg(b,m){return li.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:st(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ks(b,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signInWithIdp",Xt(b,m))})).apply(this,arguments)}class rs extends or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new rs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):st("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,F=(0,ue._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const ae=new rs(C,M);return ae.idToken=F.idToken||void 0,ae.accessToken=F.accessToken||void 0,ae.secret=F.secret,ae.nonce=F.nonce,ae.pendingToken=F.pendingToken||null,ae}_getIdTokenResponse(m){return Ks(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ks(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ks(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,H.xO)(_)}return m}}function _g(b,m){return ed.apply(this,arguments)}function ed(){return(ed=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:sendVerificationCode",Xt(b,m))})).apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,m))})).apply(this,arguments)}function Fc(){return(Fc=(0,s.Z)(function*(b,m){const _=yield Bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,m));if(_.temporaryProof)throw qn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const vg={USER_NOT_FOUND:"user-not-found"};function Nc(){return(Nc=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),vg)})).apply(this,arguments)}class Lo extends or{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Lo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Lo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function yg(b,m){return Fa.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function No(b,m){return Fc.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function bg(b,m){return Nc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}=m;return C||_||M||F?new Lo({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}):null}}class Vo{constructor(m){var _,C,M,F,ae,xe;const it=(0,H.zd)((0,H.pd)(m)),pt=null!==(_=it.apiKey)&&void 0!==_?_:null,Zt=null!==(C=it.oobCode)&&void 0!==C?C:null,Wn=function td(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=it.mode)&&void 0!==M?M:null);ce(pt&&Zt&&Wn,"argument-error"),this.apiKey=pt,this.operation=Wn,this.code=Zt,this.continueUrl=null!==(F=it.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ae=it.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(xe=it.tenantId)&&void 0!==xe?xe:null}static parseLink(m){const _=function nd(b){const m=(0,H.zd)((0,H.pd)(b)).link,_=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,C=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(C?(0,H.zd)((0,H.pd)(C)).link:null)||C||_||m||b}(m);try{return new Vo(_)}catch{return null}}}let Ll=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return Ii._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Vo.parseLink(C);return ce(M,"argument-error"),Ii._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Fi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Bo extends Fi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ts extends Bo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ce("providerId"in _&&"signInMethod"in _,"argument-error"),rs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ce(m.idToken||m.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ts.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ts.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:F,nonce:ae,providerId:xe}=m;if(!C&&!M&&!_&&!F||!xe)return null;try{return new Ts(xe)._credential({idToken:_,accessToken:C,nonce:ae,pendingToken:F})}catch{return null}}}let Na=(()=>{class b extends Bo{constructor(){super("facebook.com")}static credential(_){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Vl=(()=>{class b extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Lc=(()=>{class b extends Bo{constructor(){super("github.com")}static credential(_){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Uo extends or{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ks(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ks(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ks(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:F}=_;return C&&M&&F&&C===M?new Uo(C,F):null}static _create(m,_){return new Uo(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _r extends Fi{constructor(m){ce(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return _r.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return _r.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Uo.fromJSON(m);return ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return Uo._create(C,_)}catch{return null}}}let ss=(()=>{class b extends Bo{constructor(){super("twitter.com")}static credential(_,C){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function lr(b,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signUp",Xt(b,m))})).apply(this,arguments)}class yr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,s.Z)(function*(){const F=yield qe._fromIdTokenResponse(m,C,M),ae=Ho(C);return new yr({user:F,providerId:ae,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Ho(C);return new yr({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Ho(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function wg(b){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(b){var m;const _=Tt(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new yr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield lr(_,{returnSecureToken:!0}),M=yield yr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Gn extends H.ZR{constructor(m,_,C,M){var F;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Gn.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new Gn(m,_,C,M)}}function id(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Gn._fromErrorAndOperation(b,F,m,C):F})}function Hh(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ar(b,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(b,m){const _=(0,H.m9)(b);yield Vr(!0,_,m);const{providerUserInfo:C}=yield at(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Hh(C||[]);return _.providerData=_.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Bl(b,m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(b,m,_=!1){const C=yield Ht(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return yr._forOperation(b,"link",C)})).apply(this,arguments)}function Vr(b,m,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,s.Z)(function*(b,m,_){yield Ui(m);const M=!1===b?"provider-already-linked":"no-such-provider";ce(Hh(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function Uc(b,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(b,m,_=!1){var C;const{auth:M}=b,F="reauthenticate";try{const ae=yield Ht(b,id(M,F,m,b),_);ce(ae.idToken,M,"internal-error");const xe=yt(ae.idToken);ce(xe,M,"internal-error");const{sub:it}=xe;return ce(b.uid===it,M,"user-mismatch"),yr._forOperation(b,F,ae)}catch(ae){throw"auth/user-not-found"===(null===(C=ae)||void 0===C?void 0:C.code)&&st(M,"user-mismatch"),ae}})).apply(this,arguments)}function Hc(b,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(b,m,_=!1){const C="signIn",M=yield id(b,C,m),F=yield yr._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function La(b,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*(b,m){return Hc(Tt(b),m)})).apply(this,arguments)}function Vt(b,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,s.Z)(function*(b,m){const _=(0,H.m9)(b);return yield Vr(!1,_,m.providerId),Bl(_,m)})).apply(this,arguments)}function Cg(b,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,s.Z)(function*(b,m){return Uc((0,H.m9)(b),m)})).apply(this,arguments)}function rd(b,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(b,m){return Bn(b,"POST","/v1/accounts:signInWithCustomToken",Xt(b,m))})).apply(this,arguments)}function Js(b,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(b,m){const _=Tt(b),C=yield rd(_,{token:m,returnSecureToken:!0}),M=yield yr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class zo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Ne._fromServerResponse(m,_):st(m,"internal-error")}}class Ne extends zo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Ne(_)}}function sn(b,m,_){var C;ce((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),ce(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ce(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ce(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function zh(b,m,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&sn(C,M,_),yield Uh(C,M)})).apply(this,arguments)}function ci(b,m,_){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(b,m,_){yield fr((0,H.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Ul(b,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,s.Z)(function*(b,m){yield Bh((0,H.m9)(b),{oobCode:m})})).apply(this,arguments)}function Hl(b,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(b,m){const _=(0,H.m9)(b),C=yield fr(_,{oobCode:m}),M=C.requestType;switch(ce(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(C.mfaInfo,_,"internal-error");default:ce(C.email,_,"internal-error")}let F=null;return C.mfaInfo&&(F=zo._fromServerResponse(Tt(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function jh(b,m){return za.apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(b,m){const{data:_}=yield Hl((0,H.m9)(b),m);return _.email})).apply(this,arguments)}function Eg(b,m,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(b,m,_){const C=Tt(b),M=yield lr(C,{returnSecureToken:!0,email:m,password:_}),F=yield yr._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(F.user),F})).apply(this,arguments)}function ui(b,m,_){return La((0,H.m9)(b),Ll.credential(m,_))}function Br(b,m,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};ce(_.handleCodeInApp,C,"argument-error"),_&&sn(C,M,_),yield gr(C,M)})).apply(this,arguments)}function $a(b,m){return"EMAIL_SIGNIN"===Vo.parseLink(m)?.operation}function os(b,m,_){return sd.apply(this,arguments)}function sd(){return(sd=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b),M=Ll.credentialWithLink(m,_||ze());return ce(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),La(C,M)})).apply(this,arguments)}function zc(b,m){return od.apply(this,arguments)}function od(){return(od=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:createAuthUri",Xt(b,m))})).apply(this,arguments)}function $h(b,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,s.Z)(function*(b,m){const C={identifier:m,continueUri:je()?ze():"http://localhost"},{signinMethods:M}=yield zc((0,H.m9)(b),C);return M||[]})).apply(this,arguments)}function jc(b,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(b,m){const _=(0,H.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&sn(_.auth,M,m);const{email:F}=yield is(_.auth,M);F!==b.email&&(yield b.reload())})).apply(this,arguments)}function $c(b,m,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&sn(C.auth,F,_);const{email:ae}=yield Oc(C.auth,F);ae!==b.email&&(yield b.reload())})).apply(this,arguments)}function ad(b,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,s.Z)(function*(b,m){return qt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Gh(b,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,H.m9)(b),F={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ae=yield Ht(C,ad(C.auth,F));C.displayName=ae.displayName||null,C.photoURL=ae.photoUrl||null;const xe=C.providerData.find(({providerId:it})=>"password"===it);xe&&(xe.displayName=C.displayName,xe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ae)})).apply(this,arguments)}function Wh(b,m){return Ds((0,H.m9)(b),m,null)}function ld(b,m){return Ds((0,H.m9)(b),null,m)}function Ds(b,m,_){return xs.apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(b,m,_){const{auth:C}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const ae=yield Ht(b,Nl(C,F));yield b._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class Hn{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class as extends Hn{constructor(m,_,C,M){super(m,_,C),this.username=M}}class zn extends Hn{constructor(m,_){super(m,"facebook.com",_)}}class ud extends as{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Gc extends Hn{constructor(m,_){super(m,"google.com",_)}}class Zh extends as{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Wc(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function cd(b){var m,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const ae=null===(_=null===(m=yt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ae)return new Hn(F,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!C)return null;switch(C){case"facebook.com":return new zn(F,M);case"github.com":return new ud(F,M);case"google.com":return new Gc(F,M);case"twitter.com":return new Zh(F,M,b.screenName||null);case"custom":case"anonymous":return new Hn(F,null);default:return new Hn(F,C,M)}}(_)}function eo(b,m,_,C){return(0,H.m9)(b).onAuthStateChanged(m,_,C)}class br{constructor(m,_,C){this.type=m,this.credential=_,this.auth=C}static _fromIdtoken(m,_){return new br("enroll",m,_)}static _fromMfaPendingCredential(m){return new br("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return br._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return br._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Kc{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Tt(m),M=_.customData._serverResponse,F=(M.mfaInfo||[]).map(xe=>zo._fromServerResponse(C,xe));ce(M.mfaPendingCredential,C,"internal-error");const ae=br._fromMfaPendingCredential(M.mfaPendingCredential);return new Kc(ae,F,function(){var xe=(0,s.Z)(function*(it){const pt=yield it._process(C,ae);delete M.mfaInfo,delete M.mfaPendingCredential;const Zt=Object.assign(Object.assign({},M),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(_.operationType){case"signIn":const Wn=yield yr._fromIdTokenResponse(C,_.operationType,Zt);return yield C._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return ce(_.user,C,"internal-error"),yr._forOperation(_.user,_.operationType,Zt);default:st(C,"internal-error")}});return function(it){return xe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function fd(b,m){var _;const C=(0,H.m9)(b),M=m;return ce(m.customData.operationType,C,"argument-error"),ce(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Kc._fromError(C,M)}function Qn(b,m){return qt(b,"POST","/v2/accounts/mfaEnrollment:start",Xt(b,m))}class $l{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>zo._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new $l(m)}getSession(){var m=this;return(0,s.Z)(function*(){return br._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var C=this;return(0,s.Z)(function*(){const M=m,F=yield C.getSession(),ae=yield Ht(C.user,M._process(C.user.auth,F,_));return yield C.user._updateTokensIfNecessary(ae),C.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,F=yield _.user.getIdToken(),ae=yield Ht(_.user,function jl(b,m){return qt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(b,m))}(_.user.auth,{idToken:F,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:xe})=>xe!==M),yield _.user._updateTokensIfNecessary(ae);try{yield _.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(C=xe)||void 0===C?void 0:C.code))throw xe}})()}}const qh=new WeakMap;function qa(b){const m=(0,H.m9)(b);return qh.has(m)||qh.set(m,$l._fromUser(m)),qh.get(m)}const ls="__sak";class Ka{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const di=(()=>{class b extends Ka{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yc(){const b=(0,H.z$)();return G(b)||lt(b)}()&&function ts(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=En(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),F=this.localCache[C];M!==F&&_(C,F,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((xe,it,pt)=>{this.notifyListeners(xe,pt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(M);if(_.newValue!==xe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const F=()=>{const xe=this.storage.getItem(M);!C&&this.localCache[M]===xe||this.notifyListeners(M,xe)},ae=this.storage.getItem(M);!function Gt(){return(0,H.w1)()&&10===document.documentMode}()||ae===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,F=this;return(0,s.Z)(function*(){yield M().call(F,_,C),F.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,s.Z)(function*(){const F=yield C().call(M,_);return M.localCache[_]=JSON.stringify(F),F})()}_remove(_){var C=()=>super._remove,M=this;return(0,s.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),As=(()=>{class b extends Ka{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Qa=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(F=>F.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,s.Z)(function*(){const M=_,{eventId:F,eventType:ae,data:xe}=M.data,it=C.handlersMap[ae];if(!it?.size)return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:ae});const pt=Array.from(it).map(function(){var Wn=(0,s.Z)(function*(yo){return yo(M.origin,xe)});return function(yo){return Wn.apply(this,arguments)}}()),Zt=yield function Qc(b){return Promise.all(b.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(pt);M.ports[0].postMessage({status:"done",eventId:F,eventType:ae,response:Zt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Yo(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class Qh{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,s.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ae,xe;return new Promise((it,pt)=>{const Zt=Yo("",20);F.port1.start();const Wn=setTimeout(()=>{pt(new Error("unsupported_event"))},C);xe={messageChannel:F,onMessage(yo){const sl=yo;if(sl.data.eventId===Zt)switch(sl.data.status){case"ack":clearTimeout(Wn),ae=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),it(sl.data.response);break;default:clearTimeout(Wn),clearTimeout(ae),pt(new Error("invalid_response"))}}},M.handlers.add(xe),F.port1.addEventListener("message",xe.onMessage),M.target.postMessage({eventType:m,eventId:Zt,data:_},[F.port2])}).finally(()=>{xe&&M.removeMessageHandler(xe)})})()}}function Jn(){return window}function cr(){return typeof Jn().WorkerGlobalScope<"u"&&"function"==typeof Jn().importScripts}function cs(){return(cs=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ja="firebaseLocalStorageDb",Xa="firebaseLocalStorage",Qo="fbase_key";class no{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jo(b,m){return b.transaction([Xa],m?"readwrite":"readonly").objectStore(Xa)}function Wl(){const b=indexedDB.open(Ja,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Xa,{keyPath:Qo})}catch(M){_(M)}}),b.addEventListener("success",(0,s.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Xa)?m(C):(C.close(),yield function yd(){const b=indexedDB.deleteDatabase(Ja);return new no(b).toPromise()}(),m(yield Wl()))}))})}function el(b,m,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,s.Z)(function*(b,m,_){const C=Jo(b,!0).put({[Qo]:m,value:_});return new no(C).toPromise()})).apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(b,m){const _=Jo(b,!1).get(m),C=yield new no(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Zl(b,m){const _=Jo(b,!0).delete(m);return new no(_).toPromise()}const ta=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield Wl()),_.db})()}_withRetries(_){var C=this;return(0,s.Z)(function*(){let M=0;for(;;)try{const F=yield C._openDb();return yield _(F)}catch(F){if(M++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return cr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=Qa._getInstance(function Gl(){return cr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(M,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(M,F){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function _d(){return cs.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Qh(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(C=F[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=F[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Jc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Wl();return yield el(_,ls,"1"),yield Zl(_,ls),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,s.Z)(function*(){return M._withPendingWrite((0,s.Z)(function*(){return yield M._withRetries(F=>el(F,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,s.Z)(function*(){const M=yield C._withRetries(F=>function Jh(b,m){return Xo.apply(this,arguments)}(F,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(M=>Zl(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const C=yield _._withRetries(ae=>{const xe=Jo(ae,!1).getAll();return new no(xe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:ae,value:xe}of C)F.add(ae),JSON.stringify(_.localCache[ae])!==JSON.stringify(xe)&&(_.notifyListeners(ae,xe),M.push(ae));for(const ae of Object.keys(_.localCache))_.localCache[ae]&&!F.has(ae)&&(_.notifyListeners(ae,null),M.push(ae));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Xh(b,m){return qt(b,"POST","/v2/accounts/mfaSignIn:start",Xt(b,m))}function Hi(){return(Hi=(0,s.Z)(function*(b){return(yield qt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function io(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const F=Ue("internal-error");F.customData=M,_(F)},C.type="text/javascript",C.charset="UTF-8",function ia(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function ra(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Hr=1e12;class vd{constructor(m){this.auth=m,this.counter=Hr,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new On(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||Hr;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Hr))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var C;return null===(C=_._widgets.get(m||Hr))||void 0===C||C.execute(),""})()}}class On{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;ce(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ig(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ep=ra("rcb"),Tw=new Je(3e4,6e4);class Y_{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Jn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return ce(function tp(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Jn().grecaptcha):new Promise((C,M)=>{const F=Jn().setTimeout(()=>{M(Ue(m,"network-request-failed"))},Tw.get());Jn()[ep]=()=>{Jn().clearTimeout(F),delete Jn()[ep];const xe=Jn().grecaptcha;if(!xe)return void M(Ue(m,"internal-error"));const it=xe.render;xe.render=(pt,Zt)=>{const Wn=it(pt,Zt);return this.counter++,Wn},this.hostLanguage=_,C(xe)},io(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:ep,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),M(Ue(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Jn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sw{load(m){return(0,s.Z)(function*(){return new vd(m)})()}clearedOneInstance(){}}const Kl="recaptcha",Dw={theme:"light",type:"image"};class Q_{constructor(m,_=Object.assign({},Dw),C){this.parameters=_,this.type=Kl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tt(C),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;ce(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sw:new Y_,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(F=>{const ae=xe=>{!xe||(m.tokenChangeListeners.delete(ae),F(xe))};m.tokenChangeListeners.add(ae),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Jn()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){ce(je()&&!cr(),m.auth,"internal-error"),yield function Ti(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function ql(b){return Hi.apply(this,arguments)}(m.auth);ce(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vn{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Lo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function us(b,m,_){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(b,m,_){const C=Tt(b),M=yield hi(C,m,(0,H.m9)(_));return new vn(M,F=>La(C,F))})).apply(this,arguments)}function Qt(b,m,_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b);yield Vr(!1,C,"phone");const M=yield hi(C.auth,m,(0,H.m9)(_));return new vn(M,F=>Vt(C,F))})).apply(this,arguments)}function ds(b,m,_){return ro.apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b),M=yield hi(C.auth,m,(0,H.m9)(_));return new vn(M,F=>Cg(C,F))})).apply(this,arguments)}function hi(b,m,_){return so.apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(b,m,_){var C;const M=yield _.verify();try{let F;if(ce("string"==typeof M,b,"argument-error"),ce(_.type===Kl,b,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const ae=F.session;if("phoneNumber"in F)return ce("enroll"===ae.type,b,"internal-error"),(yield Qn(b,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ce("signin"===ae.type,b,"internal-error");const xe=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return ce(xe,b,"missing-multi-factor-info"),(yield Xh(b,{mfaPendingCredential:ae.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield _g(b,{phoneNumber:F.phoneNumber,recaptchaToken:M});return ae}}finally{_._reset()}})).apply(this,arguments)}function bd(b,m){return wd.apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(b,m){yield Bl((0,H.m9)(b),m)})).apply(this,arguments)}let np=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Tt(_)}verifyPhoneNumber(_,C){return hi(this.auth,_,(0,H.m9)(C))}static credential(_,C){return Lo._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Lo._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ks(b,m){return m?ie(m):(ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Cd extends or{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ks(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ks(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ks(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function oo(b){return Hc(b.auth,new Cd(b),b.bypassAuthState)}function ut(b){const{auth:m,user:_}=b;return ce(_,m,"internal-error"),Uc(_,new Cd(b),b.bypassAuthState)}function tu(b){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(b){const{auth:m,user:_}=b;return ce(_,m,"internal-error"),Bl(_,new Cd(b),b.bypassAuthState)})).apply(this,arguments)}class Yl{constructor(m,_,C,M,F=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:F,tenantId:ae,error:xe,type:it}=m;if(xe)return void _.reject(xe);const pt={auth:_.auth,requestUri:C,sessionId:M,tenantId:ae||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(it)(pt))}catch(Zt){_.reject(Zt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return oo;case"linkViaPopup":case"linkViaRedirect":return tu;case"reauthViaPopup":case"reauthViaRedirect":return ut;default:st(this.auth,"internal-error")}}resolve(m){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tl=new Je(2e3,1e4);function Xn(b,m,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,s.Z)(function*(b,m,_){const C=Tt(b);ke(b,m,Fi);const M=ks(C,_);return new Jl(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Ql(b,m,_){return il.apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b);ke(C.auth,m,Fi);const M=ks(C.auth,_);return new Jl(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function ip(b,m,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b);ke(C.auth,m,Fi);const M=ks(C.auth,_);return new Jl(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let Jl=(()=>{class b extends Yl{constructor(_,C,M,F,ae){super(_,C,F,ae),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const C=yield _.execute();return ce(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,s.Z)(function*(){Ee(1===_.filter.length,"Popup operations only handle one event");const C=Yo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Ue(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,tl.get())};_()}}return b.currentPopupAction=null,b})();const hs=new Map;class kr extends Yl{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let C=hs.get(_.auth._key());if(!C){try{const F=(yield function Xl(b,m){return Rs.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(F)}catch(M){C=()=>Promise.reject(M)}hs.set(_.auth._key(),C)}return _.bypassAuthState||hs.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Rs(){return(Rs=(0,s.Z)(function*(b,m){const _=co(m),C=lo(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function ao(b,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,s.Z)(function*(b,m){return lo(b)._set(co(m),"true")})).apply(this,arguments)}function Os(){hs.clear()}function Fn(b,m){hs.set(b._key(),m)}function lo(b){return ie(b._redirectPersistence)}function co(b){return gn("pendingRedirect",b.config.apiKey,b.name)}function pi(b,m,_){return function Ln(b,m,_){return uo.apply(this,arguments)}(b,m,_)}function uo(){return(uo=(0,s.Z)(function*(b,m,_){const C=Tt(b);ke(b,m,Fi);const M=ks(C,_);return yield ao(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function ur(b,m,_){return function T(b,m,_){return S.apply(this,arguments)}(b,m,_)}function S(){return(S=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b);ke(C.auth,m,Fi);const M=ks(C.auth,_);yield ao(M,C.auth);const F=yield Ot(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function k(b,m,_){return function U(b,m,_){return X.apply(this,arguments)}(b,m,_)}function X(){return(X=(0,s.Z)(function*(b,m,_){const C=(0,H.m9)(b);ke(C.auth,m,Fi);const M=ks(C.auth,_);yield Vr(!1,C,m.providerId),yield ao(M,C.auth);const F=yield Ot(C);return M._openRedirect(C.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function he(b,m){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(b,m){return yield Tt(b)._initializationPromise,Ke(b,m,!1)})).apply(this,arguments)}function Ke(b,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(b,m,_=!1){const C=Tt(b),M=ks(C,m),ae=yield new kr(C,M,_).execute();return ae&&!_&&(delete ae.user._redirectEventId,yield C._persistUserIfCurrent(ae.user),yield C._setRedirectUser(null,m)),ae})).apply(this,arguments)}function Ot(b){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(b){const m=Yo(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class ri{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function jt(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ho(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!ho(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Ue(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ji(m))}saveEventToCache(m){this.cachedEventUids.add(ji(m)),this.lastProcessedEventTime=Date.now()}}function ji(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function ho({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Li(b){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(b,m={}){return qt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Ps=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ec=/^https?/;function Si(){return(Si=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Li(b);for(const _ of m)try{if(Ed(_))return}catch{}st(b,"unauthorized-domain")})).apply(this,arguments)}function Ed(b){const m=ze(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const ae=new URL(b);return""===ae.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ae.hostname===C}if(!ec.test(_))return!1;if(Ps.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const Tg=new Je(3e4,6e4);function rp(){const b=Jn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ei=null;function fo(b){return ei=ei||function xw(b){return new Promise((m,_)=>{var C,M,F;function ae(){rp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{rp(),_(Ue(b,"network-request-failed"))},timeout:Tg.get()})}if(null!==(M=null===(C=Jn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(F=Jn().gapi)||void 0===F||!F.load){const xe=ra("iframefcb");return Jn()[xe]=()=>{gapi.load?ae():_(Ue(b,"network-request-failed"))},io(`https://apis.google.com/js/api.js?onload=${xe}`).catch(it=>_(it))}ae()}}).catch(m=>{throw ei=null,m})}(b),ei}const sp=new Je(5e3,15e3),op={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ap(b){const m=b.config;ce(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?Sn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:O.SDK_VERSION},M=J_.get(b.config.apiHost);M&&(C.eid=M);const F=b._getFrameworks();return F.length&&(C.fw=F.join(",")),`${_}?${(0,H.xO)(C).slice(1)}`}function Id(){return Id=(0,s.Z)(function*(b){const m=yield fo(b),_=Jn().gapi;return ce(_,b,"internal-error"),m.open({where:document.body,url:ap(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:op,dontclear:!0},C=>new Promise(function(){var M=(0,s.Z)(function*(F,ae){yield C.restyle({setHideOnLeave:!1});const xe=Ue(b,"network-request-failed"),it=Jn().setTimeout(()=>{ae(xe)},sp.get());function pt(){Jn().clearTimeout(it),F(C)}C.ping(pt).then(pt,()=>{ae(xe)})});return function(F,ae){return M.apply(this,arguments)}}()))}),Id.apply(this,arguments)}const nu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class iu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tc(b,m,_,C,M,F){ce(b.config.authDomain,b,"auth-domain-config-required"),ce(b.config.apiKey,b,"invalid-api-key");const ae={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:M};if(m instanceof Fi){m.setDefaultLanguage(b.languageCode),ae.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(ae.customParameters=JSON.stringify(m.getCustomParameters()));for(const[it,pt]of Object.entries(F||{}))ae[it]=pt}if(m instanceof Bo){const it=m.getScopes().filter(pt=>""!==pt);it.length>0&&(ae.scopes=it.join(","))}b.tenantId&&(ae.tid=b.tenantId);const xe=ae;for(const it of Object.keys(xe))void 0===xe[it]&&delete xe[it];return`${function Ag({config:b}){return b.emulator?Sn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,H.xO)(xe).slice(1)}`}const nc="webStorageSupport",cp=class ru{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=Ke,this._overrideRedirectResult=Fn}_openPopup(m,_,C,M){var F=this;return(0,s.Z)(function*(){var ae;Ee(null===(ae=F.eventManagers[m._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const xe=tc(m,_,C,ze(),M);return function Sd(b,m,_,C=500,M=600){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),ae=Math.max((window.screen.availWidth-C)/2,0).toString();let xe="";const it=Object.assign(Object.assign({},nu),{width:C.toString(),height:M.toString(),top:F,left:ae}),pt=(0,H.z$)().toLowerCase();_&&(xe=Ie(pt)?"_blank":_),j(pt)&&(m=m||"http://localhost",it.scrollbars="yes");const Zt=Object.entries(it).reduce((yo,[sl,hp])=>`${yo}${sl}=${hp},`,"");if(function Un(b=(0,H.z$)()){var m;return lt(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(pt)&&"_self"!==xe)return function mo(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",xe),new iu(null);const Wn=window.open(m||"",xe,Zt);ce(Wn,b,"popup-blocked");try{Wn.focus()}catch{}return new iu(Wn)}(m,xe,Yo())})()}_openRedirect(m,_,C,M){var F=this;return(0,s.Z)(function*(){return yield F._originValidation(m),function md(b){Jn().location.href=b}(tc(m,_,C,ze(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:F}=this.eventManagers[_];return M?Promise.resolve(M):(Ee(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const C=yield function Dg(b){return Id.apply(this,arguments)}(m),M=new ri(m);return C.register("authEvent",F=>(ce(F?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(nc,{type:nc},M=>{var F;const ae=null===(F=M?.[0])||void 0===F?void 0:F[nc];void 0!==ae&&_(!!ae),st(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Fs(b){return Si.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return En()||G()||lt()}};class up extends class Dd{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return me("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new up(m)}_finalizeEnroll(m,_,C){return function zl(b,m){return qt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function na(b,m){return qt(b,"POST","/v2/accounts/mfaSignIn:finalize",Xt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ns=(()=>{class b{constructor(){}static assertion(_){return up._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var _o="@firebase/auth";class X_{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rw(b=(0,O.getApp)()){const m=(0,O._getProvider)(b,"auth");return m.isInitialized()?m.getImmediate():function ye(b,m){const _=(0,O._getProvider)(b,"auth");if(_.isInitialized()){const M=_.getImmediate(),F=_.getOptions();if((0,H.vZ)(F,m??{}))return M;st(M,"already-initialized")}return _.initialize({options:m})}(b,{popupRedirectResolver:cp,persistence:[ta,di,As]})}!function kw(b){(0,O._registerComponent)(new we.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:F,authDomain:ae}=C.options;return((xe,it)=>{ce(F&&!F.includes(":"),"invalid-api-key",{appName:xe.name}),ce(!ae?.includes(":"),"argument-error",{appName:xe.name});const pt={apiKey:F,authDomain:ae,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rn(b)},Zt=new Oo(xe,it,pt);return function de(b,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(ie);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(Zt,_),Zt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new we.wA("auth-internal",m=>{const _=Tt(m.getProvider("auth").getImmediate());return new X_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(_o,"0.20.7",function Mw(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,O.registerVersion)(_o,"0.20.7","esm2017")}("Browser")},2090:(mt,Oe,N)=>{N.d(Oe,{$s:()=>Ui,BH:()=>Ge,G6:()=>ce,L:()=>_e,LL:()=>ze,Sg:()=>Ve,UG:()=>Te,US:()=>we,ZB:()=>W,ZR:()=>de,b$:()=>st,eu:()=>Ee,hl:()=>me,jU:()=>be,m9:()=>rn,ne:()=>Lr,pd:()=>qn,r3:()=>Xt,ru:()=>rt,tV:()=>Ce,uI:()=>ct,vZ:()=>ki,w1:()=>Fe,xO:()=>Fr,xb:()=>Mi,z$:()=>Ae,zI:()=>ee,zd:()=>rr});const ue=function(J){const $=[];let z=0;for(let K=0;K<J.length;K++){let Y=J.charCodeAt(K);Y<128?$[z++]=Y:Y<2048?($[z++]=Y>>6|192,$[z++]=63&Y|128):55296==(64512&Y)&&K+1<J.length&&56320==(64512&J.charCodeAt(K+1))?(Y=65536+((1023&Y)<<10)+(1023&J.charCodeAt(++K)),$[z++]=Y>>18|240,$[z++]=Y>>12&63|128,$[z++]=Y>>6&63|128,$[z++]=63&Y|128):($[z++]=Y>>12|224,$[z++]=Y>>6&63|128,$[z++]=63&Y|128)}return $},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,$){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let Y=0;Y<J.length;Y+=3){const Re=J[Y],qe=Y+1<J.length,xt=qe?J[Y+1]:0,_n=Y+2<J.length,gn=_n?J[Y+2]:0;let j=(15&xt)<<2|gn>>6,G=63&gn;_n||(G=64,qe||(j=64)),K.push(z[Re>>2],z[(3&Re)<<4|xt>>4],z[j],z[G])}return K.join("")},encodeString(J,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(J):this.encodeByteArray(ue(J),$)},decodeString(J,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(J):function(J){const $=[];let z=0,K=0;for(;z<J.length;){const Y=J[z++];if(Y<128)$[K++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Re=J[z++];$[K++]=String.fromCharCode((31&Y)<<6|63&Re)}else if(Y>239&&Y<365){const _n=((7&Y)<<18|(63&J[z++])<<12|(63&J[z++])<<6|63&J[z++])-65536;$[K++]=String.fromCharCode(55296+(_n>>10)),$[K++]=String.fromCharCode(56320+(1023&_n))}else{const Re=J[z++],qe=J[z++];$[K++]=String.fromCharCode((15&Y)<<12|(63&Re)<<6|63&qe)}}return $.join("")}(this.decodeStringToByteArray(J,$))},decodeStringToByteArray(J,$){this.init_();const z=$?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let Y=0;Y<J.length;){const Re=z[J.charAt(Y++)],xt=Y<J.length?z[J.charAt(Y)]:0;++Y;const gn=Y<J.length?z[J.charAt(Y)]:64;++Y;const se=Y<J.length?z[J.charAt(Y)]:64;if(++Y,null==Re||null==xt||null==gn||null==se)throw Error();K.push(Re<<2|xt>>4),64!==gn&&(K.push(xt<<4&240|gn>>2),64!==se&&K.push(gn<<6&192|se))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},_e=function(J){return function(J){const $=ue(J);return we.encodeByteArray($,!0)}(J).replace(/\./g,"")},Ce=function(J){try{return we.decodeString(J,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function W(J,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return $}for(const z in $)!$.hasOwnProperty(z)||!ne(z)||(J[z]=W(J[z],$[z]));return J}function ne(J){return"__proto__"!==J}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,z)=>{this.resolve=$,this.reject=z})}wrapCallback($){return(z,K)=>{z?this.reject(z):this.resolve(K),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(z):$(z,K))}}}function Ve(J,$){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=$||"demo-project",Y=J.iat||0,Re=J.sub||J.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:Y,exp:Y+3600,auth_time:Y,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},J);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(qe)),""].join(".")}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function be(){return"object"==typeof self&&self.self===self}function rt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const J=Ae();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function ce(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){return"object"==typeof indexedDB}function Ee(){return new Promise((J,$)=>{try{let z=!0;const K="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(K);Y.onsuccess=()=>{Y.result.close(),z||self.indexedDB.deleteDatabase(K),J(!0)},Y.onupgradeneeded=()=>{z=!1},Y.onerror=()=>{var Re;$((null===(Re=Y.error)||void 0===Re?void 0:Re.message)||"")}}catch(z){$(z)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor($,z,K){super(z),this.code=$,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor($,z,K){this.service=$,this.serviceName=z,this.errors=K}create($,...z){const K=z[0]||{},Y=`${this.service}/${$}`,Re=this.errors[$],qe=Re?function je(J,$){return J.replace(Et,(z,K)=>{const Y=$[K];return null!=Y?String(Y):`<${K}?>`})}(Re,K):"Error";return new de(Y,`${this.serviceName}: ${qe} (${Y}).`,K)}}const Et=/\{\$([^}]+)}/g;function Xt(J,$){return Object.prototype.hasOwnProperty.call(J,$)}function Mi(J){for(const $ in J)if(Object.prototype.hasOwnProperty.call(J,$))return!1;return!0}function ki(J,$){if(J===$)return!0;const z=Object.keys(J),K=Object.keys($);for(const Y of z){if(!K.includes(Y))return!1;const Re=J[Y],qe=$[Y];if(Bn(Re)&&Bn(qe)){if(!ki(Re,qe))return!1}else if(Re!==qe)return!1}for(const Y of K)if(!z.includes(Y))return!1;return!0}function Bn(J){return null!==J&&"object"==typeof J}function Fr(J){const $=[];for(const[z,K]of Object.entries(J))Array.isArray(K)?K.forEach(Y=>{$.push(encodeURIComponent(z)+"="+encodeURIComponent(Y))}):$.push(encodeURIComponent(z)+"="+encodeURIComponent(K));return $.length?"&"+$.join("&"):""}function rr(J){const $={};return J.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[Y,Re]=K.split("=");$[decodeURIComponent(Y)]=decodeURIComponent(Re)}}),$}function qn(J){const $=J.indexOf("?");if(!$)return"";const z=J.indexOf("#",$);return J.substring($,z>0?z:void 0)}function Lr(J,$){const z=new at(J,$);return z.subscribe.bind(z)}class at{constructor($,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{$(this)}).catch(K=>{this.error(K)})}next($){this.forEachObserver(z=>{z.next($)})}error($){this.forEachObserver(z=>{z.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,z,K){let Y;if(void 0===$&&void 0===z&&void 0===K)throw new Error("Missing Observer.");Y=function Kn(J,$){if("object"!=typeof J||null===J)return!1;for(const z of $)if(z in J&&"function"==typeof J[z])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:z,complete:K},void 0===Y.next&&(Y.next=Cn),void 0===Y.error&&(Y.error=Cn),void 0===Y.complete&&(Y.complete=Cn);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Re}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,$)}sendOne($,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{z(this.observers[$])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Ui(J,$=1e3,z=2){const K=$*Math.pow(z,J),Y=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+Y)}function rn(J){return J&&J._delegate?J._delegate:J}},3387:(mt,Oe,N)=>{var s=N(4650);let H=null;function O(){return H}const ve=new s.OlP("DocumentToken");let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ce(){return(0,s.LFG)(W)}()},providedIn:"platform"}),n})();const q=new s.OlP("Location Initialized");let W=(()=>{class n extends _e{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ne()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ne()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ge(){return new W((0,s.LFG)(ve))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Ve(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ct(n){return n&&"?"!==n[0]?"?"+n:n}let Te=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(rt)},providedIn:"root"}),n})();const be=new s.OlP("appBaseHref");let rt=(()=>{class n extends Te{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ve(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ct(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+ct(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+ct(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_e),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends Te{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ve(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+ct(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+ct(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_e),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ae(Qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ct(i))}normalize(e){return n.stripTrailingSlash(function ke(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ct,n.joinWithSlash=Ve,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(s.LFG(Te))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Fe(){return new Ue((0,s.LFG)(Te))}()},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}const ce={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Percent=1]="Percent",me[me.Currency=2]="Currency",me[me.Scientific=3]="Scientific",me))(),ee=(()=>((ee=ee||{})[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee))(),ie=(()=>((ie=ie||{})[ie.Narrow=0]="Narrow",ie[ie.Abbreviated=1]="Abbreviated",ie[ie.Wide=2]="Wide",ie[ie.Short=3]="Short",ie))(),ye=(()=>((ye=ye||{})[ye.Short=0]="Short",ye[ye.Medium=1]="Medium",ye[ye.Long=2]="Long",ye[ye.Full=3]="Full",ye))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function fn(n,t){return at((0,s.cg1)(n)[s.wAp.DateFormat],t)}function dn(n,t){return at((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function Xt(n,t){return at((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function qt(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===de.CurrencyDecimal)return e[s.wAp.NumberSymbols][de.Decimal];if(t===de.CurrencyGroup)return e[s.wAp.NumberSymbols][de.Group]}return i}function rr(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function at(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Ci(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const es=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kn={},Nn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Mn=(()=>((Mn=Mn||{})[Mn.Short=0]="Short",Mn[Mn.ShortGMT=1]="ShortGMT",Mn[Mn.Long=2]="Long",Mn[Mn.Extended=3]="Extended",Mn))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function Ht(n,t,e,i){let r=function G(n){if(Ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return Ki(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(es))return function Ie(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,f=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,f,y),t}(i)}const t=new Date(n);if(!Ye(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ei(e,t)||t;let h,u=[];for(;t;){if(h=Nn.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const E=u.pop();if(!E)break;t=E}}let f=r.getTimezoneOffset();i&&(f=oi(i,f),r=function j(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function se(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(oi(t,r)-r))}(r,i,!0));let y="";return u.forEach(E=>{const D=function gn(n){if(_n[n])return _n[n];let t;switch(n){case"G":case"GG":case"GGG":t=rn(bt.Eras,ie.Abbreviated);break;case"GGGG":t=rn(bt.Eras,ie.Wide);break;case"GGGGG":t=rn(bt.Eras,ie.Narrow);break;case"y":t=zt(yt.FullYear,1,0,!1,!0);break;case"yy":t=zt(yt.FullYear,2,0,!0,!0);break;case"yyy":t=zt(yt.FullYear,3,0,!1,!0);break;case"yyyy":t=zt(yt.FullYear,4,0,!1,!0);break;case"Y":t=xt(1);break;case"YY":t=xt(2,!0);break;case"YYY":t=xt(3);break;case"YYYY":t=xt(4);break;case"M":case"L":t=zt(yt.Month,1,1);break;case"MM":case"LL":t=zt(yt.Month,2,1);break;case"MMM":t=rn(bt.Months,ie.Abbreviated);break;case"MMMM":t=rn(bt.Months,ie.Wide);break;case"MMMMM":t=rn(bt.Months,ie.Narrow);break;case"LLL":t=rn(bt.Months,ie.Abbreviated,ee.Standalone);break;case"LLLL":t=rn(bt.Months,ie.Wide,ee.Standalone);break;case"LLLLL":t=rn(bt.Months,ie.Narrow,ee.Standalone);break;case"w":t=qe(1);break;case"ww":t=qe(2);break;case"W":t=qe(1,!0);break;case"d":t=zt(yt.Date,1);break;case"dd":t=zt(yt.Date,2);break;case"c":case"cc":t=zt(yt.Day,1);break;case"ccc":t=rn(bt.Days,ie.Abbreviated,ee.Standalone);break;case"cccc":t=rn(bt.Days,ie.Wide,ee.Standalone);break;case"ccccc":t=rn(bt.Days,ie.Narrow,ee.Standalone);break;case"cccccc":t=rn(bt.Days,ie.Short,ee.Standalone);break;case"E":case"EE":case"EEE":t=rn(bt.Days,ie.Abbreviated);break;case"EEEE":t=rn(bt.Days,ie.Wide);break;case"EEEEE":t=rn(bt.Days,ie.Narrow);break;case"EEEEEE":t=rn(bt.Days,ie.Short);break;case"a":case"aa":case"aaa":t=rn(bt.DayPeriods,ie.Abbreviated);break;case"aaaa":t=rn(bt.DayPeriods,ie.Wide);break;case"aaaaa":t=rn(bt.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":t=rn(bt.DayPeriods,ie.Abbreviated,ee.Standalone,!0);break;case"bbbb":t=rn(bt.DayPeriods,ie.Wide,ee.Standalone,!0);break;case"bbbbb":t=rn(bt.DayPeriods,ie.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":t=rn(bt.DayPeriods,ie.Abbreviated,ee.Format,!0);break;case"BBBB":t=rn(bt.DayPeriods,ie.Wide,ee.Format,!0);break;case"BBBBB":t=rn(bt.DayPeriods,ie.Narrow,ee.Format,!0);break;case"h":t=zt(yt.Hours,1,-12);break;case"hh":t=zt(yt.Hours,2,-12);break;case"H":t=zt(yt.Hours,1);break;case"HH":t=zt(yt.Hours,2);break;case"m":t=zt(yt.Minutes,1);break;case"mm":t=zt(yt.Minutes,2);break;case"s":t=zt(yt.Seconds,1);break;case"ss":t=zt(yt.Seconds,2);break;case"S":t=zt(yt.FractionalSeconds,1);break;case"SS":t=zt(yt.FractionalSeconds,2);break;case"SSS":t=zt(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$(Mn.Short);break;case"ZZZZZ":t=$(Mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$(Mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$(Mn.Long);break;default:return null}return _n[n]=t,t}(E);y+=D?D(r,e,f):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Ki(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ei(n,t){const e=function je(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(kn[e]=kn[e]||{},kn[e][t])return kn[e][t];let i="";switch(t){case"shortDate":i=fn(n,ye.Short);break;case"mediumDate":i=fn(n,ye.Medium);break;case"longDate":i=fn(n,ye.Long);break;case"fullDate":i=fn(n,ye.Full);break;case"shortTime":i=dn(n,ye.Short);break;case"mediumTime":i=dn(n,ye.Medium);break;case"longTime":i=dn(n,ye.Long);break;case"fullTime":i=dn(n,ye.Full);break;case"short":const r=Ei(n,"shortTime"),o=Ei(n,"shortDate");i=Oi(Xt(n,ye.Short),[r,o]);break;case"medium":const u=Ei(n,"mediumTime"),h=Ei(n,"mediumDate");i=Oi(Xt(n,ye.Medium),[u,h]);break;case"long":const f=Ei(n,"longTime"),y=Ei(n,"longDate");i=Oi(Xt(n,ye.Long),[f,y]);break;case"full":const E=Ei(n,"fullTime"),D=Ei(n,"fullDate");i=Oi(Xt(n,ye.Full),[E,D])}return i&&(kn[e][t]=i),i}function Oi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function kt(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function zt(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function sr(n,t){switch(n){case yt.FullYear:return t.getFullYear();case yt.Month:return t.getMonth();case yt.Date:return t.getDate();case yt.Hours:return t.getHours();case yt.Minutes:return t.getMinutes();case yt.Seconds:return t.getSeconds();case yt.FractionalSeconds:return t.getMilliseconds();case yt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===yt.Hours)0===h&&-12===e&&(h=12);else if(n===yt.FractionalSeconds)return function Ui(n,t){return kt(n,3).substring(0,t)}(h,t);const f=qt(u,de.MinusSign);return kt(h,t,f,i,r)}}function rn(n,t,e=ee.Format,i=!1){return function(r,o){return function J(n,t,e,i,r,o){switch(e){case bt.Months:return function nn(n,t,e){const i=(0,s.cg1)(n),o=at([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return at(o,e)}(t,r,i)[n.getMonth()];case bt.Days:return function un(n,t,e){const i=(0,s.cg1)(n),o=at([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return at(o,e)}(t,r,i)[n.getDay()];case bt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const y=function qn(n){const t=(0,s.cg1)(n);return rr(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Ci(i):[Ci(i[0]),Ci(i[1])])}(t),E=function Nr(n,t,e){const i=(0,s.cg1)(n);rr(i);const o=at([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return at(o,e)||[]}(t,r,i),D=y.findIndex(P=>{if(Array.isArray(P)){const[L,B]=P,te=u>=L.hours&&h>=L.minutes,re=u<B.hours||u===B.hours&&h<B.minutes;if(L.hours<B.hours){if(te&&re)return!0}else if(te||re)return!0}else if(P.hours===u&&P.minutes===h)return!0;return!1});if(-1!==D)return E[D]}return function Et(n,t,e){const i=(0,s.cg1)(n),o=at([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return at(o,e)}(t,r,i)[u<12?0:1];case bt.Eras:return function Je(n,t){return at((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function $(n){return function(t,e,i){const r=-1*i,o=qt(e,de.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Mn.Short:return(r>=0?"+":"")+kt(u,2,o)+kt(Math.abs(r%60),2,o);case Mn.ShortGMT:return"GMT"+(r>=0?"+":"")+kt(u,1,o);case Mn.Long:return"GMT"+(r>=0?"+":"")+kt(u,2,o)+":"+kt(Math.abs(r%60),2,o);case Mn.Extended:return 0===i?"Z":(r>=0?"+":"")+kt(u,2,o)+":"+kt(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Re(n){return Ki(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function qe(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=Re(e),u=function Y(n){const t=Ki(n,0,1).getDay();return Ki(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return kt(r,n,qt(i,de.MinusSign))}}function xt(n,t=!1){return function(e,i){return kt(Re(e).getFullYear(),n,qt(i,de.MinusSign),t)}}const _n={};function oi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Ye(n){return n instanceof Date&&!isNaN(n.valueOf())}const It=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function $s(n,t,e,i,r){const u=function Gs(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],h=u[0],f=u[1]||"";e.posPre=h.substring(0,h.indexOf("#"));for(let E=0;E<f.length;E++){const D=f.charAt(E);"0"===D?e.minFrac=e.maxFrac=E+1:"#"===D?e.maxFrac=E+1:e.posSuf+=D}const y=h.split(",");if(e.gSize=y[1]?y[1].length:0,e.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,o){const E=r.length-e.posPre.length-e.posSuf.length,D=o.indexOf("#");e.negPre=o.substring(0,D).replace(/'/g,""),e.negSuf=o.slice(D+E).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Mi(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,me.Currency),qt(t,de.MinusSign));return u.minFrac=function Ri(n){let t;const e=ce[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),u.maxFrac=u.minFrac,function Rn(n,t,e,i,r,o,u=!1){let h="",f=!1;if(isFinite(n)){let y=function Fl(n){let i,r,o,u,h,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(h=t.length))i=[0],r=1;else{for(h--;"0"===t.charAt(h);)h--;for(r-=o,i=[],u=0;o<=h;o++,u++)i[u]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);u&&(y=function Po(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(y));let E=t.minInt,D=t.minFrac,P=t.maxFrac;if(o){const Ze=o.match(It);if(null===Ze)throw new Error(`${o} is not a valid digit info`);const et=Ze[1],Xe=Ze[3],_t=Ze[5];null!=et&&(E=ni(et)),null!=Xe&&(D=ni(Xe)),null!=_t?P=ni(_t):null!=Xe&&D>P&&(P=D)}!function ns(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let u=o+n.integerLen,h=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let D=u;D<i.length;D++)i[D]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=o+1),i[0]=0;for(let D=1;D<u;D++)i[D]=0}if(h>=5)if(u-1<0){for(let D=0;D>u;D--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,o);r++)i.push(0);let f=0!==o;const y=t+n.integerLen,E=i.reduceRight(function(D,P,L,B){return B[L]=(P+=D)<10?P:P-10,f&&(0===B[L]&&L>=y?B.pop():f=!1),P>=10?1:0},0);E&&(i.unshift(E),n.integerLen++)}(y,D,P);let L=y.digits,B=y.integerLen;const te=y.exponent;let re=[];for(f=L.every(Ze=>!Ze);B<E;B++)L.unshift(0);for(;B<0;B++)L.unshift(0);B>0?re=L.splice(B,L.length):(re=L,L=[0]);const Pe=[];for(L.length>=t.lgSize&&Pe.unshift(L.splice(-t.lgSize,L.length).join(""));L.length>t.gSize;)Pe.unshift(L.splice(-t.gSize,L.length).join(""));L.length&&Pe.unshift(L.join("")),h=Pe.join(qt(e,i)),re.length&&(h+=qt(e,r)+re.join("")),te&&(h+=qt(e,de.Exponential)+"+"+te)}else h=qt(e,de.Infinity);return h=n<0&&!f?t.negPre+h+t.negSuf:t.posPre+h+t.posSuf,h}(n,u,t,de.CurrencyGroup,de.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function ni(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Nl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Ft=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Zs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Zs(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),qs(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{qs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qs(n,t){n.context.$implicit=t.item}let en=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Uh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ai("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ai("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Uh{constructor(){this.$implicit=null,this.ngIf=null}}function ai(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let li=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),u=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ii=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function mr(n,t){return new s.vHH(2100,!1)}const No=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Fc=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw mr();return e.replace(No,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"titlecase",type:n,pure:!0,standalone:!0}),n})();const bg=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Nc=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return Ht(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw mr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(bg,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Na=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,u){if(!function Vl(n){return!(null==n||""===n||n!=n)}(e))return null;u=u||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let h=i||this._defaultCurrencyCode;"code"!==r&&(h="symbol"===r||"symbol-narrow"===r?function Kn(n,t,e="en"){const i=function Xr(n){return(0,s.cg1)(n)[s.wAp.Currencies]}(e)[n]||ce[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(h,"symbol"===r?"wide":"narrow",u):r);try{return $s(function Lc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),u,h,i,o)}catch(f){throw mr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(s.EJc,16))},n.\u0275pipe=s.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Vc=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw mr();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Dn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const _r="browser";function Ho(n){return"server"===n}let id=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Hh((0,s.LFG)(ve),window)}),n})();class Hh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ni(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ar(this.window.history)||Ar(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ar(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qs{}class Ds extends class ld extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){H||(H=n)}(new Ds)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function cd(){return xs=xs||document.querySelector("base"),xs?xs.getAttribute("href"):null}();return null==e?null:function as(n){Hn=Hn||document.createElement("a"),Hn.setAttribute("href",n);const t=Hn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Nl(document.cookie,t)}}let Hn,xs=null;const zn=new s.OlP("TRANSITION_ID"),Gc=[{provide:s.ip1,useFactory:function ud(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[zn,ve,s.zs3],multi:!0}];let Wc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Zc=new s.OlP("EventManagerPlugins");let dd=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class qc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let eo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),qo=(()=>{class n extends eo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(hd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(hd))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function hd(n){O().remove(n)}const Ko={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pd=/%COMP%/g;function jl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?jl(n,r,e):(r=r.replace(pd,n),e.push(r))}return e}function $l(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let qa=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ls(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new gd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Kh(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=jl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dd),s.LFG(qo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ls{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ko[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ya(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ya(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Ko[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ko[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$l(i)):this.eventManager.addEventListener(t,e,$l(i))}}function Ya(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gd extends ls{constructor(t,e,i,r){super(t),this.component=i;const o=jl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Qn(n){return"_ngcontent-%COMP%".replace(pd,n)}(r+"-"+i.id),this.hostAttr=function zl(n){return"_nghost-%COMP%".replace(pd,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Kh extends ls{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=jl(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let di=(()=>{class n extends qc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Yh=["alt","control","meta","shift"],As={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qa=(()=>{class n extends qc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Yh.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),u+=y+".")}),u+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static matchEventFullKeyCode(e,i){let r=As[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Yh.forEach(u=>{u!==r&&(0,Qc[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ja=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:_r},{provide:s.g9A,useValue:function _d(){Ds.makeCurrent()},multi:!0},{provide:ve,useFactory:function Jc(){return(0,s.RDi)(document),document},deps:[]}]),to=new s.OlP(""),Xa=[{provide:s.rWj,useClass:class Zh{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(f){u=u||f,o--,0==o&&i(u)};r.forEach(function(f){f.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Qo=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function cs(){return new s.qLn},deps:[]},{provide:Zc,useClass:di,multi:!0,deps:[ve,s.R0b,s.Lbi]},{provide:Zc,useClass:Qa,multi:!0,deps:[ve]},{provide:qa,useClass:qa,deps:[dd,qo,s.AFp]},{provide:s.FYo,useExisting:qa},{provide:eo,useExisting:qo},{provide:qo,useClass:qo,deps:[ve]},{provide:dd,useClass:dd,deps:[Zc,s.R0b]},{provide:Qs,useClass:Wc,deps:[]},[]];let no=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:zn,useExisting:s.AFp},Gc]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(to,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Qo,...Xa],imports:[Dn,s.hGG]}),n})(),Ur=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function el(){return new Ur((0,s.LFG)(ve))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var vn=N(8996),us=N(3269);function ht(...n){const t=(0,us.yG)(n);return(0,vn.D)(n,t)}var Qt=N(7579);class Pn extends Qt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ro=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hi=N(9751);const{isArray:so}=Array,{getPrototypeOf:bd,prototype:wd,keys:np}=Object;function ks(n){if(1===n.length){const t=n[0];if(so(t))return{args:t,keys:null};if(function Cd(n){return n&&"object"==typeof n&&bd(n)===wd}(t)){const e=np(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var oo=N(4671),ut=N(4004);const{isArray:tu}=Array;function Yl(n){return(0,ut.U)(t=>function zr(n,t){return tu(t)?n(...t):n(t)}(n,t))}function tl(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Xn=N(5403),nl=N(9672);function Ql(...n){const t=(0,us.yG)(n),e=(0,us.jO)(n),{args:i,keys:r}=ks(n);if(0===i.length)return(0,vn.D)([],t);const o=new hi.y(function il(n,t,e=oo.y){return i=>{ip(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let f=0;f<r;f++)ip(t,()=>{const y=(0,vn.D)(n[f],t);let E=!1;y.subscribe((0,Xn.x)(i,D=>{o[f]=D,E||(E=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>tl(r,u):oo.y));return e?o.pipe(Yl(e)):o}function ip(n,t,e){n?(0,nl.f)(e,n,t):t()}var oa=N(8189);function aa(...n){return function Jl(){return(0,oa.J)(1)}()((0,vn.D)(n,(0,us.yG)(n)))}var hs=N(8421);function kr(n){return new hi.y(t=>{(0,hs.Xf)(n()).subscribe(t)})}var Xl=N(9635),Rs=N(576);function ao(n,t){const e=(0,Rs.m)(n)?n:()=>n,i=r=>r.error(e());return new hi.y(t?r=>t.schedule(i,0,r):i)}var zi=N(515),Os=N(727),Fn=N(4482);function lo(){return(0,Fn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Xn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class co extends hi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Fn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Os.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Xn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Os.w0.EMPTY)}return t}refCount(){return lo()(this)}}function pi(n,t){return(0,Fn.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Xn.x)(i,f=>{r?.unsubscribe();let y=0;const E=o++;(0,hs.Xf)(n(f,E)).subscribe(r=(0,Xn.x)(i,D=>i.next(t?t(f,D,E,y++):D),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Ln(n){return n<=0?()=>zi.E:(0,Fn.e)((t,e)=>{let i=0;t.subscribe((0,Xn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function uo(...n){const t=(0,us.yG)(n);return(0,Fn.e)((e,i)=>{(t?aa(n,e,t):aa(n,e)).subscribe(i)})}function ur(n,t){return(0,Fn.e)((e,i)=>{let r=0;e.subscribe((0,Xn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var T=N(5577);function S(n){return(0,Fn.e)((t,e)=>{let i=!1;t.subscribe((0,Xn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function k(n=U){return(0,Fn.e)((t,e)=>{let i=!1;t.subscribe((0,Xn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function U(){return new ro}function X(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ur((r,o)=>n(r,o,i)):oo.y,Ln(1),e?S(t):k(()=>new ro))}function he(n,t){return(0,Rs.m)(t)?(0,T.z)(n,t,1):(0,T.z)(n,1)}var De=N(8505);function Ke(n){return(0,Fn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Xn.x)(e,void 0,void 0,u=>{o=(0,hs.Xf)(n(u,Ke(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function vt(n,t,e,i,r){return(o,u)=>{let h=e,f=t,y=0;o.subscribe((0,Xn.x)(u,E=>{const D=y++;f=h?n(f,E,D):(h=!0,E),i&&u.next(f)},r&&(()=>{h&&u.next(f),u.complete()})))}}function Ot(n,t){return(0,Fn.e)(vt(n,t,arguments.length>=2,!0))}function Bt(n){return n<=0?()=>zi.E:(0,Fn.e)((t,e)=>{let i=[];t.subscribe((0,Xn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function wt(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ur((r,o)=>n(r,o,i)):oo.y,Bt(1),e?S(t):k(()=>new ro))}function ho(n){return(0,Fn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const jt="primary",Li=Symbol("RouteTitle");class po{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ps(n){return new po(n)}function ec(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Si(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Ed(n[r],t[r]))return!1;return!0}function Ed(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Tg(n){return Array.prototype.concat.apply([],n)}function rp(n){return n.length>0?n[n.length-1]:null}function ei(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function fo(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,vn.D)(Promise.resolve(n)):ht(n)}const Aw={exact:function Dg(n,t,e){if(!mo(n.segments,t.segments)||!go(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Dg(n.children[i],t.children[i],e))return!1;return!0},subset:nu},op={exact:function ap(n,t){return Si(n,t)},subset:function Id(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ed(n[e],t[e]))},ignored:()=>!0};function J_(n,t,e){return Aw[e.paths](n.root,t.root,e.matrixParams)&&op[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function nu(n,t,e){return Td(n,t,t.segments,e)}function Td(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!mo(r,e)||t.hasChildren()||!go(r,e,i))}if(n.segments.length===e.length){if(!mo(n.segments,e)||!go(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!nu(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(mo(n.segments,r)&&go(n.segments,r,i)&&n.children[jt])&&Td(n.children[jt],t,o,i)}}function go(n,t,e){return t.every((i,r)=>op[e](n[r].parameters,i.parameters))}class rl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return Ag.serialize(this)}}class an{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ei(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nc(this)}}class iu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ps(this.parameters)),this._parameterMap}toString(){return X_(this)}}function mo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let lp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new tc},providedIn:"root"}),n})();class tc{parse(t){const e=new F(t);return new rl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ru(t.root,!0)}`,i=function kw(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Dd(e)}=${Dd(r)}`).join("&"):`${Dd(e)}=${Dd(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function up(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ag=new tc;function nc(n){return n.segments.map(t=>X_(t)).join("/")}function ru(n,t){if(!n.hasChildren())return nc(n);if(t){const e=n.children[jt]?ru(n.children[jt],!1):"",i=[];return ei(n.children,(r,o)=>{o!==jt&&i.push(`${o}:${ru(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function xg(n,t){let e=[];return ei(n.children,(i,r)=>{r===jt&&(e=e.concat(t(i,r)))}),ei(n.children,(i,r)=>{r!==jt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===jt?[ru(n.children[jt],!1)]:[`${r}:${ru(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${nc(n)}/${e[0]}`:`${nc(n)}/(${e.join("//")})`}}function cp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dd(n){return cp(n).replace(/%3B/gi,";")}function Ns(n){return cp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _o(n){return decodeURIComponent(n)}function dp(n){return _o(n.replace(/\+/g,"%20"))}function X_(n){return`${Ns(n.path)}${function Mw(n){return Object.keys(n).map(t=>`;${Ns(t)}=${Ns(n[t])}`).join("")}(n.parameters)}`}const Rw=/^[^\/()?;=#]+/;function b(n){const t=n.match(Rw);return t?t[0]:""}const m=/^[^=?&#]+/,C=/^[^&#]+/;class F{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[jt]=new an(t,e)),i}parseSegment(){const t=b(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new iu(_o(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=b(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=b(this.remaining);r&&(i=r,this.capture(i))}t[_o(e)]=_o(i)}parseQueryParam(t){const e=function _(n){const t=n.match(m);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function M(n){const t=n.match(C);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=dp(e),o=dp(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=b(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=jt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[jt]:new an([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function ae(n){return n.segments.length>0?new an([],{[jt]:n}):n}function xe(n){const t={};for(const i of Object.keys(n.children)){const o=xe(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function it(n){if(1===n.numberOfChildren&&n.children[jt]){const t=n.children[jt];return new an(n.segments.concat(t.segments),t.children)}return n}(new an(n.segments,t))}function pt(n){return n instanceof rl}function hp(n,t,e,i,r){if(0===e.length)return ic(t.root,t.root,t.root,i,r);const o=function pp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new su(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return ei(o.outlets,(f,y)=>{h[y]="string"==typeof f?f.split("/"):f}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,f)=>{0==f&&"."===h||(0==f&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new su(e,t,i)}(e);return o.toRoot()?ic(t.root,t.root,new an([],{}),i,r):function u(f){const y=function kg(n,t,e,i){if(n.isAbsolute)return new ol(t.root,!0,0);if(-1===i)return new ol(e,e===t.root,0);return function gp(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new ol(i,!1,r-o)}(e,i+(la(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,f),E=y.processChildren?ou(y.segmentGroup,y.index,o.commands):mp(y.segmentGroup,y.index,o.commands);return ic(t.root,y.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function la(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vo(n){return"object"==typeof n&&null!=n&&n.outlets}function ic(n,t,e,i,r){let u,o={};i&&ei(i,(f,y)=>{o[y]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),u=n===t?e:Mg(n,t,e);const h=ae(xe(u));return new rl(h,o,r)}function Mg(n,t,e){const i={};return ei(n.children,(r,o)=>{i[o]=r===t?e:Mg(r,t,e)}),new an(n.segments,i)}class su{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&la(i[0]))throw new s.vHH(4003,!1);const r=i.find(vo);if(r&&r!==rp(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ol{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function mp(n,t,e){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return ou(n,t,e);const i=function vT(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(vo(h))break;const f=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&y&&"object"==typeof y&&void 0===y.outlets){if(!Rg(f,y,u))return o;i+=2}else{if(!Rg(f,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new an(n.segments.slice(0,i.pathIndex),{});return o.children[jt]=new an(n.segments.slice(i.pathIndex),n.children),ou(o,0,r)}return i.match&&0===r.length?new an(n.segments,{}):i.match&&!n.hasChildren()?_i(n,t,e):i.match?ou(n,0,r):_i(n,t,e)}function ou(n,t,e){if(0===e.length)return new an(n.segments,{});{const i=function rc(n){return vo(n[0])?n[0].outlets:{[jt]:n}}(e),r={};return ei(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=mp(n.children[u],t,o))}),ei(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new an(n.segments,r)}}function _i(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(vo(o)){const f=Ow(o.outlets);return new an(i,f)}if(0===r&&la(e[0])){i.push(new iu(n.segments[t].path,Pw(e[0]))),r++;continue}const u=vo(o)?o.outlets[jt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&la(h)?(i.push(new iu(u,Pw(h))),r+=2):(i.push(new iu(u,{})),r++)}return new an(i,{})}function Ow(n){const t={};return ei(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=_i(new an([],{}),0,e))}),t}function Pw(n){const t={};return ei(n,(e,i)=>t[i]=`${e}`),t}function Rg(n,t,e){return n==e.path&&Si(t,e.parameters)}class ca{constructor(t,e){this.id=t,this.url=e}}class ey extends ca{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class au extends ca{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Og extends ca{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fw extends ca{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bT extends ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xA extends ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AA extends ca{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _p extends ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ty extends ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nw{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lw{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wT{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bw{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uw{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pg{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Hw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=yp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Fg(t,this._root).map(e=>e.value)}}function yp(n,t){if(n===t.value)return t;for(const e of t.children){const i=yp(n,e);if(i)return i}return null}function Fg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Fg(n,e);if(i.length)return i.unshift(t),i}return[]}class ua{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ls(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class zw extends Hw{constructor(t,e){super(t),this.snapshot=e,vp(this,t)}toString(){return this.snapshot.toString()}}function Ng(n,t){const e=function Lg(n,t){const u=new da([],{},{},"",{},jt,t,null,n.root,-1,{});return new ny("",new ua(u,[]))}(n,t),i=new Pn([new iu("",{})]),r=new Pn({}),o=new Pn({}),u=new Pn({}),h=new Pn(""),f=new lu(i,r,u,h,o,jt,t,e.root);return f.snapshot=e.root,new zw(new ua(f,[]),e)}class lu{constructor(t,e,i,r,o,u,h,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,ut.U)(y=>y[Li]))??ht(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>Ps(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>Ps(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vg(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Bg(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class da{constructor(t,e,i,r,o,u,h,f,y,E,D,P){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.[Li],this.routeConfig=f,this._urlSegment=y,this._lastPathIndex=E,this._correctedLastPathIndex=P??E,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ps(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ny extends Hw{constructor(t,e){super(e),this.url=t,vp(this,e)}toString(){return jw(this._root)}}function vp(n,t){t.value._routerState=n,t.children.forEach(e=>vp(n,e))}function jw(n){const t=n.children.length>0?` { ${n.children.map(jw).join(", ")} } `:"";return`${n.value}${t}`}function iy(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Si(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Si(t.params,e.params)||n.params.next(e.params),function Fs(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Si(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Si(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ug(n,t){const e=Si(n.params,t.params)&&function Sd(n,t){return mo(n,t)&&n.every((e,i)=>Si(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ug(n.parent,t.parent))}function bp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function CT(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return bp(n,i,r);return bp(n,i)})}(n,t,e);return new ua(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>bp(n,h)),u}}const i=function ET(n){return new lu(new Pn(n.url),new Pn(n.params),new Pn(n.queryParams),new Pn(n.fragment),new Pn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>bp(n,o));return new ua(i,r)}}const ry="ngNavigationCancelingError";function Hg(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=pt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=$w(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function $w(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[ry]=!0,i.cancellationCode=t,e&&(i.url=e),i}function sy(n){return Gw(n)&&pt(n.url)}function Gw(n){return n&&n[ry]}class Ww{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zg,this.attachRef=null}}let zg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ww,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jg=!1;let cu=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||jt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,jg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,jg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,jg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,jg);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,f=new IT(e,h,r.injector);if(i&&function Ad(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,f)}else this.activated=r.createComponent(u,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zg),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class IT{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===lu?this.route:t===zg?this.childContexts:this.parent.get(t,e)}}let uu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[cu],encapsulation:2}),n})();function Zw(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ly(n){const t=n.children&&n.children.map(ly),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jt&&(e.component=uu),e}function Vs(n){return n.outlet||jt}function $g(n,t){const e=n.filter(i=>Vs(i)===t);return e.push(...n.filter(i=>Vs(i)!==t)),e}function Gg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class cy{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),iy(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ls(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),ei(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ls(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ls(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ls(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Uw(o.value.snapshot))}),t.children.length&&this.forwardEvent(new wT(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(iy(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),iy(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Gg(r.snapshot),f=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=f,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class ST{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class uy{constructor(t,e){this.component=t,this.route=e}}function PA(n,t,e){const i=n._root;return Cp(i,t?t._root:null,e,[i.value])}function wp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Cp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ls(t);return n.children.forEach(u=>{(function Yw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const f=function dy(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!mo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!mo(n.url,t.url)||!Si(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ug(n,t)||!Si(n.queryParams,t.queryParams);default:return!Ug(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new ST(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Cp(n,t,o.component?h?h.children:null:e,i,r),f&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new uy(h.outlet.component,u))}else u&&Md(t,h,r),r.canActivateChecks.push(new ST(i)),Cp(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),ei(o,(u,h)=>Md(u,e.getContext(h),r)),r}function Md(n,t,e){const i=Ls(n),r=n.value;ei(i,(o,u)=>{Md(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new uy(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function kd(n){return"function"==typeof n}function Wg(n){return n instanceof ro||"EmptyError"===n?.name}const Zg=Symbol("INITIAL_VALUE");function Rd(){return pi(n=>Ql(n.map(t=>t.pipe(Ln(1),uo(Zg)))).pipe((0,ut.U)(t=>{for(const e of t)if(!0!==e){if(e===Zg)return Zg;if(!1===e||e instanceof rl)return e}return!0}),ur(t=>t!==Zg),Ln(1)))}function wr(n){return(0,Xl.z)((0,De.b)(t=>{if(pt(t))throw Hg(0,t)}),(0,ut.U)(t=>!0===t))}const qg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kg(n,t,e,i,r){const o=Qi(n,t,e);return o.matched?function gy(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?ht(r.map(u=>{const h=wp(u,n);return fo(function xT(n){return n&&kd(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(Rd(),wr()):ht(!0)}(i=Zw(t,i),t,e).pipe((0,ut.U)(u=>!0===u?o:{...qg})):ht(o)}function Qi(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...qg}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||ec)(e,n,t);if(!r)return{...qg};const o={};ei(r.posParams,(h,f)=>{o[f]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function sc(n,t,e,i,r="corrected"){if(e.length>0&&function VT(n,t,e){return e.some(i=>Yg(n,t,i)&&Vs(i)!==jt)}(n,e,i)){const u=new an(t,function LT(n,t,e,i){const r={};r[jt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Vs(o)!==jt){const u=new an([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Vs(o)]=u}return r}(n,t,i,new an(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function e0(n,t,e){return e.some(i=>Yg(n,t,i))}(n,e,i)){const u=new an(n.segments,function Xw(n,t,e,i,r,o){const u={};for(const h of i)if(Yg(n,e,h)&&!r[Vs(h)]){const f=new an([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[Vs(h)]=f}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new an(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Yg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function my(n,t,e,i){return!!(Vs(n)===i||i!==jt&&Yg(t,e,n))&&("**"===n.path||Qi(t,n,e).matched)}function t0(n,t,e){return 0===t.length&&!n.children[e]}const Ip=!1;class Qg{constructor(t){this.segmentGroup=t||null}}class n0{constructor(t){this.urlTree=t}}function Tp(n){return ao(new Qg(n))}function r0(n){return ao(new n0(n))}class UT{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=sc(this.urlTree.root,[],[],this.config).segmentGroup,e=new an(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,jt).pipe((0,ut.U)(o=>this.createUrlTree(xe(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ke(o=>{if(o instanceof n0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Qg?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,jt).pipe((0,ut.U)(r=>this.createUrlTree(xe(r),t.queryParams,t.fragment))).pipe(Ke(r=>{throw r instanceof Qg?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Ip)}createUrlTree(t,e,i){const r=ae(t);return new rl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ut.U)(o=>new an([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,vn.D)(r).pipe(he(o=>{const u=i.children[o],h=$g(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,ut.U)(f=>({segment:f,outlet:o})))}),Ot((o,u)=>(o[u.outlet]=u.segment,o),{}),wt())}expandSegment(t,e,i,r,o,u){return(0,vn.D)(i).pipe(he(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Ke(y=>{if(y instanceof Qg)return ht(null);throw y}))),X(h=>!!h),Ke((h,f)=>{if(Wg(h))return t0(e,r,o)?ht(new an([],{})):Tp(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return my(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Tp(e):Tp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?r0(o):this.lineralizeSegments(i,o).pipe((0,T.z)(u=>{const h=new an(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:f,remainingSegments:y,positionalParamSegments:E}=Qi(e,r,o);if(!h)return Tp(e);const D=this.applyRedirectCommands(f,r.redirectTo,E);return r.redirectTo.startsWith("/")?r0(D):this.lineralizeSegments(r,D).pipe((0,T.z)(P=>this.expandSegment(t,e,i,P.concat(y),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=Zw(i,t),i.loadChildren?(i._loadedRoutes?ht({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,ut.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new an(r,{})))):ht(new an(r,{}))):Kg(e,i,r,t).pipe(pi(({matched:u,consumedSegments:h,remainingSegments:f})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,T.z)(E=>{const D=E.injector??t,P=E.routes,{segmentGroup:L,slicedSegments:B}=sc(e,h,f,P),te=new an(L.segments,L.children);if(0===B.length&&te.hasChildren())return this.expandChildren(D,P,te).pipe((0,ut.U)(et=>new an(h,et)));if(0===P.length&&0===B.length)return ht(new an(h,{}));const re=Vs(i)===o;return this.expandSegment(D,te,P,B,re?jt:o,!0).pipe((0,ut.U)(Ze=>new an(h.concat(Ze.segments),Ze.children)))})):Tp(e)))}getChildConfig(t,e,i){return e.children?ht({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ht({routes:e._loadedRoutes,injector:e._loadedInjector}):function NT(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?ht(!0):ht(r.map(u=>{const h=wp(u,n);return fo(function hy(n){return n&&kd(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(Rd(),wr())}(t,e,i).pipe((0,T.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,De.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Od(n){return ao($w(Ip,3))}())):ht({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ht(i);if(r.numberOfChildren>1||!r.children[jt])return ao(new s.vHH(4e3,Ip));r=r.children[jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new rl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ei(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return ei(e.children,(h,f)=>{u[f]=this.createSegmentGroup(t,h,i,r)}),new an(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Ip);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class LA{}class ha{constructor(t,e,i,r,o,u,h,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=f}recognize(){const t=sc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,jt).pipe((0,ut.U)(e=>{if(null===e)return null;const i=new da([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ua(i,e),o=new ny(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Vg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,vn.D)(Object.keys(i.children)).pipe(he(r=>{const o=i.children[r],u=$g(e,r);return this.processSegmentGroup(t,u,o,r)}),Ot((r,o)=>r&&o?(r.push(...o),r):null),function ri(n,t=!1){return(0,Fn.e)((e,i)=>{let r=0;e.subscribe((0,Xn.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),S(null),wt(),(0,ut.U)(r=>{if(null===r)return null;const o=by(r);return function yy(n){n.sort((t,e)=>t.value.outlet===jt?-1:e.value.outlet===jt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,vn.D)(e).pipe(he(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),X(u=>!!u),Ke(u=>{if(Wg(u))return t0(i,r,o)?ht([]):ht(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!my(e,i,r,o))return ht(null);let u;if("**"===e.path){const h=r.length>0?rp(r).parameters:{},f=o0(i)+r.length;u=ht({snapshot:new da(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jg(e),Vs(e),e.component??e._loadedComponent??null,e,Pd(i),f,Xg(e),f),consumedSegments:[],remainingSegments:[]})}else u=Kg(i,e,r,t).pipe((0,ut.U)(({matched:h,consumedSegments:f,remainingSegments:y,parameters:E})=>{if(!h)return null;const D=o0(i)+f.length;return{snapshot:new da(f,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jg(e),Vs(e),e.component??e._loadedComponent??null,e,Pd(i),D,Xg(e),D),consumedSegments:f,remainingSegments:y}}));return u.pipe(pi(h=>{if(null===h)return ht(null);const{snapshot:f,consumedSegments:y,remainingSegments:E}=h;t=e._injector??t;const D=e._loadedInjector??t,P=function vy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:L,slicedSegments:B}=sc(i,y,E,P.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);if(0===B.length&&L.hasChildren())return this.processChildren(D,P,L).pipe((0,ut.U)(re=>null===re?null:[new ua(f,re)]));if(0===P.length&&0===B.length)return ht([new ua(f,[])]);const te=Vs(e)===o;return this.processSegment(D,P,L,B,te?jt:o).pipe((0,ut.U)(re=>null===re?null:[new ua(f,re)]))}))}}function zT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function by(n){const t=[],e=new Set;for(const i of n){if(!zT(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=by(i.children);t.push(new ua(i.value,r))}return t.filter(i=>!e.has(i))}function Pd(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function o0(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Jg(n){return n.data||{}}function Xg(n){return n.resolve||{}}function em(n){return"string"==typeof n.title||null===n.title}function Cy(n){return pi(t=>{const e=n(t);return e?(0,vn.D)(e).pipe((0,ut.U)(()=>t)):ht(t)})}let u0=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===jt);return i}getResolvedTitleForRoute(e){return e.data[Li]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(d0)},providedIn:"root"}),n})(),d0=(()=>{class n extends u0{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ur))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GT{}class h0 extends class WT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sp=new s.OlP("",{providedIn:"root",factory:()=>({})}),Iy=new s.OlP("ROUTES");let Ty=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ht(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=fo(e.loadComponent()).pipe((0,De.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ho(()=>{this.componentLoaders.delete(e)})),r=new co(i,()=>new Qt.x).pipe(lo());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ht({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ut.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,y,E=!1;Array.isArray(h)?y=h:(f=h.create(e).injector,y=Tg(f.get(Iy,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(ly),injector:f}}),ho(()=>{this.childrenLoaders.delete(i)})),u=new co(o,()=>new Qt.x).pipe(lo());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return fo(e()).pipe((0,T.z)(i=>i instanceof s.YKP||Array.isArray(i)?ht(i):(0,vn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class p0{}class f0{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function g0(n){throw n}function m0(n,t,e){return t.parse("/")}const ZT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function _0(){const n=(0,s.f3M)(lp),t=(0,s.f3M)(zg),e=(0,s.f3M)(Ue),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(Iy,{optional:!0})??[],u=(0,s.f3M)(Sp,{optional:!0})??{},h=(0,s.f3M)(d0),f=(0,s.f3M)(u0,{optional:!0}),y=(0,s.f3M)(p0,{optional:!0}),E=(0,s.f3M)(GT,{optional:!0}),D=new fi(null,n,t,e,i,r,Tg(o));return y&&(D.urlHandlingStrategy=y),E&&(D.routeReuseStrategy=E),D.titleStrategy=f??h,function nm(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,D),D}let fi=(()=>{class n{constructor(e,i,r,o,u,h,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qt.x,this.errorHandler=g0,this.malformedUriErrorHandler=m0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ht(void 0),this.urlHandlingStrategy=new f0,this.routeReuseStrategy=new h0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Ty),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new Lw(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new Nw(P)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const D=u.get(s.R0b);this.isNgZoneEnabled=D instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function Sg(){return new rl(new an([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ng(this.currentUrlTree,this.rootComponentType),this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ur(r=>0!==r.id),(0,ut.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),pi(r=>{let o=!1,u=!1;return ht(r).pipe((0,De.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(h=>{const f=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Sy(h.source)&&(this.browserUrlTree=h.extractedUrl),ht(h).pipe(pi(D=>{const P=this.transitions.getValue();return i.next(new ey(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),P!==this.transitions.getValue()?zi.E:Promise.resolve(D)}),function HT(n,t,e,i){return pi(r=>function al(n,t,e,i,r){return new UT(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ut.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,De.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function l0(n,t,e,i,r,o){return(0,T.z)(u=>function VA(n,t,e,i,r,o,u="emptyOnly",h="legacy"){return new ha(n,t,e,i,r,u,h,o).recognize().pipe(pi(f=>null===f?function s0(n){return new hi.y(t=>t.error(n))}(new LA):ht(f)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,o).pipe((0,ut.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,De.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(L,D)}this.browserUrlTree=D.urlAfterRedirects}const P=new bT(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(P)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:L,source:B,restoredState:te,extras:re}=h,Pe=new ey(P,this.serializeUrl(L),B,te);i.next(Pe);const Ze=Ng(L,this.rootComponentType).snapshot;return ht(r={...h,targetSnapshot:Ze,urlAfterRedirects:L,extras:{...re,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),zi.E}),(0,De.b)(h=>{const f=new xA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(f)}),(0,ut.U)(h=>r={...h,guards:PA(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function MT(n,t){return(0,T.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?ht({...e,guardsResult:!0}):function kT(n,t,e,i){return(0,vn.D)(n).pipe((0,T.z)(r=>function FT(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ht(o.map(h=>{const f=Gg(t)??r,y=wp(h,f);return fo(function Ep(n){return n&&kd(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):f.runInContext(()=>y(n,t,e,i))).pipe(X())})).pipe(Rd()):ht(!0)}(r.component,r.route,e,t,i)),X(r=>!0!==r,!0))}(u,i,r,n).pipe((0,T.z)(h=>h&&function Qw(n){return"boolean"==typeof n}(h)?function fy(n,t,e,i){return(0,vn.D)(t).pipe(he(r=>aa(function OT(n,t){return null!==n&&t&&t(new Vw(n)),ht(!0)}(r.route.parent,i),function RT(n,t){return null!==n&&t&&t(new Bw(n)),ht(!0)}(r.route,i),function Jw(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function FA(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>kr(()=>ht(u.guards.map(f=>{const y=Gg(u.node)??e,E=wp(f,y);return fo(function py(n){return n&&kd(n.canActivateChild)}(E)?E.canActivateChild(i,n):y.runInContext(()=>E(i,n))).pipe(X())})).pipe(Rd())));return ht(o).pipe(Rd())}(n,r.path,e),function PT(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ht(!0);const r=i.map(o=>kr(()=>{const u=Gg(t)??e,h=wp(o,u);return fo(function DT(n){return n&&kd(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(X())}));return ht(r).pipe(Rd())}(n,r.route,e))),X(r=>!0!==r,!0))}(i,o,n,t):ht(h)),(0,ut.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,De.b)(h=>{if(r.guardsResult=h.guardsResult,pt(h.guardsResult))throw Hg(0,h.guardsResult);const f=new AA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(f)}),ur(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Cy(h=>{if(h.guards.canActivateChecks.length)return ht(h).pipe((0,De.b)(f=>{const y=new _p(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),pi(f=>{let y=!1;return ht(f).pipe(function BA(n,t){return(0,T.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ht(e);let o=0;return(0,vn.D)(r).pipe(he(u=>function Fd(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!em(r)&&(o[Li]=r.title),function wy(n,t,e,i){const r=function c0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ht({});const o={};return(0,vn.D)(r).pipe((0,T.z)(u=>function $T(n,t,e,i){const r=Gg(t)??i,o=wp(n,r);return fo(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(X(),(0,De.b)(h=>{o[u]=h}))),Bt(1),function ji(n){return(0,ut.U)(()=>n)}(o),Ke(u=>Wg(u)?zi.E:ao(u)))}(o,n,t,i).pipe((0,ut.U)(u=>(n._resolvedData=u,n.data=Vg(n,e).resolve,r&&em(r)&&(n.data[Li]=r.title),null)))}(u.route,i,n,t)),(0,De.b)(()=>o++),Bt(1),(0,T.z)(u=>o===r.length?ht(e):zi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,De.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,De.b)(f=>{const y=new ty(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}))}),Cy(h=>{const f=y=>{const E=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,De.b)(D=>{y.component=D}),(0,ut.U)(()=>{})));for(const D of y.children)E.push(...f(D));return E};return Ql(f(h.targetSnapshot.root)).pipe(S(),Ln(1))}),Cy(()=>this.afterPreactivation()),(0,ut.U)(h=>{const f=function xd(n,t,e){const i=bp(n,t._root,e?e._root:void 0);return new zw(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:f}}),(0,De.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(i=>(new cy(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,De.b)({next(){o=!0},complete(){o=!0}}),ho(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ke(h=>{if(u=!0,Gw(h)){sy(h)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new Og(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(f),sy(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sy(r.source)};this.scheduleNavigation(y,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new Fw(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return zi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(ly),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:f}=i,y=r||this.routerState.root,E=f?this.currentUrlTree.fragment:u;let D=null;switch(h){case"merge":D={...this.currentUrlTree.queryParams,...o};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=o||null}return null!==D&&(D=this.removeEmptyProps(D)),hp(y,this.currentUrlTree,e,D,E??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=pt(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function y0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...ZT}:!1===i?{...HA}:i,pt(e))return J_(this.currentUrlTree,e,r);const o=this.parseUrl(e);return J_(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new au(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,f,y;u?(h=u.resolve,f=u.reject,y=u.promise):y=new Promise((P,L)=>{h=P,f=L});const E=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:E,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:f,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new Og(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return _0()},providedIn:"root"}),n})();function Sy(n){return"imperative"!==n}let Dp=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Qt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fi),s.Y36(lu),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),xp=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Qt.x,this.subscription=e.events.subscribe(o=>{o instanceof au&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){return!!(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fi),s.Y36(lu),s.Y36(Te))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),Ap=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof au&&this.update()})}ngAfterContentInit(){ht(this.links.changes,this.linksWithHrefs.changes,ht(null)).pipe((0,oa.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,vn.D)(e).pipe((0,oa.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function im(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Dp,8),s.Y36(xp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Dp,5),s.Suo(r,xp,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class Dy{}let xy=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ur(e=>e instanceof au),he(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,vn.D)(r).pipe((0,oa.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):ht(null);const o=r.pipe((0,T.z)(u=>null===u?ht(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,vn.D)([o,u]).pipe((0,oa.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fi),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Dy),s.LFG(Ty))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const du=new s.OlP("");let b0=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ey?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof au&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Pg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Pg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function hu(n,t){return{\u0275kind:n,\u0275providers:t}}function kp(n){return[{provide:Iy,multi:!0,useValue:n}]}function YT(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(fi),r=n.get(Ay);1===n.get(My)&&i.initialNavigation(),n.get(Bs,null,s.XFs.Optional)?.setUpPreloading(),n.get(du,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const Ay=new s.OlP("",{factory:()=>new Qt.x}),My=new s.OlP("",{providedIn:"root",factory:()=>1});const Bs=new s.OlP("");function XT(n){return hu(0,[{provide:Bs,useExisting:xy},{provide:Dy,useExisting:n}])}const E0=new s.OlP("ROUTER_FORROOT_GUARD"),tS=[Ue,{provide:lp,useClass:tc},{provide:fi,useFactory:_0},zg,{provide:lu,useFactory:function w0(n){return n.routerState.root},deps:[fi]},Ty];function I0(){return new s.PXZ("Router",fi)}let sm=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[tS,[],kp(e),{provide:E0,useFactory:T0,deps:[[fi,new s.FiY,new s.tp0]]},{provide:Sp,useValue:i||{}},i?.useHash?{provide:Te,useClass:st}:{provide:Te,useClass:rt},{provide:du,useFactory:()=>{const n=(0,s.f3M)(fi),t=(0,s.f3M)(id),e=(0,s.f3M)(Sp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new b0(n,t,e)}},i?.preloadingStrategy?XT(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:I0},i?.initialNavigation?S0(i):[],[{provide:ky,useFactory:YT},{provide:s.tb,multi:!0,useExisting:ky}]]}}static forChild(e){return{ngModule:n,providers:[kp(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(E0,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[uu]}),n})();function T0(n){return"guarded"}function S0(n){return["disabled"===n.initialNavigation?hu(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(fi);return()=>{t.setUpLocationChangeListener()}}},{provide:My,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hu(2,[{provide:My,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(q,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const u=t.get(fi),h=t.get(Ay);(function r(o){t.get(fi).events.pipe(ur(h=>h instanceof au||h instanceof Og||h instanceof Fw),(0,ut.U)(h=>h instanceof au||h instanceof Og&&(0===h.code||1===h.code)&&null),ur(h=>null!==h),Ln(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),u.afterPreactivation=()=>(o(!0),i||h.closed?ht(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const ky=new s.OlP("");var Rp=N(4986),pn=N(5813);function om(){return(0,Fn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Xn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function oS(n,t){return n===t}var St,fa=N(2011),D0=(N(5881),N(3942)),Se=N(5861),ll=N(9681),Nd=N(4859),ga=N(1877),In=N(2090),GA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oc={},Ry=Ry||{},Wt=GA||self;function Oy(){}function am(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ma(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var lm="closure_uid_"+(1e9*Math.random()>>>0),cm=0;function cS(n,t,e){return n.call.apply(n.bind,arguments)}function x0(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Cr(n,t,e){return(Cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cS:x0).apply(null,arguments)}function um(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function dr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function ac(){this.s=this.s,this.o=this.o}var A0={};ac.prototype.s=!1,ac.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function lS(n){return Object.prototype.hasOwnProperty.call(n,lm)&&n[lm]||(n[lm]=++cm)}(this);delete A0[n]}},ac.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M0=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function dm(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Py(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(am(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Ji(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ji.prototype.h=function(){this.defaultPrevented=!0};var WA=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",Oy,t),Wt.removeEventListener("test",Oy,t)}catch{}return n}();function Ld(n){return/^[\s\xa0]*$/.test(n)}var k0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function R0(n,t){return n<t?-1:n>t?1:0}function cl(){var n=Wt.navigator;return n&&(n=n.userAgent)?n:""}function bo(n){return-1!=cl().indexOf(n)}function hm(n){return hm[" "](n),n}hm[" "]=Oy;var Vd,n,wo=bo("Opera"),pu=bo("Trident")||bo("MSIE"),O0=bo("Edge"),Op=O0||pu,_a=bo("Gecko")&&!(-1!=cl().toLowerCase().indexOf("webkit")&&!bo("Edge"))&&!(bo("Trident")||bo("MSIE"))&&!bo("Edge"),Fy=-1!=cl().toLowerCase().indexOf("webkit")&&!bo("Edge");function Ny(){var n=Wt.document;return n?n.documentMode:void 0}e:{var P0="",fm=(n=cl(),_a?/rv:([^\);]+)(\)|;)/.exec(n):O0?/Edge\/([\d\.]+)/.exec(n):pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Fy?/WebKit\/(\S+)/.exec(n):wo?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fm&&(P0=fm?fm[1]:""),pu){var F0=Ny();if(null!=F0&&F0>parseFloat(P0)){Vd=String(F0);break e}}Vd=P0}var gm={};var Ly=Wt.document&&pu&&(Ny()||parseInt(Vd,10))||void 0;function ym(n,t){if(Ji.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_a){e:{try{hm(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ym.X.h.call(this)}}dr(ym,Ji);var dS={2:"touch",3:"pen",4:"mouse"};ym.prototype.h=function(){ym.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fp="closure_listenable_"+(1e6*Math.random()|0),hS=0;function pS(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++hS,this.ba=this.ea=!1}function Np(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function N0(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function L0(n){const t={};for(const e in n)t[e]=n[e];return t}const fS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vy(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<fS.length;o++)e=fS[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Lp(n){this.src=n,this.g={},this.h=0}function By(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=M0(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Np(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Vp(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}Lp.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Vp(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new pS(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var V0="closure_lm_"+(1e6*Math.random()|0),B0={};function gS(n,t,e,i,r){if(i&&i.once)return _S(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)gS(n,t[o],e,i,r);return null}return e=Uy(e),n&&n[Fp]?n.N(t,e,ma(i)?!!i.capture:!!i,r):mS(n,t,e,!1,i,r)}function mS(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=ma(r)?!!r.capture:!!r,h=ya(n);if(h||(n[V0]=h=new Lp(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function ZA(){const t=qA;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)WA||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(vS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function _S(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)_S(n,t[o],e,i,r);return null}return e=Uy(e),n&&n[Fp]?n.O(t,e,ma(i)?!!i.capture:!!i,r):mS(n,t,e,!0,i,r)}function yS(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)yS(n,t[o],e,i,r);else i=ma(i)?!!i.capture:!!i,e=Uy(e),n&&n[Fp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Vp(o=n.g[t],e,i,r))&&(Np(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=ya(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Vp(t,e,i,r)),(e=-1<n?t[n]:null)&&U0(e))}function U0(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Fp])By(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(vS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ya(t))?(By(e,n),0==e.h&&(e.src=null,t[V0]=null)):Np(n)}}}function vS(n){return n in B0?B0[n]:B0[n]="on"+n}function qA(n,t){if(n.ba)n=!0;else{t=new ym(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&U0(n),n=e.call(i,t)}return n}function ya(n){return(n=n[V0])instanceof Lp?n:null}var Bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(n){return"function"==typeof n?n:(n[Bp]||(n[Bp]=function(t){return n.handleEvent(t)}),n[Bp])}function $i(){ac.call(this),this.i=new Lp(this),this.P=this,this.I=null}function Gi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ji(t,n);else if(t instanceof Ji)t.target=t.target||n;else{var r=t;Vy(t=new Ji(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=Up(u,i,!0,t)&&r}if(r=Up(u=t.g=n,i,!0,t)&&r,r=Up(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Up(u=t.g=e[o],i,!1,t)&&r}function Up(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,f=u.ha||u.src;u.ea&&By(n.i,u),r=!1!==h.call(f,i)&&r}}return r&&!i.defaultPrevented}dr($i,ac),$i.prototype[Fp]=!0,$i.prototype.removeEventListener=function(n,t,e,i){yS(this,n,t,e,i)},$i.prototype.M=function(){if($i.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Np(e[i]);delete n.g[t],n.h--}}this.I=null},$i.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},$i.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Hp=Wt.JSON.stringify;function bS(){var n=fu;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var jy,Hy=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new wS,n=>n.reset());class wS{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function CS(n){Wt.setTimeout(()=>{throw n},0)}function zy(n,t){jy||function ES(){var n=Wt.Promise.resolve(void 0);jy=function(){n.then($y)}}(),Bd||(jy(),Bd=!0),fu.add(n,t)}var Bd=!1,fu=new class lc{constructor(){this.h=this.g=null}add(t,e){const i=Hy.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function $y(){for(var n;n=bS();){try{n.h.call(n.g)}catch(e){CS(e)}var t=Hy;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Bd=!1}function ul(n,t){$i.call(this),this.h=n||1,this.g=t||Wt,this.j=Cr(this.kb,this),this.l=Date.now()}function zp(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Ud(n,t,e){if("function"==typeof n)e&&(n=Cr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Wt.setTimeout(n,t||0)}function Gy(n){n.g=Ud(()=>{n.g=null,n.i&&(n.i=!1,Gy(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}dr(ul,$i),(St=ul.prototype).ca=!1,St.R=null,St.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Gi(this,"tick"),this.ca&&(zp(this),this.start()))}},St.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.M=function(){ul.X.M.call(this),zp(this),delete this.g};class H0 extends ac{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Gy(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gu(n){ac.call(this),this.h=n,this.g={}}dr(gu,ac);var vm=[];function Wy(n,t,e,i){Array.isArray(e)||(e&&(vm[0]=e.toString()),e=vm);for(var r=0;r<e.length;r++){var o=gS(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function bm(n){N0(n.g,function(t,e){this.g.hasOwnProperty(e)&&U0(t)},n),n.g={}}function wm(){this.g=!0}function mu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function z0(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Hp(e)}catch{return t}}(n,e)+(i?" "+i:"")})}gu.prototype.M=function(){gu.X.M.call(this),bm(this)},gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wm.prototype.Aa=function(){this.g=!1},wm.prototype.info=function(){};var cc={},j0=null;function Er(){return j0=j0||new $i}function Zy(n){Ji.call(this,cc.Oa,n)}function jp(n){const t=Er();Gi(t,new Zy(t,n))}function SS(n,t){Ji.call(this,cc.STAT_EVENT,n),this.stat=t}function Rr(n){const t=Er();Gi(t,new SS(t,n))}function Cm(n,t){Ji.call(this,cc.Pa,n),this.size=t}function Hd(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},t)}cc.Oa="serverreachability",dr(Zy,Ji),cc.STAT_EVENT="statevent",dr(SS,Ji),cc.Pa="timingevent",dr(Cm,Ji);var Em={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},$0={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qy(){}function G0(){}qy.prototype.h=null;var Im,zd={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Yy(){Ji.call(this,"d")}function Qy(){Ji.call(this,"c")}function $p(){}function Gp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new gu(this),this.O=Jy,this.T=new ul(n=Op?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Co}function Co(){this.i=null,this.g="",this.h=!1}dr(Yy,Ji),dr(Qy,Ji),dr($p,qy),$p.prototype.g=function(){return new XMLHttpRequest},$p.prototype.i=function(){return{}},Im=new $p;var Jy=45e3,Xy={},Tm={};function W0(n,t,e){n.K=1,n.v=hc(va(t)),n.s=e,n.P=!0,ev(n,null)}function ev(n,t){n.F=Date.now(),_u(n),n.A=va(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),tC(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Co,n.g=Fm(n.l,e?t:null,!n.s),0<n.N&&(n.L=new H0(Cr(n.Ka,n,n.g),n.N)),Wy(n.S,n.g,"readystatechange",n.hb),t=n.H?L0(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),jp(1),function KA(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),f=0;f<h.length;f++){var y=h[f].split("=");if(1<y.length){var E=y[0];y=y[1];var D=E.split("_");u=2<=D.length&&"type"==D[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Z0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function q0(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=DS(n,e),r==Tm){4==t&&(n.o=4,Rr(14),i=!1),mu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Xy){n.o=4,Rr(15),mu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}mu(n.j,n.m,r,null),jd(n,r)}Z0(n)&&r!=Tm&&r!=Xy&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Rr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),tf(t),t.K=!0,Rr(11))):(mu(n.j,n.m,e,"[Invalid Chunked Response]"),dl(n),uc(n))}function DS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Tm:(e=Number(t.substring(e,i)),isNaN(e)?Xy:(i+=1)+e>t.length?Tm:(t=t.substr(i,e),n.C=i+e,t))}function _u(n){n.V=Date.now()+n.O,K0(n,n.O)}function K0(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hd(Cr(n.fb,n),t)}function Sm(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function uc(n){0==n.l.G||n.I||nf(n.l,n)}function dl(n){Sm(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,zp(n.T),bm(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function jd(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||rv(e.h,n)))if(!n.J&&rv(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Su(e),Jp(e)}ef(e),Rr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Hd(Cr(e.bb,e),6e3));if(1>=iC(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Du(e,11)}else if((n.J||e.g==n)&&Su(e),!Ld(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const E=y[3];null!=E&&(e.ma=E,e.j.info("VER="+e.ma));const D=y[4];null!=D&&(e.Ca=D,e.j.info("SVER="+e.Ca));const P=y[5];null!=P&&"number"==typeof P&&0<P&&(e.J=i=1.5*P,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const B=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var o=i.h;o.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(sv(o,o.h),o.h=null))}if(i.D){const te=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(i.za=te,jn(i.F,i.D,te))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=sf(i,i.H?i.ka:null,i.V),u.J){rC(i.h,u);var h=u,f=i.J;f&&h.setTimeout(f),h.B&&(Sm(h),_u(h)),i.g=u}else uv(i);0<e.i.length&&Xp(e)}else"stop"!=y[0]&&"close"!=y[0]||Du(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Du(e,7):Om(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}jp(4)}catch{}}function xS(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(am(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function tv(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(am(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function YA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(am(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(St=Gp.prototype).setTimeout=function(n){this.O=n},St.hb=function(n){n=n.target;const t=this.L;t&&3==jr(n)?t.l():this.Ka(n)},St.Ka=function(n){try{if(n==this.g)e:{const E=jr(this.g);var t=this.g.Ea();const D=this.g.aa();if(!(3>E)&&(3!=E||Op||this.g&&(this.h.h||this.g.fa()||ov(this.g)))){this.I||4!=E||7==t||jp(8==t||0>=D?3:2),Sm(this);var e=this.g.aa();this.Y=e;t:if(Z0(this)){var i=ov(this.g);n="";var r=i.length,o=4==jr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dl(this),uc(this);var u="";break t}this.h.i=new Wt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function IS(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ld(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Rr(12),dl(this),uc(this);break e}mu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jd(this,e)}this.P?(q0(this,E,u),Op&&this.i&&3==E&&(Wy(this.S,this.T,"tick",this.gb),this.T.start())):(mu(this.j,this.m,u,null),jd(this,u)),4==E&&dl(this),this.i&&!this.I&&(4==E?nf(this.l,this):(this.i=!1,_u(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),dl(this),uc(this)}}}catch{}},St.gb=function(){if(this.g){var n=jr(this.g),t=this.g.fa();this.C<t.length&&(Sm(this),q0(this,n,t),this.i&&4!=n&&_u(this))}},St.cancel=function(){this.I=!0,dl(this)},St.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function TS(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(jp(3),Rr(17)),dl(this),this.o=2,uc(this)):K0(this,this.V-n)};var nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dc(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof dc){this.h=void 0!==t?t:n.h,$d(this,n.j),this.s=n.s,this.g=n.g,Us(this,n.m),this.l=n.l,t=n.i;var e=new Kp;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Wp(this,e),this.o=n.o}else n&&(e=String(n).match(nv))?(this.h=!!t,$d(this,e[1]||"",!0),this.s=Zp(e[2]||""),this.g=Zp(e[3]||"",!0),Us(this,e[4]),this.l=Zp(e[5]||"",!0),Wp(this,e[6]||"",!0),this.o=Zp(e[7]||"")):(this.h=!!t,this.i=new Kp(null,this.h))}function va(n){return new dc(n)}function $d(n,t,e){n.j=e?Zp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Us(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Wp(n,t,e){t instanceof Kp?(n.i=t,function iv(n,t){t&&!n.j&&(vu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(X0(this,i),tC(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=yu(t,MS)),n.i=new Kp(t,n.h))}function jn(n,t,e){n.i.set(t,e)}function hc(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Zp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yu(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Q0),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Q0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}dc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(yu(t,J0,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(yu(t,J0,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(yu(e,"/"==e.charAt(0)?qp:AS,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",yu(e,QA)),n.join("")};var J0=/[#\/\?@]/g,AS=/[#\?:]/g,qp=/[#\?]/g,MS=/[#\?@]/g,QA=/#/g;function Kp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function vu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Y0(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function X0(n,t){vu(n),t=bu(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function eC(n,t){return vu(n),t=bu(n,t),n.g.has(t)}function tC(n,t,e){X0(n,t),0<e.length&&(n.i=null,n.g.set(bu(n,t),dm(e)),n.h+=e.length)}function bu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Dm(n){this.l=n||RS,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ga&&Wt.g.Ga()&&Wt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=Kp.prototype).add=function(n,t){vu(this),this.i=null,n=bu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},St.forEach=function(n,t){vu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},St.oa=function(){vu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},St.W=function(n){vu(this);let t=[];if("string"==typeof n)eC(this,n)&&(t=t.concat(this.g.get(bu(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},St.set=function(n,t){return vu(this),this.i=null,eC(this,n=bu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},St.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var RS=10;function nC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iC(n){return n.h?1:n.g?n.g.size:0}function rv(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function sv(n,t){n.g?n.g.add(t):n.h=t}function rC(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Yp(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return dm(n.i)}function hl(){}function JA(){this.g=new hl}function Qp(n,t,e){const i=e||"";try{xS(n,function(r,o){let u=r;ma(r)&&(u=Hp(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function xm(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function wu(n){this.l=n.$b||null,this.j=n.ib||!1}function Am(n,t){$i.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dm.prototype.cancel=function(){if(this.i=Yp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hl.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},hl.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},dr(wu,qy),wu.prototype.g=function(){return new Am(this.l,this.j)},wu.prototype.i=function(n){return function(){return n}}({}),dr(Am,$i);var Hs=0;function Gd(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Vi(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Eo(n)}function Eo(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(St=Am.prototype).open=function(n,t){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Eo(this)},St.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Wt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vi(this)),this.readyState=Hs},St.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gd(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},St.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Vi(this):Eo(this),3==this.readyState&&Gd(this)}},St.Ua=function(n){this.g&&(this.response=this.responseText=n,Vi(this))},St.Ta=function(n){this.g&&(this.response=n,Vi(this))},St.ga=function(){this.g&&Vi(this)},St.setRequestHeader=function(n,t){this.v.append(n,t)},St.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Am.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Mm=Wt.JSON.parse;function xn(n){$i.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=km,this.K=this.L=!1}dr(xn,$i);var km="",Wd=/^https?$/i,Zd=["POST","PUT"];function Cu(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Eu(n),pl(n)}function Eu(n){n.D||(n.D=!0,Gi(n,"complete"),Gi(n,"error"))}function Iu(n){if(n.h&&typeof Ry<"u"&&(!n.C[1]||4!=jr(n)||2!=n.aa()))if(n.v&&4==jr(n))Ud(n.Ha,0,n);else if(Gi(n,"readystatechange"),4==jr(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(nv)[1]||null;if(!r&&Wt.self&&Wt.self.location){var o=Wt.self.location.protocol;r=o.substr(0,o.length-1)}i=!Wd.test(r?r.toLowerCase():"")}e=i}if(e)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var u=2<jr(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",Eu(n)}}finally{pl(n)}}}function pl(n,t){if(n.g){Tu(n);const e=n.g,i=n.C[0]?Oy:null;n.g=null,n.C=null,t||Gi(n,"ready");try{e.onreadystatechange=i}catch{}}}function Tu(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function jr(n){return n.g?n.g.readyState:0}function ov(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case km:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function av(n){let t="";return N0(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Rm(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=av(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):jn(n,t,e))}function Kd(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function lv(n){this.Ca=0,this.i=[],this.j=new wm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Kd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Kd("baseRetryDelayMs",5e3,n),this.ab=Kd("retryDelaySeedMs",1e4,n),this.Za=Kd("forwardChannelMaxRetries",2,n),this.ta=Kd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Dm(n&&n.concurrentRequestLimit),this.Fa=new JA,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Om(n){if(cv(n),3==n.G){var t=n.U++,e=va(n.F);jn(e,"SID",n.I),jn(e,"RID",t),jn(e,"TYPE","terminate"),Yd(n,e),(t=new Gp(n,n.j,t,void 0)).K=2,t.v=hc(va(e)),e=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(e=Wt.navigator.sendBeacon(t.v.toString(),"")),!e&&Wt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Fm(t.l,null),t.g.da(t.v)),t.F=Date.now(),_u(t)}rf(n)}function Jp(n){n.g&&(tf(n),n.g.cancel(),n.g=null)}function cv(n){Jp(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),Su(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function Xp(n){nC(n.h)||n.m||(n.m=!0,zy(n.Ja,n),n.C=0)}function sC(n,t){var e;e=t?t.m:n.U++;const i=va(n.F);jn(i,"SID",n.I),jn(i,"RID",e),jn(i,"AID",n.T),Yd(n,i),n.o&&n.s&&Rm(i,n.o,n.s),e=new Gp(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=oC(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),sv(n.h,e),W0(e,i,t)}function Yd(n,t){n.ia&&N0(n.ia,function(e,i){jn(t,i,e)}),n.l&&xS({},function(e,i){jn(t,i,e)})}function oC(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Cr(n.l.Qa,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let f=0;f<e;f++){let y=r[f].h;const E=r[f].g;if(y-=o,0>y)o=Math.max(0,r[f].h-100),h=!1;else try{Qp(E,u,"req"+y+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function uv(n){n.g||n.u||(n.Z=1,zy(n.Ia,n),n.A=0)}function ef(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Hd(Cr(n.Ia,n),Pm(n,n.A)),n.A++,0))}function tf(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function aC(n){n.g=new Gp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=va(n.sa);jn(t,"RID","rpc"),jn(t,"SID",n.I),jn(t,"CI",n.L?"0":"1"),jn(t,"AID",n.T),jn(t,"TYPE","xmlhttp"),Yd(n,t),n.o&&n.s&&Rm(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=hc(va(t)),e.s=null,e.P=!0,ev(e,n)}function Su(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function nf(n,t){var e=null;if(n.g==t){Su(n),tf(n),n.g=null;var i=2}else{if(!rv(n.h,t))return;e=t.D,rC(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Gi(i=Er(),new Cm(i,e,t,r)),Xp(n)}else uv(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function PS(n,t){return!(iC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Hd(Cr(n.Ja,n,t),Pm(n,n.C)),n.C++,0)))}(n,t)||2==i&&ef(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Du(n,5);break;case 4:Du(n,10);break;case 3:Du(n,6);break;default:Du(n,2)}}function Pm(n,t){let e=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(e*=2),e*t}function Du(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Cr(n.jb,n);e||(e=new dc("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||$d(e,"https"),hc(e)),function OS(n,t){const e=new wm;if(Wt.Image){const i=new Image;i.onload=um(xm,e,i,"TestLoadImage: loaded",!0,t),i.onerror=um(xm,e,i,"TestLoadImage: error",!1,t),i.onabort=um(xm,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=um(xm,e,i,"TestLoadImage: timeout",!1,t),Wt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Rr(2);n.G=0,n.l&&n.l.va(t),rf(n),cv(n)}function rf(n){if(n.G=0,n.la=[],n.l){const t=Yp(n.h);(0!=t.length||0!=n.i.length)&&(Py(n.la,t),Py(n.la,n.i),n.h.i.length=0,dm(n.i),n.i.length=0),n.l.ua()}}function sf(n,t,e){var i=e instanceof dc?va(e):new dc(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Us(i,i.m);else{var r=Wt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new dc(null,void 0);i&&$d(o,i),t&&(o.g=t),r&&Us(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&jn(i,e,t),jn(i,"VER",n.ma),Yd(n,i),i}function Fm(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new xn(e&&n.Da&&!n.ra?new wu({ib:!0}):n.ra)).L=n.H,t}function dv(){}function Qd(){if(pu&&!(10<=Number(Ly)))throw Error("Environmental error: no available transport.")}function $r(n,t){$i.call(this),this.g=new lv(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Xb)&&!Ld(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ld(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new xu(this)}function hv(n){Yy.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Nm(){Qy.call(this),this.status=1}function xu(n){this.g=n}(St=xn.prototype).da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Im.g(),this.C=function Ky(n){return n.h||(n.h=n.i())}(this.u?this.u:Im),this.g.onreadystatechange=Cr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void Cu(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Wt.FormData&&n instanceof Wt.FormData,!(0<=M0(Zd,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Tu(this),0<this.B&&((this.K=function qd(n){return pu&&function mm(){return function pm(n){var t=gm;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=k0(String(Vd)).split("."),e=k0("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=R0(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||R0(0==r[2].length,0==o[2].length)||R0(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cr(this.qa,this)):this.A=Ud(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){Cu(this,o)}},St.qa=function(){typeof Ry<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},St.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),pl(this))},St.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pl(this,!0)),xn.X.M.call(this)},St.Ha=function(){this.s||(this.F||this.v||this.l?Iu(this):this.eb())},St.eb=function(){Iu(this)},St.aa=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},St.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},St.Ra=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Mm(t)}},St.Ea=function(){return this.m},St.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=lv.prototype).ma=8,St.G=1,St.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Gp(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=L0(o),Vy(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=oC(this,r,t),jn(e=va(this.F),"RID",n),jn(e,"CVER",22),this.D&&jn(e,"X-HTTP-Session-Id",this.D),Yd(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(av(o)))+"&"+t:this.o&&Rm(e,this.o,o)),sv(this.h,r),this.Xa&&jn(e,"TYPE","init"),this.O?(jn(e,"$req",t),jn(e,"SID","null"),r.Z=!0,W0(r,e,null)):W0(r,e,t),this.G=2}}else 3==this.G&&(n?sC(this,n):0==this.i.length||nC(this.h)||sC(this))},St.Ia=function(){if(this.u=null,aC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Hd(Cr(this.cb,this),n)}},St.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Rr(10),Jp(this),aC(this))},St.bb=function(){null!=this.v&&(this.v=null,Jp(this),ef(this),Rr(19))},St.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Rr(2)):(this.j.info("Failed to ping google.com"),Rr(1))},(St=dv.prototype).xa=function(){},St.wa=function(){},St.va=function(){},St.ua=function(){},St.Qa=function(){},Qd.prototype.g=function(n,t){return new $r(n,t)},dr($r,$i),$r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Rr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=sf(n,null,n.V),Xp(n)},$r.prototype.close=function(){Om(this.g)},$r.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Hp(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.$a++,n)),3==t.G&&Xp(t)},$r.prototype.M=function(){this.g.l=null,delete this.j,Om(this.g),delete this.g,$r.X.M.call(this)},dr(hv,Yy),dr(Nm,Qy),dr(xu,dv),xu.prototype.xa=function(){Gi(this.g,"a")},xu.prototype.wa=function(n){Gi(this.g,new hv(n))},xu.prototype.va=function(n){Gi(this.g,new Nm(n))},xu.prototype.ua=function(){Gi(this.g,"b")},Qd.prototype.createWebChannel=Qd.prototype.g,$r.prototype.send=$r.prototype.u,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,Em.NO_ERROR=0,Em.TIMEOUT=8,Em.HTTP_ERROR=6,$0.COMPLETE="complete",G0.EventType=zd,zd.OPEN="a",zd.CLOSE="b",zd.ERROR="c",zd.MESSAGE="d",$i.prototype.listen=$i.prototype.N,xn.prototype.listenOnce=xn.prototype.O,xn.prototype.getLastError=xn.prototype.Na,xn.prototype.getLastErrorCode=xn.prototype.Ea,xn.prototype.getStatus=xn.prototype.aa,xn.prototype.getResponseJson=xn.prototype.Ra,xn.prototype.getResponseText=xn.prototype.fa,xn.prototype.send=xn.prototype.da;var FS=oc.createWebChannelTransport=function(){return new Qd},lC=oc.getStatEventTarget=function(){return Er()},Lm=oc.ErrorCode=Em,cC=oc.EventType=$0,uC=oc.Event=cc,dC=oc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hC=oc.FetchXmlHttpFactory=wu,af=oc.WebChannel=G0,pC=oc.XhrIo=xn;const Vm="@firebase/firestore";class Wi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Au="9.10.0";const fl=new ga.Yd("@firebase/firestore");function Bm(){return fl.logLevel}function $e(n,...t){if(fl.logLevel<=ga.in.DEBUG){const e=t.map(gC);fl.debug(`Firestore (${Au}): ${n}`,...e)}}function yi(n,...t){if(fl.logLevel<=ga.in.ERROR){const e=t.map(gC);fl.error(`Firestore (${Au}): ${n}`,...e)}}function pc(n,...t){if(fl.logLevel<=ga.in.WARN){const e=t.map(gC);fl.warn(`Firestore (${Au}): ${n}`,...e)}}function gC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: `+n;throw yi(t),new Error(t)}function Ut(n,t){n||ft()}function ot(n,t){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends In.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class _C{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Wi.UNAUTHENTICATED))}shutdown(){}}class NS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class vC{constructor(t){this.t=t,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let u=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xi,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable((0,Se.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},f=y=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>f(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new _C(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new Wi(t)}}class bC{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Jd{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new bC(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LS{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut("string"==typeof e.token),this.A=e.token,new wC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function BS(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class pv{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=BS(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Yt(n,t){return n<t?-1:n>t?1:0}function fc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Um(n){return n+"\0"}class yn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new He(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new He(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new He(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new He(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yn.fromMillis(Date.now())}static fromDate(t){return yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new yn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new yn(0,0))}static max(){return new Nt(new yn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xd{constructor(t,e,i){void 0===e?e=0:e>t.length&&ft(),void 0===i?i=t.length-e:i>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Xd.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xd?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Jt extends Xd{construct(t,e,i){return new Jt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new He(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Jt(e)}static emptyPath(){return new Jt([])}}const Io=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Xd{construct(t,e,i){return new Tn(t,e,i)}static isValidIdentifier(t){return Io.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tn(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new He(pe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new He(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new He(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new He(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Tn(e)}static emptyPath(){return new Tn([])}}class tt{constructor(t){this.path=t}static fromPath(t){return new tt(Jt.fromString(t))}static fromName(t){return new tt(Jt.fromString(t).popFirst(5))}static empty(){return new tt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Jt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Jt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new Jt(t.slice()))}}class lf{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function fv(n){return n.fields.find(t=>2===t.kind)}function Mu(n){return n.fields.filter(t=>2!==t.kind)}lf.UNKNOWN_ID=-1;class Hm{constructor(t,e){this.fieldPath=t,this.kind=e}}class gl{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new gl(0,ps.min())}}function CC(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nt.fromTimestamp(1e9===i?new yn(e+1,0):new yn(e,i));return new ps(r,tt.empty(),t)}function mv(n){return new ps(n.readTime,n.key,-1)}class ps{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ps(Nt.min(),tt.empty(),-1)}static max(){return new ps(Nt.max(),tt.empty(),-1)}}function zm(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=tt.comparator(n.documentKey,t.documentKey),0!==e?e:Yt(n.largestBatchId,t.largestBatchId))}const _v="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function gc(n){return jm.apply(this,arguments)}function jm(){return jm=(0,Se.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==_v)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),jm.apply(this,arguments)}class ge{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ge((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.reject(e)}static resolve(t){return new ge((e,i)=>{e(t)})}static reject(t){return new ge((e,i)=>{i(t)})}static waitFor(t){return new ge((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},f=>i(f))}),u=!0,o===r&&e()})}static or(t){let e=ge.resolve(!1);for(const i of t)e=e.next(r=>r?ge.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ge((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const y=f;e(t[y]).next(E=>{u[y]=E,++h,h===o&&i(u)},E=>r(E))}})}static doWhile(t,e){return new ge((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class eh{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Xi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new th(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=$m(i.target.error);this.P.reject(new th(t,r))}}static open(t,e,i,r){try{return new eh(e,t.transaction(r,i))}catch(o){throw new th(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new EC(e)}}class Gr{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Gr.D((0,In.z$)())&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),mc(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,In.hl)())return!1;if(Gr.N())return!0;const t=(0,In.z$)(),e=Gr.D(t),i=0<e&&e<10,r=Gr.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Se.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new th(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new He(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new He(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new th(t,h))},o.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Se.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.F(t);const f=eh.open(o.db,t,u?"readonly":"readwrite",i),y=r(f).next(E=>(f.V(),E)).catch(E=>(f.abort(E),ge.reject(E))).toPromise();return y.catch(()=>{}),yield f.v,y}catch(f){const y=f,E="FirebaseError"!==y.name&&h<3;if($e("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),o.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yv{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return mc(this.U.delete())}}class th extends He{constructor(t,e){super(pe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ml(n){return"IndexedDbTransactionError"===n.name}class EC{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),mc(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),mc(this.store.add(t))}get(t){return mc(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),mc(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),mc(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ge((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ge((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ge((i,r)=>{e.onerror=o=>{const u=$m(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new ge((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const f=new yv(h),y=e(h.primaryKey,h.value,f);if(y instanceof ge){const E=y.catch(D=>(f.done(),ge.reject(D)));i.push(E)}f.isDone?r():null===f.G?h.continue():h.continue(f.G)}}).next(()=>ge.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function mc(n){return new ge((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=$m(i.target.error);e(r)}})}let vv=!1;function $m(n){const t=Gr.D((0,In.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vv||(vv=!0,setTimeout(()=>{throw i},0)),i}}return n}class IC{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Se.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){ml(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield gc(i)}yield e.nt(6e4)}))}}class HS{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Se.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return ge.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return $e("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,o)).next(h=>($e("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=mv(o);zm(u,i)>0&&(i=u)}),new ps(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Wr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function TC(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ku(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function SC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Wr.at=-1;class vi{constructor(t,e){this.comparator=t,this.root=e||hr.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gm(this.root,t,this.comparator,!0)}}class Gm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??hr.RED,this.left=r??hr.EMPTY,this.right=o??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new hr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return hr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1,hr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,i,r){return this}insert(n,t,e){return new hr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new DC(this.data.getIterator())}getIteratorFrom(t){return new DC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Vn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Vn(this.comparator);return e.data=t,e}}class DC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nh(n){return n.hasNext()?n.getNext():void 0}class fs{constructor(t){this.fields=t,t.sort(Tn.comparator)}static empty(){return new fs([])}unionWith(t){let e=new Vn(Tn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new fs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fc(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Zi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Zi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Zi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zi.EMPTY_BYTE_STRING=new Zi("");const jS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=jS.exec(n);if(Ut(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bi(n.seconds),nanos:bi(n.nanos)}}function bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ru(n){return"string"==typeof n?Zi.fromBase64String(n):Zi.fromUint8Array(n)}function Wm(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function bv(n){const t=n.mapValue.fields.__previous_value__;return Wm(t)?bv(t):t}function ih(n){const t=_c(n.mapValue.fields.__local_write_time__.timestampValue);return new yn(t.seconds,t.nanos)}class xC{constructor(t,e,i,r,o,u,h,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=f}}class _l{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new _l("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof _l&&t.projectId===this.projectId&&t.database===this.database}}function rh(n){return null==n}function sh(n){return 0===n&&1/n==-1/0}function wv(n){return"number"==typeof n&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uf={nullValue:"NULL_VALUE"};function yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wm(n)?4:AC(n)?9007199254740991:10:ft()}function Ir(n,t){if(n===t)return!0;const e=yc(n);if(e!==yc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ih(n).isEqual(ih(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=_c(i.timestampValue),u=_c(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ru(n.bytesValue).isEqual(Ru(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return bi(i.geoPointValue.latitude)===bi(r.geoPointValue.latitude)&&bi(i.geoPointValue.longitude)===bi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return bi(i.integerValue)===bi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=bi(i.doubleValue),u=bi(r.doubleValue);return o===u?sh(o)===sh(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return fc(n.arrayValue.values||[],t.arrayValue.values||[],Ir);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(TC(o)!==TC(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Ir(o[h],u[h])))return!1;return!0}(n,t);default:return ft()}var r}function df(n,t){return void 0!==(n.values||[]).find(e=>Ir(e,t))}function vc(n,t){if(n===t)return 0;const e=yc(n),i=yc(t);if(e!==i)return Yt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=bi(r.integerValue||r.doubleValue),h=bi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return Ou(n.timestampValue,t.timestampValue);case 4:return Ou(ih(n),ih(t));case 5:return Yt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Ru(r),h=Ru(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let f=0;f<u.length&&f<h.length;f++){const y=Yt(u[f],h[f]);if(0!==y)return y}return Yt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Yt(bi(r.latitude),bi(o.latitude));return 0!==u?u:Yt(bi(r.longitude),bi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let f=0;f<u.length&&f<h.length;++f){const y=vc(u[f],h[f]);if(y)return y}return Yt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===yl.mapValue&&o===yl.mapValue)return 0;if(r===yl.mapValue)return 1;if(o===yl.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),f=o.fields||{},y=Object.keys(f);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const D=Yt(h[E],y[E]);if(0!==D)return D;const P=vc(u[h[E]],f[y[E]]);if(0!==P)return P}return Yt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw ft()}}function Ou(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Yt(n,t);const e=_c(n),i=_c(t),r=Yt(e.seconds,i.seconds);return 0!==r?r:Yt(e.nanos,i.nanos)}function hf(n){return pf(n)}function pf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=_c(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ru(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=pf(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${pf(i.fields[h])}`;return o+"}"}(n.mapValue):ft();var t}function oh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Zm(n){return!!n&&"integerValue"in n}function ah(n){return!!n&&"arrayValue"in n}function $S(n){return!!n&&"nullValue"in n}function Rt(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qm(n){return!!n&&"mapValue"in n}function ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ku(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ff(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ff(n.arrayValue.values[e]);return t}return Object.assign({},n)}function AC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lh(n){return"nullValue"in n?uf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?oh(_l.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function GS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?oh(_l.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yl:ft()}function gf(n,t){const e=vc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function mf(n,t){const e=vc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!qm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ff(e)}setAll(t){let e=Tn.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=ff(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());qm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ir(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];qm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ku(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ln(ff(this.value))}}function WS(n){const t=[];return ku(n.fields,(e,i)=>{const r=new Tn([e]);if(qm(i)){const o=WS(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new fs(t)}class $n{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new $n(t,0,Nt.min(),Nt.min(),ln.empty(),0)}static newFoundDocument(t,e,i){return new $n(t,1,e,Nt.min(),i,0)}static newNoDocument(t,e){return new $n(t,2,e,Nt.min(),ln.empty(),0)}static newUnknownDocument(t,e){return new $n(t,3,e,Nt.min(),ln.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof $n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class MC{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ht=null}}function kC(n,t=null,e=[],i=[],r=null,o=null,u=null){return new MC(n,t,e,i,r,o,u)}function bc(n){const t=ot(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+hf(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),rh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>hf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>hf(i)).join(",")),t.ht=e}return t.ht}function ch(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!QS(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Ir(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!BC(n.startAt,t.startAt)&&BC(n.endAt,t.endAt)}function _f(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Km(n,t){return n.filters.filter(e=>e instanceof Di&&e.field.isEqual(t))}function OC(n,t,e){let i=uf,r=!0;for(const o of Km(n,t)){let u=uf,h=!0;switch(o.op){case"<":case"<=":u=lh(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=uf}gf({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];gf({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function PC(n,t,e){let i=yl,r=!0;for(const o of Km(n,t)){let u=yl,h=!0;switch(o.op){case">=":case">":u=GS(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=yl}mf({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];mf({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Di extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new ZS(t,e,i):"array-contains"===e?new FC(t,i):"in"===e?new NC(t,i):"not-in"===e?new LC(t,i):"array-contains-any"===e?new YS(t,i):new Di(t,e,i)}static lt(t,e,i){return"in"===e?new qS(t,i):new KS(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(vc(e,this.value)):null!==e&&yc(this.value)===yc(e)&&this.ft(vc(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ZS extends Di{constructor(t,e,i){super(t,e,i),this.key=tt.fromName(i.referenceValue)}matches(t){const e=tt.comparator(t.key,this.key);return this.ft(e)}}class qS extends Di{constructor(t,e){super(t,"in",e),this.keys=yf(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class KS extends Di{constructor(t,e){super(t,"not-in",e),this.keys=yf(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function yf(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>tt.fromName(i.referenceValue))}class FC extends Di{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ah(e)&&df(e.arrayValue,this.value)}}class NC extends Di{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&df(this.value.arrayValue,e)}}class LC extends Di{constructor(t,e){super(t,"not-in",e)}matches(t){if(df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!df(this.value.arrayValue,e)}}class YS extends Di{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ah(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>df(this.value.arrayValue,i))}}class zs{constructor(t,e){this.position=t,this.inclusive=e}}class ba{constructor(t,e="asc"){this.field=t,this.dir=e}}function QS(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function VC(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?tt.comparator(tt.fromName(u.referenceValue),e.key):vc(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function BC(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ir(n.position[e],t.position[e]))return!1;return!0}class wa{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this._t=null,this.wt=null}}function Cv(n,t,e,i,r,o,u,h){return new wa(n,t,e,i,r,o,u,h)}function Pu(n){return new wa(n)}function UC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ym(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ev(n){for(const t of n.filters)if(t.dt())return t.field;return null}function Iv(n){return null!==n.collectionGroup}function vf(n){const t=ot(n);if(null===t._t){t._t=[];const e=Ev(t),i=Ym(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new ba(e)),t._t.push(new ba(Tn.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t._t.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ba(Tn.keyField(),o))}}}return t._t}function gs(n){const t=ot(n);if(!t.wt)if("F"===t.limitType)t.wt=kC(t.path,t.collectionGroup,vf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of vf(t))e.push(new ba(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zs(t.startAt.position,t.startAt.inclusive):null;t.wt=kC(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function Tv(n,t,e){return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Qm(n,t){return ch(gs(n),gs(t))&&n.limitType===t.limitType}function Sv(n){return`${bc(gs(n))}|lt:${n.limitType}`}function uh(n){return`Query(target=${function RC(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${hf(i.value)}`;var i}).join(", ")}]`),rh(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>hf(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>hf(e)).join(",")),`Target(${t})`}(gs(n))}; limitType=${n.limitType})`}function Dv(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):tt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=VC(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,vf(e),i)||e.endAt&&!function(r,o,u){const h=VC(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,vf(e),i)));var e,i}function HC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xv(n){return(t,e)=>{let i=!1;for(const r of vf(n)){const o=bf(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function bf(n,t,e){const i=n.field.isKeyField()?tt.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),f=u.data.field(r);return null!==h&&null!==f?vc(h,f):ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function zC(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function jC(n){return{integerValue:""+n}}function $C(n,t){return wv(t)?jC(t):zC(n,t)}class Jm{constructor(){this._=void 0}}function JS(n,t,e){return n instanceof dh?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof To?ZC(n,t):n instanceof wc?qC(n,t):function(i,r){const o=WC(i,r),u=KC(o)+KC(i.yt);return Zm(o)&&Zm(i.yt)?jC(u):zC(i.It,u)}(n,t)}function GC(n,t,e){return n instanceof To?ZC(n,t):n instanceof wc?qC(n,t):e}function WC(n,t){return n instanceof Fu?Zm(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class dh extends Jm{}class To extends Jm{constructor(t){super(),this.elements=t}}function ZC(n,t){const e=Av(t);for(const i of n.elements)e.some(r=>Ir(r,i))||e.push(i);return{arrayValue:{values:e}}}class wc extends Jm{constructor(t){super(),this.elements=t}}function qC(n,t){let e=Av(t);for(const i of n.elements)e=e.filter(r=>!Ir(r,i));return{arrayValue:{values:e}}}class Fu extends Jm{constructor(t,e){super(),this.It=t,this.yt=e}}function KC(n){return bi(n.integerValue||n.doubleValue)}function Av(n){return ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wf{constructor(t,e){this.field=t,this.transform=e}}class XS{constructor(t,e){this.version=t,this.transformResults=e}}class ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cf(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Xm{}function YC(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ph(n.key,ti.none()):new hh(n.key,n.data,ti.none());{const e=n.data,i=ln.empty();let r=new Vn(Tn.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new vl(n.key,i,new fs(r.toArray()),ti.none())}}function eD(n,t,e){n instanceof hh?function(i,r,o){const u=i.value.clone(),h=JC(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof vl?function(i,r,o){if(!Cf(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=JC(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(QC(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Nu(n,t,e,i){return n instanceof hh?function(r,o,u,h){if(!Cf(r.precondition,o))return u;const f=r.value.clone(),y=XC(r.fieldTransforms,h,o);return f.setAll(y),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof vl?function(r,o,u,h){if(!Cf(r.precondition,o))return u;const f=XC(r.fieldTransforms,h,o),y=o.data;return y.setAll(QC(r)),y.setAll(f),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(u=e,Cf(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function tD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=WC(i.transform,r||null);null!=o&&(null===e&&(e=ln.empty()),e.set(i.field,o))}return e||null}function kv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&fc(e,i,(r,o)=>function Mv(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof To&&i instanceof To||e instanceof wc&&i instanceof wc?fc(e.elements,i.elements,Ir):e instanceof Fu&&i instanceof Fu?Ir(e.yt,i.yt):e instanceof dh&&i instanceof dh);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class hh extends Xm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vl extends Xm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function JC(n,t,e){const i=new Map;Ut(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,GC(u,h,e[r]))}return i}function XC(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,JS(o,u,t))}return i}class ph extends Xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rv extends Xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nD{constructor(t){this.count=t}}var xi,mn;function eE(n){switch(n){default:return ft();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function tE(n){if(void 0===n)return yi("GRPC error has no .code"),pe.UNKNOWN;switch(n){case xi.OK:return pe.OK;case xi.CANCELLED:return pe.CANCELLED;case xi.UNKNOWN:return pe.UNKNOWN;case xi.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case xi.INTERNAL:return pe.INTERNAL;case xi.UNAVAILABLE:return pe.UNAVAILABLE;case xi.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case xi.NOT_FOUND:return pe.NOT_FOUND;case xi.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case xi.ABORTED:return pe.ABORTED;case xi.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case xi.DATA_LOSS:return pe.DATA_LOSS;default:return ft()}}(mn=xi||(xi={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class bl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ku(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return SC(this.inner)}size(){return this.innerSize}}const iD=new vi(tt.comparator);function Zr(){return iD}const nE=new vi(tt.comparator);function Lu(...n){let t=nE;for(const e of n)t=t.insert(e.key,e);return t}function e_(n){let t=nE;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function So(){return Ef()}function t_(){return Ef()}function Ef(){return new bl(n=>n.toString(),(n,t)=>n.isEqual(t))}const rD=new vi(tt.comparator),Ov=new Vn(tt.comparator);function tn(...n){let t=Ov;for(const e of n)t=t.add(e);return t}const iE=new Vn(Yt);function wl(){return iE}class fh{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,If.createSynthesizedTargetChangeForCurrentChange(t,e)),new fh(Nt.min(),i,wl(),Zr(),tn())}}class If{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new If(Zi.EMPTY_BYTE_STRING,e,tn(),tn(),tn())}}class Pv{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class Fv{constructor(t,e){this.targetId=t,this.At=e}}class n_{constructor(t,e,i=Zi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class rE{constructor(){this.Rt=0,this.bt=Lv(),this.Pt=Zi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=tn(),e=tn(),i=tn();return this.bt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new If(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=Lv()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Nv{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Zr(),this.qt=sE(),this.Kt=new Vn(Yt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const o=r.target;if(_f(o))if(0===i){const u=new tt(o.path);this.jt(e,u,$n.newNoDocument(u,Nt.min()))}else Ut(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((o,u)=>{const h=this.Xt(u);if(h){if(o.current&&_f(h.target)){const f=new tt(h.target.path);null!==this.Ut.get(f)||this.ee(u,f)||this.jt(u,f,$n.newNoDocument(f,t))}o.Dt&&(e.set(u,o.xt()),o.Nt())}});let i=tn();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const y=this.Xt(f);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Ut.forEach((o,u)=>u.setReadTime(t));const r=new fh(t,e,this.Kt,this.Ut,i);return this.Ut=Zr(),this.qt=sE(),this.Kt=new Vn(Yt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new rE,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Vn(Yt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new rE),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function sE(){return new vi(tt.comparator)}function Lv(){return new vi(tt.comparator)}const Vv={asc:"ASCENDING",desc:"DESCENDING"},oE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class aE{constructor(t,e){this.databaseId=t,this.gt=e}}function gh(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bv(n,t){return n.gt?t.toBase64():t.toUint8Array()}function sD(n,t){return gh(n,t.toTimestamp())}function er(n){return Ut(!!n),Nt.fromTimestamp(function(t){const e=_c(t);return new yn(e.seconds,e.nanos)}(n))}function Uv(n,t){return(e=n,new Jt(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function lE(n){const t=Jt.fromString(n);return Ut($v(t)),t}function mh(n,t){return Uv(n.databaseId,t.path)}function Cl(n,t){const e=lE(t);if(e.get(1)!==n.databaseId.projectId)throw new He(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new He(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new tt(oD(e))}function i_(n,t){return Uv(n.databaseId,t)}function cE(n){const t=lE(n);return 4===t.length?Jt.emptyPath():oD(t)}function Tf(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oD(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aD(n,t,e){return{name:mh(n,t),fields:e.value.mapValue.fields}}function uE(n,t,e){const i=Cl(n,t.name),r=er(t.updateTime),o=new ln({mapValue:{fields:t.fields}}),u=$n.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function _h(n,t){let e;if(t instanceof hh)e={update:aD(n,t.key,t.value)};else if(t instanceof ph)e={delete:mh(n,t.key)};else if(t instanceof vl)e={update:aD(n,t.key,t.data),updateMask:yE(t.fieldMask)};else{if(!(t instanceof Rv))return ft();e={verify:mh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof dh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof To)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fu)return{fieldPath:o.field.canonicalString(),increment:u.yt};throw ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:sD(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),e;var r}function r_(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ti.updateTime(er(r.updateTime)):void 0!==r.exists?ti.exists(r.exists):ti.none():ti.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Ut("REQUEST_TIME"===u.setToServerValue),h=new dh):"appendMissingElements"in u?h=new To(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new wc(u.removeAllFromArray.values||[]):"increment"in u?h=new Fu(o,u.increment):ft();const f=Tn.fromServerFormat(u.fieldPath);return new wf(f,h)}(n,r)):[];var r;if(t.update){const r=Cl(n,t.update.name),o=new ln({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new fs((t.updateMask.fieldPaths||[]).map(y=>Tn.fromServerFormat(y)));return new vl(r,o,u,e,i)}return new hh(r,o,e,i)}if(t.delete){const r=Cl(n,t.delete);return new ph(r,e)}if(t.verify){const r=Cl(n,t.verify);return new Rv(r,e)}return ft()}function Hv(n,t){return{documents:[i_(n,t.path)]}}function zv(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=i_(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=i_(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const y=f.map(E=>function(D){if("=="===D.op){if(Rt(D.value))return{unaryFilter:{field:Vu(D.field),op:"IS_NAN"}};if($S(D.value))return{unaryFilter:{field:Vu(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(Rt(D.value))return{unaryFilter:{field:Vu(D.field),op:"IS_NOT_NAN"}};if($S(D.value))return{unaryFilter:{field:Vu(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(D.field),op:Sf(D.op),value:D.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(y=>{return{field:Vu((E=y).field),direction:gE(E.dir)};var E})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(y=t.limit,n.gt||rh(y)?y:{value:y});var y,h,f;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function jv(n){let t=cE(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ut(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let o=[];e.where&&(o=fE(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new ba(Bu((D=E).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;e.limit&&(h=function(E){let D;return D="object"==typeof E?E.value:E,rh(D)?null:D}(e.limit));let f=null;var E;e.startAt&&(f=new zs((E=e.startAt).values||[],!!E.before));let y=null;return e.endAt&&(y=function(E){return new zs(E.values||[],!E.before)}(e.endAt)),Cv(t,r,u,o,h,"F",f,y)}function fE(n){return n?void 0!==n.unaryFilter?[_E(n)]:void 0!==n.fieldFilter?[mE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>fE(t)).reduce((t,e)=>t.concat(e)):ft():[]}function gE(n){return Vv[n]}function Sf(n){return oE[n]}function Vu(n){return{fieldPath:n.canonicalString()}}function Bu(n){return Tn.fromServerFormat(n.fieldPath)}function mE(n){return Di.create(Bu(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function _E(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Bu(n.unaryFilter.field);return Di.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Bu(n.unaryFilter.field);return Di.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bu(n.unaryFilter.field);return Di.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Bu(n.unaryFilter.field);return Di.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function yE(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $v(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Or(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Gv(t)),t=XA(n.get(e),t);return Gv(t)}function XA(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function Gv(n){return n+"\x01\x01"}function Do(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ft(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let f;0===r.length?f=h:(r+=h,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ft()}o=u+2}return new Jt(i)}const Wv=["userId","batchId"];function s_(n,t){return[n,Or(t)]}function vE(n,t,e){return[n,Or(t),e]}const Df={},cD=["prefixPath","collectionGroup","readTime","documentId"],Zv=["prefixPath","collectionGroup","documentId"],Ca=["collectionGroup","readTime","prefixPath","documentId"],uD=["canonicalId","targetId"],qv=["targetId","path"],xf=["path","targetId"],dD=["collectionId","parent"],hD=["indexId","uid"],pD=["uid","sequenceNumber"],o_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],a_=["indexId","uid","orderedDocumentKey"],fD=["userId","collectionPath","documentId"],gD=["userId","collectionPath","largestBatchId"],bE=["userId","collectionGroup","largestBatchId"],Kv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yv=[...Kv,"documentOverlays"],Qv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wE=Qv,mD=[...wE,"indexConfiguration","indexState","indexEntries"];class CE extends cf{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Bi(n,t){const e=ot(n);return Gr.O(e.ie,t)}class Af{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&eD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Nu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=t_();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const f=YC(u,h);null!==f&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Nt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),tn())}isEqual(t){return this.batchId===t.batchId&&fc(this.mutations,t.mutations,(e,i)=>kv(e,i))&&fc(this.baseMutations,t.baseMutations,(e,i)=>kv(e,i))}}class l_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ut(t.mutations.length===i.length);let r=rD;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new l_(t,e,i,r)}}class Mf{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ea{constructor(t,e,i,r,o=Nt.min(),u=Nt.min(),h=Zi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Ea(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class EE{constructor(t){this.re=t}}function IE(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:c_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:mh(r=n.re,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:gh(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Cc(t.version)};else{if(!t.isUnknownDocument())return ft();i.unknownDocument={path:e.path.toArray(),version:Cc(t.version)}}var r,o;return i}function c_(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Cc(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function El(n){const t=new yn(n.seconds,n.nanoseconds);return Nt.fromTimestamp(t)}function Ec(n,t){const e=(t.baseMutations||[]).map(o=>r_(n.re,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>r_(n.re,o)),r=yn.fromMillis(t.localWriteTimeMs);return new Af(t.batchId,r,e,i)}function yh(n){const t=El(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?El(n.lastLimboFreeSnapshotVersion):Nt.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=gs(Pu(cE(r.documents[0])))):i=gs(jv(n.query)),new Ea(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Zi.fromBase64String(n.resumeToken))}function Jv(n,t){const e=Cc(t.snapshotVersion),i=Cc(t.lastLimboFreeSnapshotVersion);let r;r=_f(t.target)?Hv(n.re,t.target):zv(n.re,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bc(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function u_(n){const t=jv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tv(t,t.limit,"L"):t}function Xv(n,t){return new Mf(t.largestBatchId,r_(n.re,t.overlayMutation))}function eb(n,t){const e=t.path.lastSegment();return[n,Or(t.path.popLast()),e]}function tb(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Cc(i.readTime),documentKey:Or(i.documentKey.path),largestBatchId:i.largestBatchId}}class yD{getBundleMetadata(t,e){return nb(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:El(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return nb(t).put({bundleId:(i=e).id,createTime:Cc(er(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return ib(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:u_(r.bundledQuery),readTime:El(r.readTime)};var r})}saveNamedQuery(t,e){return ib(t).put({name:(i=e).name,readTime:Cc(er(i.readTime)),bundledQuery:i.bundledQuery});var i}}function nb(n){return Bi(n,"bundles")}function ib(n){return Bi(n,"namedQueries")}class tr{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new tr(t,e.uid||"")}getOverlay(t,e){return Ia(t).get(eb(this.userId,e)).next(i=>i?Xv(this.It,i):null)}getOverlays(t,e){const i=So();return ge.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new Mf(e,u);r.push(this.ue(t,h))}),ge.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Or(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Ia(t).Y("collectionPathOverlayIndex",h))}),ge.waitFor(o)}getOverlaysForCollection(t,e,i){const r=So(),o=Or(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ia(t).W("collectionPathOverlayIndex",u).next(h=>{for(const f of h){const y=Xv(this.It,f);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=So();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ia(t).Z({index:"collectionGroupOverlayIndex",range:h},(f,y,E)=>{const D=Xv(this.It,y);o.size()<r||D.largestBatchId===u?(o.set(D.getKey(),D),u=D.largestBatchId):E.done()}).next(()=>o)}ue(t,e){return Ia(t).put(function(i,r,o){const[u,h,f]=eb(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:_h(i.re,o.mutation)}}(this.It,this.userId,e))}}function Ia(n){return Bi(n,"documentOverlays")}class Uu{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(bi(t.integerValue));else if("doubleValue"in t){const i=bi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),sh(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Ru(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?AC(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):ft()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),tt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function vD(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function bD(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=vD(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Uu.Te=new Uu;class eM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=bD(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=bD(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class TE{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class SE{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class Il{constructor(){this.Be=new eM,this.Le=new TE(this.Be),this.Ue=new SE(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Hu{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Hu(this.indexId,this.documentKey,this.arrayValue,i)}}function Tl(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=DE(n.arrayValue,t.arrayValue),0!==e?e:(e=DE(n.directionalValue,t.directionalValue),0!==e?e:tt.comparator(n.documentKey,t.documentKey)))}function DE(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class xE{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=fv(t);if(void 0!==e&&!this.ze(e))return!1;const i=Mu(t);let r=0,o=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ge.length||!this.Je(this.Ge[o++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class wD{constructor(){this.Ye=new rb}addToCollectionParentIndex(t,e){return this.Ye.add(e),ge.resolve()}getCollectionParents(t,e){return ge.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return ge.resolve()}deleteFieldIndex(t,e){return ge.resolve()}getDocumentsMatchingTarget(t,e){return ge.resolve(null)}getIndexType(t,e){return ge.resolve(0)}getFieldIndexes(t,e){return ge.resolve([])}getNextCollectionGroupToUpdate(t){return ge.resolve(null)}getMinOffset(t,e){return ge.resolve(ps.min())}getMinOffsetFromCollectionGroup(t,e){return ge.resolve(ps.min())}updateCollectionGroup(t,e,i){return ge.resolve()}updateIndexEntries(t,e){return ge.resolve()}}class rb{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Vn(Jt.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Vn(Jt.comparator)).toArray()}}const d_=new Uint8Array(0);class sb{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new rb,this.Ze=new bl(i=>bc(i),(i,r)=>ch(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const o={collectionId:i,parent:Or(r)};return ob(t).put(o)}return ge.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Um(e),""],!1,!0);return ob(t).W(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Do(u.parent))}return i})}addFieldIndex(t,e){const i=zu(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=ju(t);return o.next(h=>{u.put(tb(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=zu(t),r=ju(t),o=vh(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=vh(t);let r=!0;const o=new Map;return ge.forEach(this.tn(e),u=>this.en(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=tn();const h=[];return ge.forEach(o,(f,y)=>{var E;$e("IndexedDbIndexManager",`Using index ${E=f,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${bc(e)}`);const D=function(et,Xe){const _t=fv(Xe);if(void 0===_t)return null;for(const Dt of Km(et,_t.fieldPath))switch(Dt.op){case"array-contains-any":return Dt.value.arrayValue.values||[];case"array-contains":return[Dt.value]}return null}(y,f),P=function(et,Xe){const _t=new Map;for(const Dt of Mu(Xe))for(const cn of Km(et,Dt.fieldPath))switch(cn.op){case"==":case"in":_t.set(Dt.fieldPath.canonicalString(),cn.value);break;case"not-in":case"!=":return _t.set(Dt.fieldPath.canonicalString(),cn.value),Array.from(_t.values())}return null}(y,f),L=function(et,Xe){const _t=[];let Dt=!0;for(const cn of Mu(Xe)){const mi=0===cn.kind?OC(et,cn.fieldPath,et.startAt):PC(et,cn.fieldPath,et.startAt);_t.push(mi.value),Dt&&(Dt=mi.inclusive)}return new zs(_t,Dt)}(y,f),B=function(et,Xe){const _t=[];let Dt=!0;for(const cn of Mu(Xe)){const mi=0===cn.kind?PC(et,cn.fieldPath,et.endAt):OC(et,cn.fieldPath,et.endAt);_t.push(mi.value),Dt&&(Dt=mi.inclusive)}return new zs(_t,Dt)}(y,f),te=this.nn(f,y,L),re=this.nn(f,y,B),Pe=this.sn(f,y,P),Ze=this.rn(f.indexId,D,te,L.inclusive,re,B.inclusive,Pe);return ge.forEach(Ze,et=>i.J(et,e.limit).next(Xe=>{Xe.forEach(_t=>{const Dt=tt.fromSegments(_t.documentKey);u.has(Dt)||(u=u.add(Dt),h.push(Dt))})}))}).next(()=>h)}return ge.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,o,u,h){const f=(null!=e?e.length:1)*Math.max(i.length,o.length),y=f/(null!=e?e.length:1),E=[];for(let D=0;D<f;++D){const P=e?this.on(e[D/y]):d_,L=this.un(t,P,i[D%y],r),B=this.cn(t,P,o[D%y],u),te=h.map(re=>this.un(t,P,re,!0));E.push(...this.createRange(L,B,te))}return E}un(t,e,i,r){const o=new Hu(t,tt.empty(),e,i);return r?o:o.Ke()}cn(t,e,i,r){const o=new Hu(t,tt.empty(),e,i);return r?o.Ke():o}en(t,e){const i=new xE(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return ge.forEach(this.tn(e),r=>this.en(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new Vn(Tn.comparator),f=!1;for(const y of u.filters){const E=y;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?f=!0:h=h.add(E.field))}for(const y of u.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new Il;for(const r of Mu(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);Uu.Te.ce(o,u)}return i.$e()}on(t){const e=new Il;return Uu.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new Il;return Uu.Te.ce(oh(this.databaseId,e),i.qe(function(r){const o=Mu(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new Il);let o=0;for(const u of Mu(t)){const h=i[o++];for(const f of r)if(this.ln(e,u.fieldPath)&&ah(h))r=this.fn(r,u,h);else{const y=f.qe(u.kind);Uu.Te.ce(h,y)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const f=new Il;f.seed(h.$e()),Uu.Te.ce(u,f.qe(e.kind)),o.push(f)}return o}ln(t,e){return!!t.filters.find(i=>i instanceof Di&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=zu(t),r=ju(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const u=[];return ge.forEach(o,h=>r.get([h.indexId,this.uid]).next(f=>{u.push(function(y,E){const D=E?new gl(E.sequenceNumber,new ps(El(E.readTime),new tt(Do(E.documentKey)),E.largestBatchId)):gl.empty(),P=y.fields.map(([L,B])=>new Hm(Tn.fromServerFormat(L),B));return new lf(y.indexId,y.collectionGroup,P,D)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Yt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=zu(t),o=ju(t);return this._n(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ge.forEach(h,f=>o.put(tb(f.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ge.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ge.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ge.forEach(h,f=>this.wn(t,r,f).next(y=>{const E=this.mn(o,f);return y.isEqual(E)?ge.resolve():this.gn(t,o,f,y,E)}))))})}yn(t,e,i,r){return vh(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return vh(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=vh(t);let o=new Vn(Tl);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(u,h)=>{o=o.add(new Hu(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}mn(t,e){let i=new Vn(Tl);const r=this.an(e,t);if(null==r)return i;const o=fv(e);if(null!=o){const u=t.data.field(o.fieldPath);if(ah(u))for(const h of u.arrayValue.values||[])i=i.add(new Hu(e.indexId,t.key,this.on(h),r))}else i=i.add(new Hu(e.indexId,t.key,d_,r));return i}gn(t,e,i,r,o){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,f,y,E,D){const P=h.getIterator(),L=f.getIterator();let B=nh(P),te=nh(L);for(;B||te;){let re=!1,Pe=!1;if(B&&te){const Ze=y(B,te);Ze<0?Pe=!0:Ze>0&&(re=!0)}else null!=B?Pe=!0:re=!0;re?(E(te),te=nh(L)):Pe?(D(B),B=nh(P)):(B=nh(P),te=nh(L))}}(r,o,Tl,h=>{u.push(this.yn(t,e,i,h))},h=>{u.push(this.pn(t,e,i,h))}),ge.waitFor(u)}_n(t){let e=1;return ju(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Tl(u,h)).filter((u,h,f)=>!h||0!==Tl(u,f[h-1]));const r=[];r.push(t);for(const u of i){const h=Tl(u,t),f=Tl(u,e);if(0===h)r[0]=t.Ke();else if(h>0&&f<0)r.push(u),r.push(u.Ke());else if(f>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,d_,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,d_,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(CD)}getMinOffset(t,e){return ge.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||ft())).next(CD)}}function ob(n){return Bi(n,"collectionParents")}function vh(n){return Bi(n,"indexEntries")}function zu(n){return Bi(n,"indexConfiguration")}function ju(n){return Bi(n,"indexState")}function CD(n){Ut(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;zm(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ps(t.readTime,t.documentKey,e)}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new qr(t,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lb(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const f=i.Z({range:u},(E,D,P)=>(h++,P.delete()));o.push(f.next(()=>{Ut(1===h)}));const y=[];for(const E of e.mutations){const D=vE(t,E.key.path,e.batchId);o.push(r.delete(D)),y.push(E.key)}return ge.waitFor(o).next(()=>y)}function Sl(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(41943040,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);class h_{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Ut(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new h_(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ta(t).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=kf(t),u=Ta(t);return u.add({}).next(h=>{Ut("number"==typeof h);const f=new Af(h,e,i,r),y=function(P,L,B){const te=B.baseMutations.map(Pe=>_h(P.re,Pe)),re=B.mutations.map(Pe=>_h(P.re,Pe));return{userId:L,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:te,mutations:re}}(this.It,this.userId,f),E=[];let D=new Vn((P,L)=>Yt(P.canonicalString(),L.canonicalString()));for(const P of r){const L=vE(this.userId,P.key.path,h);D=D.add(P.key.path.popLast()),E.push(u.put(y)),E.push(o.put(L,Df))}return D.forEach(P=>{E.push(this.indexManager.addToCollectionParentIndex(t,P))}),t.addOnCommittedListener(()=>{this.In[h]=f.keys()}),ge.waitFor(E).next(()=>f)})}lookupMutationBatch(t,e){return Ta(t).get(e).next(i=>i?(Ut(i.userId===this.userId),Ec(this.It,i)):null)}Tn(t,e){return this.In[e]?ge.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ta(t).Z({index:"userMutationsIndex",range:r},(u,h,f)=>{h.userId===this.userId&&(Ut(h.batchId>=i),o=Ec(this.It,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ta(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ta(t).W("userMutationsIndex",e).next(i=>i.map(r=>Ec(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=s_(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return kf(t).Z({range:r},(u,h,f)=>{const[y,E,D]=u,P=Do(E);if(y===this.userId&&e.path.isEqual(P))return Ta(t).get(D).next(L=>{if(!L)throw ft();Ut(L.userId===this.userId),o.push(Ec(this.It,L))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(Yt);const r=[];return e.forEach(o=>{const u=s_(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=kf(t).Z({range:h},(y,E,D)=>{const[P,L,B]=y,te=Do(L);P===this.userId&&o.path.isEqual(te)?i=i.add(B):D.done()});r.push(f)}),ge.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=s_(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new Vn(Yt);return kf(t).Z({range:u},(f,y,E)=>{const[D,P,L]=f,B=Do(P);D===this.userId&&i.isPrefixOf(B)?B.length===r&&(h=h.add(L)):E.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Ta(t).get(o).next(u=>{if(null===u)throw ft();Ut(u.userId===this.userId),i.push(Ec(this.It,u))}))}),ge.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return lb(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ge.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ge.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return kf(t).Z({range:i},(o,u,h)=>{if(o[0]===this.userId){const f=Do(o[1]);r.push(f)}else h.done()}).next(()=>{Ut(0===r.length)})})}containsKey(t,e){return cb(t,this.userId,e)}Rn(t){return AE(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cb(n,t,e){const i=s_(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return kf(n).Z({range:o,X:!0},(h,f,y)=>{const[E,D,P]=h;E===t&&D===r&&(u=!0),y.done()}).next(()=>u)}function Ta(n){return Bi(n,"mutations")}function kf(n){return Bi(n,"documentMutations")}function AE(n){return Bi(n,"mutationQueues")}class bh{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new bh(0)}static vn(){return new bh(-1)}}class ED{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new bh(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Nt.fromTimestamp(new yn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>wh(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return wh(t).Z((u,h)=>{const f=yh(h);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,o.push(this.removeTargetData(t,f)))}).next(()=>ge.waitFor(o)).next(()=>r)}forEachTarget(t,e){return wh(t).Z((i,r)=>{const o=yh(r);e(o)})}Vn(t){return ME(t).get("targetGlobalKey").next(e=>(Ut(null!==e),e))}Sn(t,e){return ME(t).put("targetGlobalKey",e)}Dn(t,e){return wh(t).put(Jv(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=bc(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return wh(t).Z({range:r,index:"queryTargetsIndex"},(u,h,f)=>{const y=yh(h);ch(e,y.target)&&(o=y,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Dl(t);return e.forEach(u=>{const h=Or(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ge.waitFor(r)}removeMatchingKeys(t,e,i){const r=Dl(t);return ge.forEach(e,o=>{const u=Or(o.path);return ge.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Dl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Dl(t);let o=tn();return r.Z({range:i,X:!0},(u,h,f)=>{const y=Do(u[1]),E=new tt(y);o=o.add(E)}).next(()=>o)}containsKey(t,e){const i=Or(e.path),r=IDBKeyRange.bound([i],[Um(i)],!1,!0);let o=0;return Dl(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],f,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}se(t,e){return wh(t).get(e).next(i=>i?yh(i):null)}}function wh(n){return Bi(n,"targets")}function ME(n){return Bi(n,"targetGlobal")}function Dl(n){return Bi(n,"targetDocuments")}function ub([n,t],[e,i]){const r=Yt(n,e);return 0===r?Yt(t,i):r}class ID{constructor(t){this.xn=t,this.buffer=new Vn(ub),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();ub(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class kE{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Se.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){ml(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield gc(i)}yield e.Fn(3e5)}))}}class RE{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ge.resolve(Wr.at);const i=new ID(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(ab)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,o,u,h,f,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,u=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(t,i,e))).next(D=>(o=D,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(y=Date.now(),Bm()<=ga.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(f-h)+`ms\n\tRemoved ${D} documents in `+(y-f)+`ms\nTotal Duration: ${y-E}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:D})))}}class TD{constructor(t,e){this.db=t,this.garbageCollector=new RE(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return p_(t,i)}removeReference(t,e,i){return p_(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return p_(t,e)}Gn(t,e){return function(i,r){let o=!1;return AE(i).tt(u=>cb(i,u,r).next(h=>(h&&(o=!0),ge.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(u,h)=>{if(h<=e){const f=this.Gn(t,u).next(y=>{if(!y)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Nt.min()),Dl(t).delete([0,Or(u.path)])))});r.push(f)}}).next(()=>ge.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return p_(t,e)}Kn(t,e){const i=Dl(t);let r,o=Wr.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:f,sequenceNumber:y})=>{0===u?(o!==Wr.at&&e(new tt(Do(r)),o),o=y,r=f):o=Wr.at}).next(()=>{o!==Wr.at&&e(new tt(Do(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function p_(n,t){return Dl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Or(t.path),sequenceNumber:i}));var i}class db{constructor(){this.changes=new bl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,$n.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ge.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SD{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ic(t).put(i)}removeEntry(t,e,i){return Ic(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],c_(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=$n.newInvalidDocument(e);return Ic(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Rf(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:$n.newInvalidDocument(e)};return Ic(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Rf(e))},(r,o)=>{i={document:this.jn(e,o),size:Sl(o)}}).next(()=>i)}getEntries(t,e){let i=Zr();return this.zn(t,e,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=Zr(),r=new vi(tt.comparator);return this.zn(t,e,(o,u)=>{const h=this.jn(o,u);i=i.insert(o,h),r=r.insert(o,Sl(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ge.resolve();let r=new Vn(DD);e.forEach(f=>r=r.add(f));const o=IDBKeyRange.bound(Rf(r.first()),Rf(r.last())),u=r.getIterator();let h=u.getNext();return Ic(t).Z({index:"documentKeyIndex",range:o},(f,y,E)=>{const D=tt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&DD(h,D)<0;)i(h,null),h=u.getNext();h&&h.isEqual(D)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?E.j(Rf(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),c_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ic(t).W(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=Zr();for(const f of u){const y=this.jn(tt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=Zr();const u=PE(e,i),h=PE(e,ps.max());return Ic(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(f,y,E)=>{const D=this.jn(tt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(D.key,D),o.size===r&&E.done()}).next(()=>o)}newChangeBuffer(t){return new OE(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return pb(t).get("remoteDocumentGlobalKey").next(e=>(Ut(!!e),e))}Qn(t,e){return pb(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function _D(n,t){let e;if(t.document)e=uE(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=tt.fromSegments(t.noDocument.path),r=El(t.noDocument.readTime);e=$n.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const i=tt.fromSegments(t.unknownDocument.path),r=El(t.unknownDocument.version);e=$n.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new yn(i[0],i[1]);return Nt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Nt.min()))return i}return $n.newInvalidDocument(t)}}function hb(n){return new SD(n)}class OE extends db{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new bl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Vn((o,u)=>Yt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const f=IE(this.Yn.It,u);r=r.add(o.path.popLast()),i+=Sl(f)-h.size,e.push(this.Yn.addEntry(t,o,f))}else if(i-=h.size,this.trackRemovals){const f=IE(this.Yn.It,u.convertToNoDocument(Nt.min()));e.push(this.Yn.addEntry(t,o,f))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),ge.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function pb(n){return Bi(n,"remoteDocumentGlobal")}function Ic(n){return Bi(n,"remoteDocumentsV14")}function Rf(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function PE(n,t){const e=t.documentKey.path.toArray();return[n,c_(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function DD(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Yt(e[o],i[o]),r)return r;return r=Yt(e.length,i.length),r||(r=Yt(e[e.length-2],i[i.length-2]),r||Yt(e[e.length-1],i[i.length-1]))}class FE{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class xD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Nu(i.mutation,r,fs.empty(),yn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,tn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=tn()){const r=So();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Lu();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=So();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,tn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Zr();const u=Ef(),h=Ef();return e.forEach((f,y)=>{const E=i.get(y.key);r.has(y.key)&&(void 0===E||E.mutation instanceof vl)?o=o.insert(y.key,y):void 0!==E&&(u.set(y.key,E.mutation.getFieldMask()),Nu(E.mutation,y,E.mutation.getFieldMask(),yn.now()))}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((y,E)=>u.set(y,E)),e.forEach((y,E)=>{var D;return h.set(y,new FE(E,null!==(D=u.get(y))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Ef();let r=new vi((u,h)=>u-h),o=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(f=>{const y=e.get(f);if(null===y)return;let E=i.get(f)||fs.empty();E=h.applyToLocalView(y,E),i.set(f,E);const D=(r.get(h.batchId)||tn()).add(f);r=r.insert(h.batchId,D)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,E=f.value,D=t_();E.forEach(P=>{if(!o.has(P)){const L=YC(e.get(P),i.get(P));null!==L&&D.set(P,L),o=o.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(t,y,D))}return ge.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return tt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Iv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ge.resolve(So());let h=-1,f=o;return u.next(y=>ge.forEach(y,(E,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),o.get(E)?ge.resolve():this.getBaseDocument(t,E,D).next(P=>{f=f.insert(E,P)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,f,y,tn())).next(E=>({batchId:h,changes:e_(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tt(e)).next(i=>{let r=Lu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Lu();return this.indexManager.getCollectionParents(t,r).next(u=>ge.forEach(u,h=>{const f=(y=e,E=h.child(r),new wa(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(y=>{y.forEach((E,D)=>{o=o.insert(E,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,f)=>{const y=f.getKey();null===r.get(y)&&(r=r.insert(y,$n.newInvalidDocument(y)))});let u=Lu();return r.forEach((h,f)=>{const y=o.get(h);void 0!==y&&Nu(y.mutation,f,fs.empty(),yn.now()),Dv(e,f)&&(u=u.insert(h,f))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):ge.resolve($n.newInvalidDocument(e))}}class tM{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ge.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:er(i.createTime)}),ge.resolve()}getNamedQuery(t,e){return ge.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:u_(i.bundledQuery),readTime:er(i.readTime)}),ge.resolve();var i}}class nM{constructor(){this.overlays=new vi(tt.comparator),this.es=new Map}getOverlay(t,e){return ge.resolve(this.overlays.get(e))}getOverlays(t,e){const i=So();return ge.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ue(t,e,o)}),ge.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ge.resolve()}getOverlaysForCollection(t,e,i){const r=So(),o=e.length+1,u=new tt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ge.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new vi((y,E)=>y-E);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let E=o.get(y.largestBatchId);null===E&&(E=So(),o=o.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=So(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=r)););return ge.resolve(h)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Mf(e,i));let o=this.es.get(e);void 0===o&&(o=tn(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class NE{constructor(){this.ns=new Vn(pr.ss),this.rs=new Vn(pr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new pr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new pr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new tt(new Jt([])),i=new pr(e,t),r=new pr(e,t+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new tt(new Jt([])),i=new pr(e,t),r=new pr(e,t+1);let o=tn();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new pr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class pr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return tt.comparator(t.key,e.key)||Yt(t._s,e._s)}static os(t,e){return Yt(t._s,e._s)||tt.comparator(t.key,e.key)}}class iM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Vn(pr.ss)}checkEmpty(t){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const u=new Af(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new pr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(t,e){return ge.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new pr(e,0),r=new pr(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);o.push(h)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(Yt);return e.forEach(r=>{const o=new pr(r,0),u=new pr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{i=i.add(h._s)})}),ge.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;tt.isDocumentKey(o)||(o=o.child(""));const u=new pr(new tt(o),0);let h=new Vn(Yt);return this.gs.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(f._s)),!0)},u),ge.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ut(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ge.forEach(e.mutations,r=>{const o=new pr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new pr(e,0),r=this.gs.firstAfterOrEqual(i);return ge.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ge.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class rM{constructor(t){this.Es=t,this.docs=new vi(tt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ge.resolve(i?i.document.mutableCopy():$n.newInvalidDocument(e))}getEntries(t,e){let i=Zr();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():$n.newInvalidDocument(r))}),ge.resolve(i)}getAllFromCollection(t,e,i){let r=Zr();const o=new tt(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||zm(mv(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return ge.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ft()}As(t,e){return ge.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new sM(this)}getSize(t){return ge.resolve(this.size)}}class sM extends db{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ge.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class f_{constructor(t){this.persistence=t,this.Rs=new bl(e=>bc(e),ch),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new NE,this.targetCount=0,this.vs=bh.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ge.resolve()}getLastRemoteSnapshotVersion(t){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ge.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ge.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new bh(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ge.resolve()}updateTargetData(t,e){return this.Dn(e),ge.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ge.waitFor(o).next(()=>r)}getTargetCount(t){return ge.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ge.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ge.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),ge.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ge.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ge.resolve(i)}containsKey(t,e){return ge.resolve(this.Ps.containsKey(e))}}class AD{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Wr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new f_(this),this.indexManager=new wD,this.remoteDocumentCache=new rM(i=>this.referenceDelegate.xs(i)),this.It=new EE(e),this.Ns=new tM(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new iM(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new LE(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Ms(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Os(t,e){return ge.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class LE extends cf{constructor(t){super(),this.currentSequenceNumber=t}}class $u{constructor(t){this.persistence=t,this.Fs=new NE,this.$s=null}static Bs(t){return new $u(t)}get Ls(){if(this.$s)return this.$s;throw ft()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ge.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ge.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ls,i=>{const r=tt.fromPath(i);return this.Us(t,r).next(o=>{o||e.removeEntry(r,Nt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return ge.or([()=>ge.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class VE{constructor(t){this.It=t}$(t,e,i,r){const o=new eh("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wv,{unique:!0}),h.createObjectStore("documentMutations"),fb(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ge.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),fb(t)),u=u.next(()=>function(h){const f=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,f){return f.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wv,{unique:!0});const E=f.store("mutations"),D=y.map(P=>E.put(P));return ge.waitFor(D)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const f=h.createObjectStore("documentOverlays",{keyPath:fD});f.createIndex("collectionPathOverlayIndex",gD,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",bE,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const f=h.createObjectStore("remoteDocumentsV14",{keyPath:cD});f.createIndex("documentKeyIndex",Zv),f.createIndex("collectionGroupIndex",Ca)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:hD}).createIndex("sequenceNumberIndex",pD,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:o_}).createIndex("documentKeyIndex",a_,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=Sl(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ge.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ge.forEach(h,f=>{Ut(f.userId===o.userId);const y=Ec(this.It,f);return lb(t,o.userId,y).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,h)=>{const f=new Jt(u),y=[0,Or(f)];o.push(e.get(y).next(E=>E?ge.resolve():e.put({targetId:0,path:Or(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ge.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:dD});const i=e.store("collectionParents"),r=new rb,o=u=>{if(r.add(u)){const h=u.lastSegment(),f=u.popLast();return i.put({collectionId:h,parent:Or(f)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const f=new Jt(u);return o(f.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,f],y)=>{const E=Do(h);return o(E.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=yh(r),u=Jv(this.It,o);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const h=e.store("remoteDocumentsV14"),f=(y=u,y.document?new tt(Jt.fromString(y.document.name).popFirst(5)):y.noDocument?tt.fromSegments(y.noDocument.path):y.unknownDocument?tt.fromSegments(y.unknownDocument.path):ft()).path.toArray();var y;const E={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>ge.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=hb(this.It),o=new AD($u.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(f=>{var y;let E=null!==(y=h.get(f.userId))&&void 0!==y?y:tn();Ec(this.It,f).keys().forEach(D=>E=E.add(D)),h.set(f.userId,E)}),ge.forEach(h,(f,y)=>{const E=new Wi(y),D=tr.oe(this.It,E),P=o.getIndexManager(E),L=h_.oe(E,this.It,P,o.referenceDelegate);return new xD(r,L,D,P).recalculateAndSaveOverlaysForDocumentKeys(new CE(e,Wr.at),f).next()})})}}function fb(n){n.createObjectStore("targetDocuments",{keyPath:qv}).createIndex("documentTargetsIndex",xf,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uD,{unique:!0}),n.createObjectStore("targetGlobal")}const BE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Of{constructor(t,e,i,r,o,u,h,f,y,E,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=u,this.document=h,this.Js=y,this.Ys=E,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!Of.C())throw new He(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TD(this,r),this.ii=e+"main",this.It=new EE(f),this.ri=new Gr(this.ii,this.Xs,new VE(this.It)),this.Cs=new ED(this.referenceDelegate,this.It),this.remoteDocumentCache=hb(this.It),this.Ns=new yD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(pe.FAILED_PRECONDITION,BE);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Wr(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Se.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Se.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Se.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>g_(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(ml(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Ch(t).get("owner").next(e=>ge.resolve(this.mi(e)))}gi(t){return g_(t).delete(this.clientId)}yi(){var t=this;return(0,Se.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Bi(i,"clientMetadata");return r.W().next(o=>{const u=t.Ii(o,18e5),h=o.filter(f=>-1===u.indexOf(f));return ge.forEach(h,f=>r.delete(f.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ge.resolve(!0):Ch(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new He(pe.FAILED_PRECONDITION,BE);return!1}}return!(!this.networkEnabled||!this.inForeground)||g_(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Se.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new CE(e,Wr.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>g_(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return h_.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new sb(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return tr.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Xs)?mD:14===u?wE:13===u?Qv:12===u?Yv:11===u?Kv:void ft();var u;let h;return this.ri.runTransaction(t,r,o,f=>(h=new CE(f,this.Ss?this.Ss.next():Wr.at),"readwrite-primary"===e?this.fi(h).next(y=>!!y||this.di(h)).next(y=>{if(!y)throw yi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new He(pe.FAILED_PRECONDITION,_v);return i(h)}).next(y=>this.wi(h).next(()=>y)):this.Vi(h).next(()=>i(h)))).then(f=>(h.raiseOnCommittedEvent(),f))}Vi(t){return Ch(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new He(pe.FAILED_PRECONDITION,BE)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ch(t).put("owner",e)}static C(){return Gr.C()}_i(t){const e=Ch(t);return e.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(yi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,In.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){yi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ch(n){return Bi(n,"owner")}function g_(n){return Bi(n,"clientMetadata")}function m_(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class UE{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=tn(),r=tn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new UE(t,e.fromCache,i,r)}}class HE{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Mi(t,e,r,i)).next(o=>o||this.Oi(t,e))}ki(t,e){if(UC(e))return ge.resolve(null);let i=gs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Tv(e,null,"F"),i=gs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=tn(...o);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const y=this.Fi(e,h);return this.$i(e,y,u,f.readTime)?this.ki(t,Tv(e,null,"F")):this.Bi(t,y,e,f)}))})))}Mi(t,e,i,r){return UC(e)||r.isEqual(Nt.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(o=>{const u=this.Fi(e,o);return this.$i(e,u,i,r)?this.Oi(t,e):(Bm()<=ga.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uh(e)),this.Bi(t,u,e,CC(r,-1)))})}Fi(t,e){let i=new Vn(xv(t));return e.forEach((r,o)=>{Dv(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Oi(t,e){return Bm()<=ga.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",uh(e)),this.Ni.getDocumentsMatchingQuery(t,e,ps.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class MD{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new vi(Yt),this.qi=new bl(o=>bc(o),ch),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xD(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function zE(n,t,e,i){return new MD(n,t,e,i)}function Pf(n,t){return gb.apply(this,arguments)}function gb(){return gb=(0,Se.Z)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=tn();for(const y of r){u.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}for(const y of o){h.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}return e.localDocuments.getDocuments(i,f).next(y=>({ji:y,removedBatchIds:u,addedBatchIds:h}))})})}),gb.apply(this,arguments)}function oM(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,f,y){const E=f.batch,D=E.keys();let P=ge.resolve();return D.forEach(L=>{P=P.next(()=>y.getEntry(h,L)).next(B=>{const te=f.docVersions.get(L);Ut(null!==te),B.version.compareTo(te)<0&&(E.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),y.addEntry(B)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=tn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function kD(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function aM(n,t){const e=ot(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const h=[];t.targetChanges.forEach((E,D)=>{const P=r.get(D);if(!P)return;h.push(e.Cs.removeMatchingKeys(o,E.removedDocuments,D).next(()=>e.Cs.addMatchingKeys(o,E.addedDocuments,D)));let L=P.withSequenceNumber(o.currentSequenceNumber);var B,te,re;t.targetMismatches.has(D)?L=L.withResumeToken(Zi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,i)),r=r.insert(D,L),te=L,re=E,(0===(B=P).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(o,L))});let f=Zr(),y=tn();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,E))}),h.push(jE(o,u,t.documentUpdates).next(E=>{f=E.Wi,y=E.zi})),!i.isEqual(Nt.min())){const E=e.Cs.getLastRemoteSnapshotVersion(o).next(D=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(E)}return ge.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,y)).next(()=>f)}).then(o=>(e.Ui=r,o))}function jE(n,t,e){let i=tn(),r=tn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Zr();return e.forEach((h,f)=>{const y=o.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Nt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||0===f.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):$e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)}),{Wi:u,zi:r}})}function RD(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Eh(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,ge.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new Ea(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Ff(n,t,e){return mb.apply(this,arguments)}function mb(){return mb=(0,Se.Z)(function*(n,t,e){const i=ot(n),r=i.Ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!ml(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),mb.apply(this,arguments)}function Nf(n,t,e){const i=ot(n);let r=Nt.min(),o=tn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,f,y){const E=ot(h),D=E.qi.get(y);return void 0!==D?ge.resolve(E.Ui.get(D)):E.Cs.getTargetData(f,y)}(i,u,gs(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Nt.min(),e?o:tn())).next(h=>(js(i,HC(t),h),{documents:h,Hi:o})))}function _b(n,t){const e=ot(n),i=ot(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.se(o,t).next(u=>u?u.target:null))}function OD(n,t){const e=ot(n),i=e.Ki.get(t)||Nt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,CC(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(js(e,t,r),r))}function js(n,t,e){let i=Nt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function Lf(){return Lf=(0,Se.Z)(function*(n,t,e,i){const r=ot(n);let o=tn(),u=Zr();for(const y of e){const E=t.Ji(y.metadata.name);y.document&&(o=o.add(E));const D=t.Yi(y);D.setReadTime(t.Xi(y.metadata.readTime)),u=u.insert(E,D)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield Eh(r,(y=i,gs(Pu(Jt.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>jE(y,h,u).next(E=>(h.apply(y),E)).next(E=>r.Cs.removeMatchingKeysForTargetId(y,f.targetId).next(()=>r.Cs.addMatchingKeys(y,o,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,E.Wi,E.zi)).next(()=>E.Wi)))}),Lf.apply(this,arguments)}function FD(n,t){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,Se.Z)(function*(n,t,e=tn()){const i=yield Eh(n,gs(u_(t.bundledQuery))),r=ot(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=er(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,t);const h=i.withResumeToken(Zi.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),Kr.apply(this,arguments)}function $E(n,t){return`firestore_clients_${n}_${t}`}function __(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function yb(n,t){return`firestore_targets_${n}_${t}`}class y_{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new He(r.error.code,r.error.message))),u?new y_(t,e,r.state,o):(yi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Gu{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new He(i.error.code,i.error.message))),o?new Gu(t,i.state,r):(yi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Vf{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=wl();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=wv(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new Vf(t,o):(yi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class v_{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new v_(e.clientId,e.onlineState):(yi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class vb{constructor(){this.activeTargetIds=wl()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class b_{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new vi(Yt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=$E(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new vb),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Se.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem($E(t.persistenceKey,r));if(o){const u=Vf.Zi(r,o);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(yb(this.persistenceKey,t));if(i){const r=Gu.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(yb(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Se.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let u=Wr.at;if(null!=o)try{const h=JSON.parse(o);Ut("number"==typeof h),u=h}catch(h){yi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Wr.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Or(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new y_(this.currentUser,t,e,i),o=__(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=__(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=yb(this.persistenceKey,t),o=new Gu(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return Vf.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return y_.Zi(new Wi(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return Gu.Zi(r,e)}yr(t){return v_.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Se.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),u=[],h=[];return o.forEach(f=>{r.has(f)||u.push(f)}),r.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=wl();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class bb{constructor(){this.Lr=new vb,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new vb,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ND{qr(t){}shutdown(){}}class wb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const LD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Cb{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class Tc extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,o){const u=this.ao(t,e);$e("RestConnection","Sending: ",u,i);const h={};return this.ho(h,r,o),this.lo(t,u,h,i).then(f=>($e("RestConnection","Received: ",f),f),f=>{throw pc("RestConnection",`${t} failed with error: `,f,"url: ",u,"request:",i),f})}fo(t,e,i,r,o,u){return this.co(t,e,i,r,o)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Au,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ao(t,e){return`${this.oo}/v1/${e}:${LD[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((o,u)=>{const h=new pC;h.listenOnce(cC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Lm.NO_ERROR:const y=h.getResponseJson();$e("Connection","XHR received:",JSON.stringify(y)),o(y);break;case Lm.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),u(new He(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const E=h.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const D=h.getResponseJson().error;if(D&&D.status&&D.message){const P=function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(B)>=0?B:pe.UNKNOWN}(D.status);u(new He(P,D.message))}else u(new He(pe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new He(pe.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);h.send(e,"POST",f,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=FS(),u=lC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new hC({})),this.ho(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const f=r.join("");$e("Connection","Creating WebChannel: "+f,h);const y=o.createWebChannel(f,h);let E=!1,D=!1;const P=new Cb({Hr:B=>{D?$e("Connection","Not sending because WebChannel is closed:",B):(E||($e("Connection","Opening WebChannel transport."),y.open(),E=!0),$e("Connection","WebChannel sending:",B),y.send(B))},Jr:()=>y.close()}),L=(B,te,re)=>{B.listen(te,Pe=>{try{re(Pe)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return L(y,af.EventType.OPEN,()=>{D||$e("Connection","WebChannel transport opened.")}),L(y,af.EventType.CLOSE,()=>{D||(D=!0,$e("Connection","WebChannel transport closed"),P.io())}),L(y,af.EventType.ERROR,B=>{D||(D=!0,pc("Connection","WebChannel transport errored:",B),P.io(new He(pe.UNAVAILABLE,"The operation could not be completed")))}),L(y,af.EventType.MESSAGE,B=>{var te;if(!D){const re=B.data[0];Ut(!!re);const Pe=re,Ze=Pe.error||(null===(te=Pe[0])||void 0===te?void 0:te.error);if(Ze){$e("Connection","WebChannel received error:",Ze);const et=Ze.status;let Xe=function(Dt){const cn=xi[Dt];if(void 0!==cn)return tE(cn)}(et),_t=Ze.message;void 0===Xe&&(Xe=pe.INTERNAL,_t="Unknown error status: "+et+" with message "+Ze.message),D=!0,P.io(new He(Xe,_t)),y.close()}else $e("Connection","WebChannel received:",re),P.ro(re)}}),L(u,uC.STAT_EVENT,B=>{B.stat===dC.PROXY?$e("Connection","Detected buffering proxy"):B.stat===dC.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function Eb(){return typeof window<"u"?window:null}function Ih(){return typeof document<"u"?document:null}function ms(n){return new aE(n,!0)}class Ib{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=o,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class VD{constructor(t,e,i,r,o,u,h,f){this.Hs=t,this.Po=i,this.vo=r,this.Vo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ib(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,Se.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Se.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Se.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===pe.RESOURCE_EXHAUSTED?(yi(e.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new He(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,Se.Z)(function*(){t.state=0,t.start()}))}Qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BD extends VD{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.It=o}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function dE(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:ft(),r=t.targetChange.targetIds||[],o=function(f,y){return f.gt?(Ut(void 0===y||"string"==typeof y),Zi.fromBase64String(y||"")):(Ut(void 0===y||y instanceof Uint8Array),Zi.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(f){const y=void 0===f.code?pe.UNKNOWN:tE(f.code);return new He(y,f.message||"")}(u);e=new n_(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Cl(n,i.document.name),o=er(i.document.updateTime),u=new ln({mapValue:{fields:i.document.fields}}),h=$n.newFoundDocument(r,o,u);e=new Pv(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Cl(n,i.document),o=i.readTime?er(i.readTime):Nt.min(),u=$n.newNoDocument(r,o);e=new Pv([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Cl(n,i.document);e=new Pv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ft();{const i=t.filter,o=new nD(i.count||0);e=new Fv(i.targetId,o)}}var f;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Nt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?er(o.readTime):Nt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Tf(this.It),e.addTarget=function(r,o){let u;const h=o.target;return u=_f(h)?{documents:Hv(r,h)}:{query:zv(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=Bv(r,o.resumeToken):o.snapshotVersion.compareTo(Nt.min())>0&&(u.readTime=gh(r,o.snapshotVersion.toTimestamp())),u}(this.It,t);const i=function pE(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Tf(this.It),e.removeTarget=t,this.Bo(e)}}class UD extends VD{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.It=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function hE(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(i,r){let o=er(i.updateTime?i.updateTime:r);return o.isEqual(Nt.min())&&(o=er(r)),new XS(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=er(t.commitTime);return this.listener.Zo(i,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Tf(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>_h(this.It,i))};this.Bo(e)}}class HD extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new He(pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.Vo.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new He(pe.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.Vo.fo(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new He(pe.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class zD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(yi(e),this.ou=!1):$e("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class GE{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.qr(h=>{i.enqueueAndForget((0,Se.Z)(function*(){var f;xl(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Se.Z)(function*(y){const E=ot(y);E._u.add(4),yield Th(E),E.gu.set("Unknown"),E._u.delete(4),yield w_(E)}),function(y){return f.apply(this,arguments)})(u))}))}),this.gu=new zD(i,r)}}function w_(n){return C_.apply(this,arguments)}function C_(){return C_=(0,Se.Z)(function*(n){if(xl(n))for(const t of n.wu)yield t(!0)}),C_.apply(this,arguments)}function Th(n){return E_.apply(this,arguments)}function E_(){return E_=(0,Se.Z)(function*(n){for(const t of n.wu)yield t(!1)}),E_.apply(this,arguments)}function Tb(n,t){const e=ot(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),S_(e)?T_(e):Sh(e).ko()&&I_(e,t))}function Wu(n,t){const e=ot(n),i=Sh(e);e.du.delete(t),i.ko()&&Sb(e,t),0===e.du.size&&(i.ko()?i.Fo():xl(e)&&e.gu.set("Unknown"))}function I_(n,t){n.yu.Ot(t.targetId),Sh(n).zo(t)}function Sb(n,t){n.yu.Ot(t),Sh(n).Ho(t)}function T_(n){n.yu=new Nv({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Sh(n).start(),n.gu.uu()}function S_(n){return xl(n)&&!Sh(n).No()&&n.du.size>0}function xl(n){return 0===ot(n)._u.size}function Bf(n){n.yu=void 0}function D_(n){return x_.apply(this,arguments)}function x_(){return x_=(0,Se.Z)(function*(n){n.du.forEach((t,e)=>{I_(n,t)})}),x_.apply(this,arguments)}function jD(n,t){return A_.apply(this,arguments)}function A_(){return A_=(0,Se.Z)(function*(n,t){Bf(n),S_(n)?(n.gu.hu(t),T_(n)):n.gu.set("Unknown")}),A_.apply(this,arguments)}function WE(n,t,e){return Db.apply(this,arguments)}function Db(){return Db=(0,Se.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof n_&&2===t.state&&t.cause)try{yield(i=(0,Se.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield M_(n,i)}else if(t instanceof Pv?n.yu.Gt(t):t instanceof Fv?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Nt.min()))try{const i=yield kD(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.yu.te(o);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.du.get(f);y&&r.du.set(f,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const f=r.du.get(h);if(!f)return;r.du.set(h,f.withResumeToken(Zi.EMPTY_BYTE_STRING,f.snapshotVersion)),Sb(r,h);const y=new Ea(f.target,h,1,f.sequenceNumber);I_(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield M_(n,i)}var i}),Db.apply(this,arguments)}function M_(n,t,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,Se.Z)(function*(n,t,e){if(!ml(t))throw t;n._u.add(1),yield Th(n),n.gu.set("Offline"),e||(e=()=>kD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield w_(n)}))}),ZE.apply(this,arguments)}function $D(n,t){return t().catch(e=>M_(n,e,t))}function Zu(n){return xb.apply(this,arguments)}function xb(){return xb=(0,Se.Z)(function*(n){const t=ot(n),e=Sa(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;GD(t);)try{const r=yield RD(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,WD(t,r)}catch(r){yield M_(t,r)}ZD(t)&&qD(t)}),xb.apply(this,arguments)}function GD(n){return xl(n)&&n.fu.length<10}function WD(n,t){n.fu.push(t);const e=Sa(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function ZD(n){return xl(n)&&!Sa(n).No()&&n.fu.length>0}function qD(n){Sa(n).start()}function lM(n){return qE.apply(this,arguments)}function qE(){return qE=(0,Se.Z)(function*(n){Sa(n).eu()}),qE.apply(this,arguments)}function cM(n){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,Se.Z)(function*(n){const t=Sa(n);for(const e of n.fu)t.Xo(e.mutations)}),Ab.apply(this,arguments)}function k_(n,t,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,Se.Z)(function*(n,t,e){const i=n.fu.shift(),r=l_.from(i,t,e);yield $D(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Zu(n)}),Mb.apply(this,arguments)}function KD(n,t){return R_.apply(this,arguments)}function R_(){return R_=(0,Se.Z)(function*(n,t){var e;t&&Sa(n).Yo&&(yield(e=(0,Se.Z)(function*(i,r){if(eE(o=r.code)&&o!==pe.ABORTED){const u=i.fu.shift();Sa(i).Oo(),yield $D(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Zu(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),ZD(n)&&qD(n)}),R_.apply(this,arguments)}function Sc(n,t){return O_.apply(this,arguments)}function O_(){return O_=(0,Se.Z)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=xl(e);e._u.add(3),yield Th(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield w_(e)}),O_.apply(this,arguments)}function Uf(n,t){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,Se.Z)(function*(n,t){const e=ot(n);t?(e._u.delete(2),yield w_(e)):t||(e._u.add(2),yield Th(e),e.gu.set("Unknown"))}),Hf.apply(this,arguments)}function Sh(n){return n.pu||(n.pu=function(t,e,i){const r=ot(t);return r.su(),new BD(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:D_.bind(null,n),Zr:jD.bind(null,n),Wo:WE.bind(null,n)}),n.wu.push(function(){var t=(0,Se.Z)(function*(e){e?(n.pu.Oo(),S_(n)?T_(n):n.gu.set("Unknown")):(yield n.pu.stop(),Bf(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Sa(n){return n.Iu||(n.Iu=function(t,e,i){const r=ot(t);return r.su(),new UD(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:lM.bind(null,n),Zr:KD.bind(null,n),tu:cM.bind(null,n),Zo:k_.bind(null,n)}),n.wu.push(function(){var t=(0,Se.Z)(function*(e){e?(n.Iu.Oo(),yield Zu(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class zf{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new zf(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(pe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Al(n,t){if(yi("AsyncQueue",`${t}: ${n}`),ml(n))return new He(pe.UNAVAILABLE,`${t}: ${n}`);throw n}class jf{constructor(t){this.comparator=t?(e,i)=>t(e,i)||tt.comparator(e.key,i.key):(e,i)=>tt.comparator(e.key,i.key),this.keyedMap=Lu(),this.sortedSet=new vi(this.comparator)}static emptySet(t){return new jf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof jf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new jf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class YD{constructor(){this.Tu=new vi(tt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ft():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class $f{constructor(t,e,i,r,o,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new $f(t,e,jf.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class uM{constructor(){this.Au=void 0,this.listeners=[]}}class KE{constructor(){this.queries=new bl(t=>Sv(t),Qm),this.onlineState="Unknown",this.Ru=new Set}}function kb(n,t){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,Se.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new uM),r)try{o.Au=yield e.onListen(i)}catch(u){const h=Al(u,`Initialization of query '${uh(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&P_(e)}),Rb.apply(this,arguments)}function Ob(n,t){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,Se.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Pb.apply(this,arguments)}function YE(n,t){const e=ot(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&P_(e)}function QE(n,t,e){const i=ot(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function P_(n){n.Ru.forEach(t=>{t.next()})}class Fb{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new $f(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=$f.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class QD{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class Nb{constructor(t){this.It=t}Ji(t){return Cl(this.It,t)}Yi(t){return t.metadata.exists?uE(this.It,t.document,!1):$n.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return er(t)}}class Lb{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JD(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Jt.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new Nb(this.It);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||tn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,Se.Z)(function*(){const e=yield function PD(n,t,e,i){return Lf.apply(this,arguments)}(t.localStore,new Nb(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield FD(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function JD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Vb{constructor(t){this.key=t}}class F_{constructor(t){this.key=t}}class JE{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=tn(),this.mutatedKeys=tn(),this.Ku=xv(t),this.Gu=new jf(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new YD,r=e?e.Gu:this.Gu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,D)=>{const P=r.get(E),L=Dv(this.query,D)?D:null,B=!!P&&this.mutatedKeys.has(P.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let re=!1;P&&L?P.data.isEqual(L.data)?B!==te&&(i.track({type:3,doc:L}),re=!0):this.zu(P,L)||(i.track({type:2,doc:L}),re=!0,(f&&this.Ku(L,f)>0||y&&this.Ku(L,y)<0)&&(h=!0)):!P&&L?(i.track({type:0,doc:L}),re=!0):P&&!L&&(i.track({type:1,doc:P}),re=!0,(f||y)&&(h=!0)),re&&(L?(u=u.add(L),o=te?o.add(E):o.delete(E)):(u=u.delete(E),o=o.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),o=o.delete(E.key),i.track({type:1,doc:E})}return{Gu:u,Wu:i,$i:h,mutatedKeys:o}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const o=t.Wu.Eu();o.sort((y,E)=>function(D,P){const L=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return L(D)-L(P)}(y.type,E.type)||this.Ku(y.doc,E.doc)),this.Hu(i);const u=e?this.Ju():[],h=0===this.qu.size&&this.current?1:0,f=h!==this.Uu;return this.Uu=h,0!==o.length||f?{snapshot:new $f(this.query,t.Gu,r,o,t.mutatedKeys,0===h,f,!1),Yu:u}:{Yu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new YD,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=tn(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new F_(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new Vb(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=tn();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return $f.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class XD{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class dM{constructor(t){this.key=t,this.ec=!1}}class hM{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new bl(h=>Sv(h),Qm),this.ic=new Map,this.rc=new Set,this.oc=new vi(tt.comparator),this.uc=new Map,this.cc=new NE,this.ac={},this.hc=new Map,this.lc=bh.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function ex(n,t){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Se.Z)(function*(n,t){const e=qf(n);let i,r;const o=e.sc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.tc();else{const u=yield Eh(e.localStore,gs(t));e.isPrimaryClient&&Tb(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Ub(e,t,i,"current"===h)}return r}),Bb.apply(this,arguments)}function Ub(n,t,e,i){return XE.apply(this,arguments)}function XE(){return XE=(0,Se.Z)(function*(n,t,e,i){n.dc=(E,D,P)=>{return(L=(0,Se.Z)(function*(B,te,re,Pe){let Ze=te.view.ju(re);Ze.$i&&(Ze=yield Nf(B.localStore,te.query,!1).then(({documents:_t})=>te.view.ju(_t,Ze)));const et=Pe&&Pe.targetChanges.get(te.targetId),Xe=te.view.applyChanges(Ze,B.isPrimaryClient,et);return I(B,te.targetId,Xe.Yu),Xe.snapshot}),function(B,te,re,Pe){return L.apply(this,arguments)})(n,E,D,P);var L};const r=yield Nf(n.localStore,t,!0),o=new JE(t,r.Hi),u=o.ju(r.documents),h=If.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),f=o.applyChanges(u,n.isPrimaryClient,h);I(n,e,f.Yu);const y=new XD(t,e,o);return n.sc.set(t,y),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),f.snapshot}),XE.apply(this,arguments)}function pM(n,t){return eI.apply(this,arguments)}function eI(){return eI=(0,Se.Z)(function*(n,t){const e=ot(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(o=>!Qm(o,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ff(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Wu(e.remoteStore,i.targetId),v(e,i.targetId)}).catch(gc))):(v(e,i.targetId),yield Ff(e.localStore,i.targetId,!0))}),eI.apply(this,arguments)}function tI(){return tI=(0,Se.Z)(function*(n,t,e){const i=nx(n);try{const r=yield function(o,u){const h=ot(o),f=yn.now(),y=u.reduce((P,L)=>P.add(L.key),tn());let E,D;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let L=Zr(),B=tn();return h.Gi.getEntries(P,y).next(te=>{L=te,L.forEach((re,Pe)=>{Pe.isValidDocument()||(B=B.add(re))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,L)).next(te=>{E=te;const re=[];for(const Pe of u){const Ze=tD(Pe,E.get(Pe.key).overlayedDocument);null!=Ze&&re.push(new vl(Pe.key,Ze,WS(Ze.value.mapValue),ti.exists(!0)))}return h.mutationQueue.addMutationBatch(P,f,re,u)}).next(te=>{D=te;const re=te.applyToLocalDocumentSet(E,B);return h.documentOverlayCache.saveOverlays(P,te.batchId,re)})}).then(()=>({batchId:D.batchId,changes:e_(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let f=o.ac[o.currentUser.toKey()];f||(f=new vi(Yt)),f=f.insert(u,h),o.ac[o.currentUser.toKey()]=f}(i,r.batchId,e),yield V(i,r.changes),yield Zu(i.remoteStore)}catch(r){const o=Al(r,"Failed to persist write");e.reject(o)}}),tI.apply(this,arguments)}function nI(n,t){return iI.apply(this,arguments)}function iI(){return iI=(0,Se.Z)(function*(n,t){const e=ot(n);try{const i=yield aM(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.uc.get(o);u&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Ut(u.ec):r.removedDocuments.size>0&&(Ut(u.ec),u.ec=!1))}),yield V(e,i,t)}catch(i){yield gc(i)}}),iI.apply(this,arguments)}function tx(n,t,e){const i=ot(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((o,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=ot(o);h.onlineState=u;let f=!1;h.queries.forEach((y,E)=>{for(const D of E.listeners)D.bu(u)&&(f=!0)}),f&&P_(h)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function gM(n,t,e){return rI.apply(this,arguments)}function rI(){return rI=(0,Se.Z)(function*(n,t,e){const i=ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),o=r&&r.key;if(o){let u=new vi(tt.comparator);u=u.insert(o,$n.newNoDocument(o,Nt.min()));const h=tn().add(o),f=new fh(Nt.min(),new Map,new Vn(Yt),u,h);yield nI(i,f),i.oc=i.oc.remove(o),i.uc.delete(t),R(i)}else yield Ff(i.localStore,t,!1).then(()=>v(i,t,e)).catch(gc)}),rI.apply(this,arguments)}function mM(n,t){return sI.apply(this,arguments)}function sI(){return sI=(0,Se.Z)(function*(n,t){const e=ot(n),i=t.batch.batchId;try{const r=yield oM(e.localStore,t);g(e,i,null),p(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield V(e,r)}catch(r){yield gc(r)}}),sI.apply(this,arguments)}function a(n,t,e){return l.apply(this,arguments)}function l(){return l=(0,Se.Z)(function*(n,t,e){const i=ot(n);try{const r=yield function(o,u){const h=ot(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return h.mutationQueue.lookupMutationBatch(f,u).next(E=>(Ut(null!==E),y=E.keys(),h.mutationQueue.removeMutationBatch(f,E))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y)).next(()=>h.localDocuments.getDocuments(f,y))})}(i.localStore,t);g(i,t,e),p(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield V(i,r)}catch(r){yield gc(r)}}),l.apply(this,arguments)}function d(){return d=(0,Se.Z)(function*(n,t){const e=ot(n);xl(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=ot(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=Al(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),d.apply(this,arguments)}function p(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function g(n,t,e){const i=ot(n);let r=i.ac[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function v(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||w(n,i)})}function w(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(Wu(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),R(n))}function I(n,t,e){for(const i of e)i instanceof Vb?(n.cc.addReference(i.key,t),x(n,i)):i instanceof F_?($e("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||w(n,i.key)):ft()}function x(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.rc.add(i),R(n))}function R(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new tt(Jt.fromString(t)),i=n.lc.next();n.uc.set(i,new dM(e)),n.oc=n.oc.insert(e,i),Tb(n.remoteStore,new Ea(gs(Pu(e.path)),i,2,Wr.at))}}function V(n,t,e){return Q.apply(this,arguments)}function Q(){return Q=(0,Se.Z)(function*(n,t,e){const i=ot(n),r=[],o=[],u=[];var h;i.sc.isEmpty()||(i.sc.forEach((h,f)=>{u.push(i.dc(f,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,y.fromCache?"not-current":"current"),r.push(y);const E=UE.Ci(f.targetId,y);o.push(E)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(h=(0,Se.Z)(function*(f,y){const E=ot(f);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ge.forEach(y,P=>ge.forEach(P.Si,L=>E.persistence.referenceDelegate.addReference(D,P.targetId,L)).next(()=>ge.forEach(P.Di,L=>E.persistence.referenceDelegate.removeReference(D,P.targetId,L)))))}catch(D){if(!ml(D))throw D;$e("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const P=D.targetId;if(!D.fromCache){const L=E.Ui.get(P),te=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);E.Ui=E.Ui.insert(P,te)}}}),function(f,y){return h.apply(this,arguments)})(i.localStore,o))}),Q.apply(this,arguments)}function le(n,t){return Me.apply(this,arguments)}function Me(){return Me=(0,Se.Z)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield Pf(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(u=>{u.forEach(h=>{h.reject(new He(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield V(e,i.ji)}var r}),Me.apply(this,arguments)}function We(n,t){const e=ot(n),i=e.uc.get(t);if(i&&i.ec)return tn().add(i.key);{let r=tn();const o=e.ic.get(t);if(!o)return r;for(const u of o){const h=e.sc.get(u);r=r.unionWith(h.view.Qu)}return r}}function nt(n,t){return dt.apply(this,arguments)}function dt(){return dt=(0,Se.Z)(function*(n,t){const e=ot(n),i=yield Nf(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&I(e,t.targetId,r.Yu),r}),dt.apply(this,arguments)}function Mt(n,t){return Le.apply(this,arguments)}function Le(){return Le=(0,Se.Z)(function*(n,t){const e=ot(n);return OD(e.localStore,t).then(i=>V(e,i))}),Le.apply(this,arguments)}function Lt(n,t,e,i){return bn.apply(this,arguments)}function bn(){return bn=(0,Se.Z)(function*(n,t,e,i){const r=ot(n),o=yield function(u,h){const f=ot(u),y=ot(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Tn(E,h).next(D=>D?f.localDocuments.getDocuments(E,D):ge.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Zu(r.remoteStore):"acknowledged"===e||"rejected"===e?(g(r,t,i||null),p(r,t),h=t,ot(ot(r.localStore).mutationQueue).An(h)):ft(),yield V(r,o)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),bn.apply(this,arguments)}function Ml(){return Ml=(0,Se.Z)(function*(n,t){const e=ot(n);if(qf(e),nx(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield N_(e,i.toArray());e.fc=!0,yield Uf(e.remoteStore,!0);for(const o of r)Tb(e.remoteStore,o)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(v(e,u),Ff(e.localStore,u,!0))),Wu(e.remoteStore,u)}),yield r,yield N_(e,i),function(o){const u=ot(o);u.uc.forEach((h,f)=>{Wu(u.remoteStore,f)}),u.cc.fs(),u.uc=new Map,u.oc=new vi(tt.comparator)}(e),e.fc=!1,yield Uf(e.remoteStore,!1)}}),Ml.apply(this,arguments)}function N_(n,t,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Se.Z)(function*(n,t,e){const i=ot(n),r=[],o=[];for(const u of t){let h;const f=i.ic.get(u);if(f&&0!==f.length){h=yield Eh(i.localStore,gs(f[0]));for(const y of f){const E=i.sc.get(y),D=yield nt(i,E);D.snapshot&&o.push(D.snapshot)}}else{const y=yield _b(i.localStore,u);h=yield Eh(i.localStore,y),yield Ub(i,L_(y),u,!1)}r.push(h)}return i.nc.Wo(o),r}),Gf.apply(this,arguments)}function L_(n){return Cv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Hb(n){const t=ot(n);return ot(ot(t.localStore).persistence).vi()}function zb(n,t,e,i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,Se.Z)(function*(n,t,e,i){const r=ot(n);if(r.fc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const o=r.ic.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield OD(r.localStore,HC(o[0])),h=fh.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield V(r,u,h);break}case"rejected":yield Ff(r.localStore,t,!0),v(r,t,i);break;default:ft()}}),Wf.apply(this,arguments)}function jb(n,t,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,Se.Z)(function*(n,t,e){const i=qf(n);if(i.fc){for(const r of t){if(i.ic.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const o=yield _b(i.localStore,r),u=yield Eh(i.localStore,o);yield Ub(i,L_(o),u.targetId,!1),Tb(i.remoteStore,u)}for(const r of e)i.ic.has(r)&&(yield Ff(i.localStore,r,!1).then(()=>{Wu(i.remoteStore,r),v(i,r)}).catch(gc))}}),Zf.apply(this,arguments)}function qf(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=We.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gM.bind(null,t),t.nc.Wo=YE.bind(null,t.eventManager),t.nc._c=QE.bind(null,t.eventManager),t}function nx(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=a.bind(null,t),t}class _M{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Se.Z)(function*(){e.It=ms(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return zE(this.persistence,new HE,t.initialUser,this.It)}gc(t){return new AD($u.Bs,this.It)}mc(t){return new bb}terminate(){var t=this;return(0,Se.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class yM extends _M{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Se.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield nx(i.Ec.syncEngine),yield Zu(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return zE(this.persistence,new HE,t.initialUser,this.It)}Ic(t,e){return new kE(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new HS(e,this.persistence);return new IC(t.asyncQueue,i)}gc(t){const e=m_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new Of(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Eb(),Ih(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new bb}}class IF extends yM{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Se.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof b_&&(i.sharedClientState.syncEngine={Fr:Lt.bind(null,r),$r:zb.bind(null,r),Br:jb.bind(null,r),vi:Hb.bind(null,r),Or:Mt.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,Se.Z)(function*(u){yield function si(n,t){return Ml.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}mc(t){const e=Eb();if(!b_.C(e))throw new He(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=m_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new b_(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class ix{initialize(t,e){var i=this;return(0,Se.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>tx(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=le.bind(null,i.syncEngine),yield Uf(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new KE}createDatastore(t){const e=ms(t.databaseInfo.databaseId),i=new Tc(t.databaseInfo);return new HD(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>tx(this.syncEngine,h,0),u=wb.C()?new wb:new ND,new GE(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,f,y){const E=new hM(i,r,o,u,h,f);return y&&(E.fc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Se.Z)(function*(e){const i=ot(e);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Th(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function vM(n,t=10240){let e=0;return{read:()=>(0,Se.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):yi("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class TF{constructor(t,e){this.bc=t,this.It=e,this.metadata=new Xi,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,Se.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,Se.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,Se.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const o=yield t.Dc(r);return new QD(JSON.parse(o),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,Se.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,Se.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,Se.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class SF{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new He(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Se.Z)(function*(o,u){const h=ot(o),f=Tf(h.It)+"/documents",y={documents:u.map(L=>mh(h.It,L))},E=yield h.fo("BatchGetDocuments",f,y,u.length),D=new Map;E.forEach(L=>{const B=function lD(n,t){return"found"in t?function(e,i){Ut(!!i.found);const r=Cl(e,i.found.name),o=er(i.found.updateTime),u=new ln({mapValue:{fields:i.found.fields}});return $n.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){Ut(!!i.missing),Ut(!!i.readTime);const r=Cl(e,i.missing),o=er(i.readTime);return $n.newNoDocument(r,o)}(n,t):ft()}(h.It,L);D.set(B.key.toString(),B)});const P=[];return u.forEach(L=>{const B=D.get(L.toString());Ut(!!B),P.push(B)}),P}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new ph(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=tt.fromPath(r);t.mutations.push(new Rv(o,t.precondition(o)))}),yield(i=(0,Se.Z)(function*(r,o){const u=ot(r),h=Tf(u.It)+"/documents",f={writes:o.map(y=>_h(u.It,y))};yield u.co("Commit",h,f)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=Nt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new He(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Nt.min())?ti.exists(!1):ti.updateTime(e):ti.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nt.min()))throw new He(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ti.updateTime(e)}return ti.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class DF{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Nc=i.maxAttempts,this.xo=new Ib(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,Se.Z)(function*(){const e=new SF(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Oc(o)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!rh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!eE(e)}return!1}}class xF{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Wi.UNAUTHENTICATED,this.clientId=pv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Se.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Se.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Al(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function bM(n,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Se.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Se.Z)(function*(o){i.isEqual(o)||(yield Pf(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),rx.apply(this,arguments)}function wM(n,t){return sx.apply(this,arguments)}function sx(){return sx=(0,Se.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ox(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Sc(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Sc(t.remoteStore,o)),n.onlineComponents=t}),sx.apply(this,arguments)}function ox(n){return ax.apply(this,arguments)}function ax(){return ax=(0,Se.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield bM(n,new _M)),n.offlineComponents}),ax.apply(this,arguments)}function aI(n){return lx.apply(this,arguments)}function lx(){return lx=(0,Se.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield wM(n,new ix)),n.onlineComponents}),lx.apply(this,arguments)}function CM(n){return ox(n).then(t=>t.persistence)}function lI(n){return ox(n).then(t=>t.localStore)}function EM(n){return aI(n).then(t=>t.remoteStore)}function cx(n){return aI(n).then(t=>t.syncEngine)}function V_(n){return ux.apply(this,arguments)}function ux(){return ux=(0,Se.Z)(function*(n){const t=yield aI(n),e=t.eventManager;return e.onListen=ex.bind(null,t.syncEngine),e.onUnlisten=pM.bind(null,t.syncEngine),e}),ux.apply(this,arguments)}function IM(n,t,e={}){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(r,o,u,h,f){const y=new oI({next:D=>{o.enqueueAndForget(()=>Ob(r,E));const P=D.docs.has(u);!P&&D.fromCache?f.reject(new He(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&D.fromCache&&h&&"server"===h.source?f.reject(new He(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(D)},error:D=>f.reject(D)}),E=new Fb(Pu(u.path),y,{includeMetadataChanges:!0,Nu:!0});return kb(r,E)}(yield V_(n),n.asyncQueue,t,e,i)})),i.promise}function TM(n,t,e={}){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(r,o,u,h,f){const y=new oI({next:D=>{o.enqueueAndForget(()=>Ob(r,E)),D.fromCache&&"server"===h.source?f.reject(new He(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(D)},error:D=>f.reject(D)}),E=new Fb(u,y,{includeMetadataChanges:!0,Nu:!0});return kb(r,E)}(yield V_(n),n.asyncQueue,t,e,i)})),i.promise}const SM=new Map;function dx(n,t,e){if(!e)throw new He(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function DM(n,t,e,i){if(!0===t&&!0===i)throw new He(pe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xM(n){if(!tt.isDocumentKey(n))throw new He(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AM(n){if(tt.isDocumentKey(n))throw new He(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function wn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new He(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cI(n);throw new He(pe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function MM(n,t){if(t<=0)throw new He(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class kM{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new He(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new He(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $b{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new He(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kM(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new yC;switch(e.type){case"gapi":return new Jd(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new He(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=SM.get(t);e&&($e("ComponentProvider","Removing Datastore"),SM.delete(t),e.terminate())}(this),Promise.resolve()}}class gi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gi(this.firestore,t,this._key)}}class Yr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Yr(this.firestore,t,this._query)}}class Dc extends Yr{constructor(t,e,i){super(t,e,Pu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gi(this.firestore,null,new tt(t))}withConverter(t){return new Dc(this.firestore,t,this._path)}}function hx(n,t,...e){if(n=(0,In.m9)(n),dx("collection","path",t),n instanceof $b){const i=Jt.fromString(t,...e);return AM(i),new Dc(n,null,i)}{if(!(n instanceof gi||n instanceof Dc))throw new He(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jt.fromString(t,...e));return AM(i),new Dc(n.firestore,null,i)}}function Gb(n,t,...e){if(n=(0,In.m9)(n),1===arguments.length&&(t=pv.R()),dx("doc","path",t),n instanceof $b){const i=Jt.fromString(t,...e);return xM(i),new gi(n,null,new tt(i))}{if(!(n instanceof gi||n instanceof Dc))throw new He(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jt.fromString(t,...e));return xM(i),new gi(n.firestore,n instanceof Dc?n.converter:null,new tt(i))}}function RM(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),(n instanceof gi||n instanceof Dc)&&(t instanceof gi||t instanceof Dc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function OM(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),n instanceof Yr&&t instanceof Yr&&n.firestore===t.firestore&&Qm(n._query,t._query)&&n.converter===t.converter}class BF{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Ib(this,"async_queue_retry"),this.jc=()=>{const e=Ih();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=Ih();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=Ih();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new Xi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,Se.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!ml(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,yi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=zf.createAndSchedule(this,t,e,i,o=>this.Jc(o));return this.Uc.push(r),r}Wc(){this.qc&&ft()}verifyOperationInProgress(){}Yc(){var t=this;return(0,Se.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function px(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class UF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends $b{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new BF,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PM(this),this._firestoreClient.terminate()}}function zF(n,t){const e="object"==typeof n?n:(0,ll.getApp)(),i="string"==typeof n?n:t||"(default)";return(0,ll._getProvider)(e,"firestore").getImmediate({identifier:i})}function nr(n){return n._firestoreClient||PM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PM(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new xC(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new xF(n._authCredentials,n._appCheckCredentials,n._queue,i)}function FM(n,t,e){const i=new Xi;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield bM(n,e),yield wM(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===pe.FAILED_PRECONDITION||u.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;pc("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function NM(n){if(n._initialized||n._terminated)throw new He(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new He(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xc(Zi.fromBase64String(t))}catch(e){throw new He(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new xc(Zi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Kf{constructor(t){this._methodName=t}}class uI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new He(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new He(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}}const QF=/^__.*__$/;class JF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new vl(t,this.data,this.fieldMask,e,this.fieldTransforms):new hh(t,this.data,e,this.fieldTransforms)}}class LM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new vl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function VM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class dI{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ea(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new dI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return fI(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(VM(this.na)&&QF.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class XF{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||ms(t)}fa(t,e,i,r=!1){return new dI({na:t,methodName:e,la:i,path:Tn.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Yf(n){const t=n._freezeSettings(),e=ms(n._databaseId);return new XF(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hI(n,t,e,i,r,o={}){const u=n.fa(o.merge||o.mergeFields?2:0,t,e,r);_x("Data must be an object, but it was:",u,i);const h=HM(i,u);let f,y;if(o.merge)f=new fs(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const E=[];for(const D of o.mergeFields){const P=yx(t,D,e);if(!u.contains(P))throw new He(pe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);jM(E,P)||E.push(P)}f=new fs(E),y=u.fieldTransforms.filter(D=>f.covers(D.field))}else f=null,y=u.fieldTransforms;return new JF(new ln(h),f,y)}class Wb extends Kf{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wb}}function BM(n,t,e){return new dI({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class fx extends Kf{_toFieldTransform(t){return new wf(t.path,new dh)}isEqual(t){return t instanceof fx}}class eN extends Kf{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=BM(this,t,!0),i=this.da.map(o=>Qf(o,e)),r=new To(i);return new wf(t.path,r)}isEqual(t){return this===t}}class tN extends Kf{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=BM(this,t,!0),i=this.da.map(o=>Qf(o,e)),r=new wc(i);return new wf(t.path,r)}isEqual(t){return this===t}}class nN extends Kf{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new Fu(t.It,$C(t.It,this._a));return new wf(t.path,e)}isEqual(t){return this===t}}function gx(n,t,e,i){const r=n.fa(1,t,e);_x("Data must be an object, but it was:",r,i);const o=[],u=ln.empty();ku(i,(f,y)=>{const E=pI(t,f,e);y=(0,In.m9)(y);const D=r.ua(E);if(y instanceof Wb)o.push(E);else{const P=Qf(y,D);null!=P&&(o.push(E),u.set(E,P))}});const h=new fs(o);return new LM(u,h,r.fieldTransforms)}function mx(n,t,e,i,r,o){const u=n.fa(1,t,e),h=[yx(t,i,e)],f=[r];if(o.length%2!=0)throw new He(pe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<o.length;P+=2)h.push(yx(t,o[P])),f.push(o[P+1]);const y=[],E=ln.empty();for(let P=h.length-1;P>=0;--P)if(!jM(y,h[P])){const L=h[P];let B=f[P];B=(0,In.m9)(B);const te=u.ua(L);if(B instanceof Wb)y.push(L);else{const re=Qf(B,te);null!=re&&(y.push(L),E.set(L,re))}}const D=new fs(y);return new LM(E,D,u.fieldTransforms)}function UM(n,t,e,i=!1){return Qf(e,n.fa(i?4:3,t))}function Qf(n,t){if(zM(n=(0,In.m9)(n)))return _x("Unsupported field value:",t,n),HM(n,t);if(n instanceof Kf)return function(e,i){if(!VM(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Qf(u,i.ca(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,In.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $C(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=yn.fromDate(e);return{timestampValue:gh(i.It,r)}}if(e instanceof yn){const r=new yn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gh(i.It,r)}}if(e instanceof uI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xc)return{bytesValue:Bv(i.It,e._byteString)};if(e instanceof gi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.aa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Uv(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${cI(e)}`)}(n,t)}function HM(n,t){const e={};return SC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ku(n,(i,r)=>{const o=Qf(r,t.ia(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function zM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof uI||n instanceof xc||n instanceof gi||n instanceof Kf)}function _x(n,t,e){if(!zM(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cI(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function yx(n,t,e){if((t=(0,In.m9)(t))instanceof qu)return t._internalPath;if("string"==typeof t)return pI(n,t);throw fI("Field path arguments must be of type string or ",n,!1,void 0,e)}const iN=new RegExp("[~\\*/\\[\\]]");function pI(n,t,e){if(t.search(iN)>=0)throw fI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new qu(...t.split("."))._internalPath}catch{throw fI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function fI(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new He(pe.INVALID_ARGUMENT,h+n+f)}function jM(n,t){return n.some(e=>e.isEqual(t))}class Zb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class rN extends Zb{data(){return super.data()}}function gI(n,t){return"string"==typeof t?pI(n,t):t instanceof qu?t._internalPath:t._delegate._internalPath}class Jf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ku extends Zb{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(gI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class qb extends Ku{data(t={}){return super.data(t)}}class Dh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Jf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new qb(this._firestore,this._userDataWriter,i.key,i,new Jf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new He(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new qb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new qb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return 0!==u.type&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:sN(u.type),doc:h,oldIndex:f,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function sN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function $M(n,t){return n instanceof Ku&&t instanceof Ku?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Dh&&t instanceof Dh&&n._firestore===t._firestore&&OM(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function GM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kb{}function xh(n,...t){for(const e of t)n=e._apply(n);return n}class oN extends Kb{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=Yf(t.firestore),i=function(r,o,u,h,f,y,E){let D;if(f.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new He(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){QM(E,y);const L=[];for(const B of E)L.push(YM(h,r,B));D={arrayValue:{values:L}}}else D=YM(h,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||QM(E,y),D=UM(u,"where",E,"in"===y||"not-in"===y);const P=Di.create(f,y,D);return function(L,B){if(B.dt()){const re=Ev(L);if(null!==re&&!re.isEqual(B.field))throw new He(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${re.toString()}' and '${B.field.toString()}'`);const Pe=Ym(L);null!==Pe&&JM(0,B.field,Pe)}const te=function(re,Pe){for(const Ze of re.filters)if(Pe.indexOf(Ze.op)>=0)return Ze.op;return null}(L,function(re){switch(re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==te)throw new He(pe.INVALID_ARGUMENT,te===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${te.toString()}' filters.`)}(r,P),P}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Yr(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new wa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class lN extends Kb{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new He(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new He(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ba(r,o);return function(h,f){if(null===Ym(h)){const y=Ev(h);null!==y&&JM(0,y,f.field)}}(i,u),u}(t._query,this.wa,this.ya);return new Yr(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new wa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class WM extends Kb{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new Yr(t.firestore,t.converter,Tv(t._query,this.pa,this.Ia))}}class ZM extends Kb{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=KM(t,this.type,this.Ta,this.Ea);return new Yr(t.firestore,t.converter,(r=e,new wa((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class qM extends Kb{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=KM(t,this.type,this.Ta,this.Ea);return new Yr(t.firestore,t.converter,(r=e,new wa((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function KM(n,t,e,i){if(e[0]=(0,In.m9)(e[0]),e[0]instanceof Zb)return function(r,o,u,h,f){if(!h)throw new He(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const E of vf(r))if(E.field.isKeyField())y.push(oh(o,h.key));else{const D=h.data.field(E.field);if(Wm(D))throw new He(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const P=E.field.canonicalString();throw new He(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}y.push(D)}return new zs(y,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Yf(n.firestore);return function(o,u,h,f,y,E){const D=o.explicitOrderBy;if(y.length>D.length)throw new He(pe.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let L=0;L<y.length;L++){const B=y[L];if(D[L].field.isKeyField()){if("string"!=typeof B)throw new He(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof B}`);if(!Iv(o)&&-1!==B.indexOf("/"))throw new He(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${B}' contains a slash.`);const te=o.path.child(Jt.fromString(B));if(!tt.isDocumentKey(te))throw new He(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const re=new tt(te);P.push(oh(u,re))}else{const te=UM(h,f,B);P.push(te)}}return new zs(P,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function YM(n,t,e){if("string"==typeof(e=(0,In.m9)(e))){if(""===e)throw new He(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(t)&&-1!==e.indexOf("/"))throw new He(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Jt.fromString(e));if(!tt.isDocumentKey(i))throw new He(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oh(n,new tt(i))}if(e instanceof gi)return oh(n,e._key);throw new He(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cI(e)}.`)}function QM(n,t){if(!Array.isArray(n)||0===n.length)throw new He(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new He(pe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function JM(n,t,e){if(!e.isEqual(t))throw new He(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const mN={maxAttempts:5};class vx{convertValue(t,e="none"){switch(yc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ru(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){const i={};return ku(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new uI(bi(t.latitude),bi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=bv(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ih(t));default:return null}}convertTimestamp(t){const e=_c(t);return new yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Jt.fromString(t);Ut($v(i));const r=new _l(i.get(1),i.get(3)),o=new tt(i.popFirst(5));return r.isEqual(e)||yi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function mI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class _N extends vx{constructor(t){super(),this.firestore=t}convertBytes(t){return new xc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gi(this.firestore,null,e)}}class XM{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Yf(t)}set(t,e,i){this._verifyNotCommitted();const r=Ah(t,this._firestore),o=mI(r.converter,e,i),u=hI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ti.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof qu?mx(this._dataReader,"WriteBatch.update",o._key,e,i,r):gx(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,ti.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ah(t,this._firestore);return this._mutations=this._mutations.concat(new ph(e._key,ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(n,t){if((n=(0,In.m9)(n)).firestore!==t)throw new He(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xf extends vx{constructor(t){super(),this.firestore=t}convertBytes(t){return new xc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gi(this.firestore,null,e)}}function bx(n,t,e){n=wn(n,gi);const i=wn(n.firestore,wi),r=mI(n.converter,t,e);return B_(i,[hI(Yf(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ti.none())])}function wx(n,t,e,...i){n=wn(n,gi);const r=wn(n.firestore,wi),o=Yf(r);let u;return u="string"==typeof(t=(0,In.m9)(t))||t instanceof qu?mx(o,"updateDoc",n._key,t,e,i):gx(o,"updateDoc",n._key,t),B_(r,[u.toMutation(n._key,ti.exists(!0))])}function ek(n){return B_(wn(n.firestore,wi),[new ph(n._key,ti.none())])}function tk(n,t){const e=wn(n.firestore,wi),i=Gb(n),r=mI(n.converter,t);return B_(e,[hI(Yf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ti.exists(!1))]).then(()=>i)}function Cx(n,...t){var e,i,r;n=(0,In.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||px(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(px(t[u])){const D=t[u];t[u]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[u+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[u+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let f,y,E;if(n instanceof gi)y=wn(n.firestore,wi),E=Pu(n._key.path),f={next:D=>{t[u]&&t[u](Ex(y,n,D))},error:t[u+1],complete:t[u+2]};else{const D=wn(n,Yr);y=wn(D.firestore,wi),E=D._query;const P=new Xf(y);f={next:L=>{t[u]&&t[u](new Dh(y,P,D,L))},error:t[u+1],complete:t[u+2]},GM(n._query)}return function(D,P,L,B){const te=new oI(B),re=new Fb(P,te,L);return D.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return kb(yield V_(D),re)})),()=>{te.Rc(),D.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Ob(yield V_(D),re)}))}}(nr(y),E,h,f)}function B_(n,t){return function(e,i){const r=new Xi;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function fM(n,t,e){return tI.apply(this,arguments)}(yield cx(e),i,r)})),r.promise}(nr(n),t)}function Ex(n,t,e){const i=e.docs.get(t._key),r=new Xf(n);return new Ku(n,r,t._key,i,new Jf(e.hasPendingWrites,e.fromCache),t.converter)}class TN extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Yf(t)}get(t){const e=Ah(t,this._firestore),i=new _N(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ft();const o=r[0];if(o.isFoundDocument())return new Zb(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Zb(this._firestore,i,e._key,null,e.converter);throw ft()})}set(t,e,i){const r=Ah(t,this._firestore),o=mI(r.converter,e,i),u=hI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof qu?mx(this._dataReader,"Transaction.update",o._key,e,i,r):gx(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Ah(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ah(t,this._firestore),i=new Xf(this._firestore);return super.get(t).then(r=>new Ku(this._firestore,i,e._key,r._document,new Jf(!1,!1),e.converter))}}function Ix(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function ik(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function rk(){if(!function zS(){return typeof atob<"u"}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Au=ll.SDK_VERSION,(0,ll._registerComponent)(new Nd.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new wi(new vC(e.getProvider("auth-internal")),new LS(e.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new He(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(h.options.projectId,f)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,ll.registerVersion)(Vm,"3.5.0",n),(0,ll.registerVersion)(Vm,"3.5.0","esm2017")}();class Yb{constructor(t){this._delegate=t}static fromBase64String(t){return rk(),new Yb(xc.fromBase64String(t))}static fromUint8Array(t){return ik(),new Yb(xc.fromUint8Array(t))}toBase64(){return rk(),this._delegate.toBase64()}toUint8Array(){return ik(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Tx(n){return function PN(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class FN{enableIndexedDbPersistence(t,e){return function jF(n,t){NM(n=wn(n,wi));const e=nr(n),i=n._freezeSettings(),r=new ix;return FM(e,r,new yM(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function $F(n){NM(n=wn(n,wi));const t=nr(n),e=n._freezeSettings(),i=new ix;return FM(t,i,new IF(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function GF(n){if(n._initialized&&!n._terminated)throw new He(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Xi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(e=(0,Se.Z)(function*(i){if(!Gr.C())return Promise.resolve();const r=i+"main";yield Gr.delete(r)}),function(i){return e.apply(this,arguments)})(m_(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class sk{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof _l||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&pc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function LF(n,t,e,i={}){var r;const o=(n=wn(n,$b))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&pc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Wi.MOCK_USER;else{u=(0,In.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new He(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Wi(f)}n._authCredentials=new NS(new _C(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function ZF(n){return function AF(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const t=yield CM(n),e=yield EM(n);return t.setNetworkEnabled(!0),function(i){const r=ot(i);return r._u.delete(0),w_(r)}(e)}))}(nr(n=wn(n,wi)))}(this._delegate)}disableNetwork(){return function qF(n){return function MF(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const t=yield CM(n),e=yield EM(n);return t.setNetworkEnabled(!1),(i=(0,Se.Z)(function*(r){const o=ot(r);o._u.add(0),yield Th(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(nr(n=wn(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,DM("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function WF(n){return function(t){const e=new Xi;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function c(n,t){return d.apply(this,arguments)}(yield cx(t),e)})),e.promise}(nr(n=wn(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function IN(n,t){return function OF(n,t){const e=new oI(t);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return i=yield V_(n),r=e,ot(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return i=yield V_(n),r=e,void ot(i).Ru.delete(r);var i,r}))}}(nr(n=wn(n,wi)),px(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new U_(this,hx(this._delegate,t))}catch(e){throw _s(e,"collection()","Firestore.collection()")}}doc(t){try{return new Da(this,Gb(this._delegate,t))}catch(e){throw _s(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ys(this,function VF(n,t){if(n=wn(n,$b),dx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new He(pe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yr(n,null,(e=t,new wa(Jt.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw _s(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function SN(n,t,e){n=wn(n,wi);const i=Object.assign(Object.assign({},mN),e);return function(r){if(r.maxAttempts<1)throw new He(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function PF(n,t,e){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const r=yield(o=n,aI(o).then(u=>u.datastore));var o;new DF(n.asyncQueue,r,e,t,i).run()})),i.promise}(nr(n),r=>t(new TN(n,r)),i)}(this._delegate,e=>t(new ok(this,e)))}batch(){return nr(this._delegate),new ak(new XM(this._delegate,t=>B_(this._delegate,t)))}loadBundle(t){return function KF(n,t){const e=nr(n=wn(n,wi)),i=new UF;return function FF(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,y){if(f instanceof Uint8Array)return vM(f,y);if(f instanceof ArrayBuffer)return vM(new Uint8Array(f),y);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new TF(f,u);var f}(e,ms(t));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function EF(n,t,e){const i=ot(n);var r;(r=(0,Se.Z)(function*(o,u,h){try{const f=yield u.getMetadata();if(yield function(P,L){const B=ot(P),te=er(L.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",re=>B.Ns.getBundleMetadata(re,L.id)).then(re=>!!re&&re.createTime.compareTo(te)>=0)}(o.localStore,f))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=f).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(JD(f));const y=new Lb(f,o.localStore,u.It);let E=yield u.wc();for(;E;){const P=yield y.Ou(E);P&&h._updateProgress(P),E=yield u.wc()}const D=yield y.complete();return yield V(o,D.Bu,void 0),yield function(P,L){const B=ot(P);return B.persistence.runTransaction("Save bundle","readwrite",te=>B.Ns.saveBundleMetadata(te,L))}(o.localStore,f),h._completeWith(D.progress),Promise.resolve(D.$u)}catch(f){return pc("SyncEngine",`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}var P}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield cx(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function YF(n,t){return function NF(n,t){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(e,i){const r=ot(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield lI(n),t)}))}(nr(n=wn(n,wi)),t).then(e=>e?new Yr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ys(this,e):null)}}class _I extends vx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yb(new xc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Da.forKey(e,this.firestore,null)}}class ok{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _I(t)}get(t){const e=tg(t);return this._delegate.get(e).then(i=>new Qb(this._firestore,new Ku(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=tg(t);return i?(Ix("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=tg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=tg(t);return this._delegate.delete(e),this}}class ak{constructor(t){this._delegate=t}set(t,e,i){const r=tg(t);return i?(Ix("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=tg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=tg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class eg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new qb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Jb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=eg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new eg(t,new _I(t),e),r.set(e,o)),o}}eg.INSTANCES=new WeakMap;class Da{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _I(t)}static forPath(t,e,i){if(t.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Da(e,new gi(e._delegate,i,new tt(t)))}static forKey(t,e,i){return new Da(e,new gi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new U_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new U_(this.firestore,hx(this._delegate,t))}catch(e){throw _s(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,In.m9)(t))instanceof gi&&RM(this._delegate,t)}set(t,e){e=Ix("DocumentReference.set",e);try{return e?bx(this._delegate,t,e):bx(this._delegate,t)}catch(i){throw _s(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?wx(this._delegate,t):wx(this._delegate,t,e,...i)}catch(r){throw _s(r,"updateDoc()","DocumentReference.update()")}}delete(){return ek(this._delegate)}onSnapshot(...t){const e=lk(t),i=ck(t,r=>new Qb(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Cx(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function vN(n){n=wn(n,gi);const t=wn(n.firestore,wi),e=nr(t),i=new Xf(t);return function kF(n,t){const e=new Xi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(i=(0,Se.Z)(function*(r,o,u){try{const h=yield function(f,y){const E=ot(f);return E.persistence.runTransaction("read document","readonly",D=>E.localDocuments.getDocument(D,y))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new He(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Al(h,`Failed to get document '${o} from cache`);u.reject(f)}}),function(r,o,u){return i.apply(this,arguments)})(yield lI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ku(t,i,n._key,r,new Jf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function bN(n){n=wn(n,gi);const t=wn(n.firestore,wi);return IM(nr(t),n._key,{source:"server"}).then(e=>Ex(t,n,e))}(this._delegate):function yN(n){n=wn(n,gi);const t=wn(n.firestore,wi);return IM(nr(t),n._key).then(e=>Ex(t,n,e))}(this._delegate),e.then(i=>new Qb(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Da(this.firestore,this._delegate.withConverter(t?eg.getInstance(this.firestore,t):null))}}function _s(n,t,e){return n.message=n.message.replace(t,e),n}function lk(n){for(const t of n)if("object"==typeof t&&!Tx(t))return t;return{}}function ck(n,t){var e,i;let r;return r=Tx(n[0])?n[0]:Tx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Qb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return $M(this._delegate,t._delegate)}}class Jb extends Qb{data(t){const e=this._delegate.data(t);return function mC(n,t){n||ft()}(void 0!==e),e}}class ys{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _I(t)}where(t,e,i){try{return new ys(this.firestore,xh(this._delegate,function aN(n,t,e){const i=t,r=gI("where",n);return new oN(r,i,e)}(t,e,i)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ys(this.firestore,xh(this._delegate,function cN(n,t="asc"){const e=t,i=gI("orderBy",n);return new lN(i,e)}(t,e)))}catch(i){throw _s(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ys(this.firestore,xh(this._delegate,function uN(n){return MM("limit",n),new WM("limit",n,"F")}(t)))}catch(e){throw _s(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ys(this.firestore,xh(this._delegate,function dN(n){return MM("limitToLast",n),new WM("limitToLast",n,"L")}(t)))}catch(e){throw _s(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ys(this.firestore,xh(this._delegate,function hN(...n){return new ZM("startAt",n,!0)}(...t)))}catch(e){throw _s(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ys(this.firestore,xh(this._delegate,function pN(...n){return new ZM("startAfter",n,!1)}(...t)))}catch(e){throw _s(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ys(this.firestore,xh(this._delegate,function fN(...n){return new qM("endBefore",n,!1)}(...t)))}catch(e){throw _s(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ys(this.firestore,xh(this._delegate,function gN(...n){return new qM("endAt",n,!0)}(...t)))}catch(e){throw _s(e,"endAt()","Query.endAt()")}}isEqual(t){return OM(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function CN(n){n=wn(n,Yr);const t=wn(n.firestore,wi),e=nr(t),i=new Xf(t);return function RF(n,t){const e=new Xi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(i=(0,Se.Z)(function*(r,o,u){try{const h=yield Nf(r,o,!0),f=new JE(o,h.Hi),y=f.ju(h.documents),E=f.applyChanges(y,!1);u.resolve(E.snapshot)}catch(h){const f=Al(h,`Failed to execute query '${o} against cache`);u.reject(f)}}),function(r,o,u){return i.apply(this,arguments)})(yield lI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Dh(t,i,n,r))}(this._delegate):"server"===t?.source?function EN(n){n=wn(n,Yr);const t=wn(n.firestore,wi),e=nr(t),i=new Xf(t);return TM(e,n._query,{source:"server"}).then(r=>new Dh(t,i,n,r))}(this._delegate):function wN(n){n=wn(n,Yr);const t=wn(n.firestore,wi),e=nr(t),i=new Xf(t);return GM(n._query),TM(e,n._query).then(r=>new Dh(t,i,n,r))}(this._delegate),e.then(i=>new Sx(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=lk(t),i=ck(t,r=>new Sx(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Cx(this._delegate,e,i)}withConverter(t){return new ys(this.firestore,this._delegate.withConverter(t?eg.getInstance(this.firestore,t):null))}}class LN{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Jb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sx{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Jb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new LN(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Jb(this._firestore,i))})}isEqual(t){return $M(this._delegate,t._delegate)}}class U_ extends ys{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Da(this.firestore,t):null}doc(t){try{return new Da(this.firestore,void 0===t?Gb(this._delegate):Gb(this._delegate,t))}catch(e){throw _s(e,"doc()","CollectionReference.doc()")}}add(t){return tk(this._delegate,t).then(e=>new Da(this.firestore,e))}isEqual(t){return RM(this._delegate,t._delegate)}withConverter(t){return new U_(this.firestore,this._delegate.withConverter(t?eg.getInstance(this.firestore,t):null))}}function tg(n){return wn(n,gi)}class Dx{constructor(...t){this._delegate=new qu(...t)}static documentId(){return new Dx(Tn.keyField().canonicalString())}isEqual(t){return(t=(0,In.m9)(t))instanceof qu&&this._delegate._internalPath.isEqual(t._internalPath)}}class ng{constructor(t){this._delegate=t}static serverTimestamp(){const t=function xN(){return new fx("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ng(t)}static delete(){const t=function DN(){return new Wb("deleteField")}();return t._methodName="FieldValue.delete",new ng(t)}static arrayUnion(...t){const e=function AN(...n){return new eN("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ng(e)}static arrayRemove(...t){const e=function MN(...n){return new tN("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ng(e)}static increment(t){const e=function kN(n){return new nN("increment",n)}(t);return e._methodName="FieldValue.increment",new ng(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const VN={Firestore:sk,GeoPoint:uI,Timestamp:yn,Blob:Yb,Transaction:ok,WriteBatch:ak,DocumentReference:Da,DocumentSnapshot:Qb,Query:ys,QueryDocumentSnapshot:Jb,QuerySnapshot:Sx,CollectionReference:U_,FieldPath:Dx,FieldValue:ng,setLogLevel:function NN(n){!function fC(n){fl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function UN(n){(function BN(n,t){n.INTERNAL.registerComponent(new Nd.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},VN)))})(n,(t,e)=>new sk(t,e,new FN)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(D0.Z);var uk=N(6451),yI=N(5363),HN=N(6063);class zN extends Qt.x{constructor(t=1/0,e=1/0,i=HN.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let f=1;f<i.length&&i[f]<=u;f+=2)h=f;h&&i.splice(0,h+1)}}}var jN=N(3099);function dk(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,jN.B)({connector:()=>new zN(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function hk(n,t){return(0,Rs.m)(t)?pi(()=>n,t):pi(()=>n)}var xx=N(9468),ig=N(5867);class H_{constructor(t){return t}}class pk{constructor(){return(0,ig.C6)()}}const Ax=new s.OlP("angularfire2._apps"),GN={provide:H_,useFactory:function $N(n){return n&&1===n.length?n[0]:new H_((0,ig.Mq)())},deps:[[new s.FiY,Ax]]},WN={provide:pk,deps:[[new s.FiY,Ax]]};function ZN(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new H_(i)}}let qN=(()=>{class n{constructor(e){(0,ig.KN)("angularfire",pn.q4.full,"core"),(0,ig.KN)("angularfire",pn.q4.full,"app"),(0,ig.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[GN,WN]}),n})();function KN(n,...t){return{ngModule:qN,providers:[{provide:Ax,useFactory:ZN(n),multi:!0,deps:[s.R0b,s.zs3,pn.HU,...t]}]}}const YN=(0,pn.u3)(ig.ZF,!0),fk=new Map,QN={activated:!1,tokenObservers:[]},JN={initialized:!1,enabled:!1};function Tr(n){return fk.get(n)||QN}function kl(n,t){fk.set(n,t)}function vI(){return JN}class iL{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Se.Z)(function*(){e.stop();try{e.pending=new In.BH,yield function rL(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new In.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const vs=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mk(n){if(!Tr(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function Rx(n,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Se.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const L=yield u.getHeartbeatsHeader();L&&(o["X-Firebase-Client"]=L)}const h={method:"POST",body:JSON.stringify(t),headers:o};let f,y;try{f=yield fetch(n,h)}catch(L){throw vs.create("fetch-network-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}if(200!==f.status)throw vs.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(L){throw vs.create("fetch-parse-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const D=1e3*Number(E[1]),P=Date.now();return{token:y.token,expireTimeMillis:P+D,issuedAtTimeMillis:P}}),Ox.apply(this,arguments)}function lL(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Xb="firebase-app-check-store";let CI=null;function yk(){return CI||(CI=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(vs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xb,{keyPath:"compositeKey"})}}catch(i){t(vs.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),CI)}function Px(){return Px=(0,Se.Z)(function*(n,t){const i=(yield yk()).transaction(Xb,"readwrite"),o=i.objectStore(Xb).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=f=>{u()},i.onerror=f=>{var y;h(vs.create("storage-set",{originalErrorMessage:null===(y=f.target.error)||void 0===y?void 0:y.message}))}})}),Px.apply(this,arguments)}const ew=new ga.Yd("@firebase/app-check");function Ck(n,t){return(0,In.hl)()?function hL(n,t){return function vk(n,t){return Px.apply(this,arguments)}(function wk(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{ew.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Ek(){return vI().enabled}function Ik(){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Se.Z)(function*(){const n=vI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Vx.apply(this,arguments)}const yL={error:"UNKNOWN_ERROR"};function vL(n){return In.US.encodeString(JSON.stringify(n),!1)}function EI(n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Se.Z)(function*(n,t=!1){const e=n.app;mk(e);const i=Tr(e);let o,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&II(f)&&(r=f)}if(!t&&r&&II(r))return{token:r.token};let h,u=!1;if(Ek()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Rx(lL(e,yield Ik()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0);const f=yield i.exchangeTokenPromise;return yield Ck(e,f),kl(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),u=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?ew.warn(f.message):ew.error(f),o=f}return r?(h={token:r.token},kl(e,Object.assign(Object.assign({},i),{token:r})),yield Ck(e,r)):h=wL(o),u&&Sk(e,h),h}),Bx.apply(this,arguments)}function Hx(n,t){const e=Tr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),kl(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Tk(n){const{app:t}=n,e=Tr(t);let i=e.tokenRefresher;i||(i=function bL(n){const{app:t}=n;return new iL((0,Se.Z)(function*(){let i;if(i=Tr(t).token?yield EI(n,!0):yield EI(n),i.error)throw i.error}),()=>!0,()=>{const e=Tr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),kl(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Sk(n,t){const e=Tr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function II(n){return n.expireTimeMillis-Date.now()>0}function wL(n){return{token:vL(yL),error:n}}class CL{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Tr(this.app);for(const e of t)Hx(this.app,e.next);return Promise.resolve()}}const Pk="app-check-internal";!function NL(){(0,ll._registerComponent)(new Nd.wA("app-check",n=>function EL(n,t){return new CL(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Pk).initialize()})),(0,ll._registerComponent)(new Nd.wA(Pk,n=>function IL(n){return{getToken:t=>EI(n,t),addTokenListener:t=>function Ux(n,t,e,i){const{app:r}=n,o=Tr(r),u={next:e,error:i,type:t};if(kl(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&II(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),Tk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Tk(n))}(n,"INTERNAL",t),removeTokenListener:t=>Hx(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ll.registerVersion)("@firebase/app-check","0.5.12")}();class SI{constructor(){return(0,pn.vb)("app-check")}}typeof window<"u"&&window;var HL=N(127);const Nk=new s.OlP("angularfire2.auth.use-emulator"),Lk=new s.OlP("angularfire2.auth.settings"),Vk=new s.OlP("angularfire2.auth.tenant-id"),Bk=new s.OlP("angularfire2.auth.langugage-code"),Uk=new s.OlP("angularfire2.auth.use-device-language"),Hk=new s.OlP("angularfire.auth.persistence"),zk=(n,t,e,i,r,o,u,h)=>(0,fa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))f.settings[y]=E;return h&&f.setPersistence(h),f},[e,i,r,o,u,h]);let Wx=(()=>{class n{constructor(e,i,r,o,u,h,f,y,E,D,P,L){const B=new Qt.x,te=ht(void 0).pipe((0,yI.Q)(u.outsideAngular),pi(()=>o.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,ut.U)(()=>(0,fa.on)(e,o,i)),(0,ut.U)(re=>zk(re,o,h,y,E,D,f,P)),dk({bufferSize:1,refCount:!1}));if(Ho(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ht(null);else{te.pipe(X()).subscribe();const Pe=te.pipe(pi(Xe=>Xe.getRedirectResult().then(_t=>_t,()=>null)),pn.iC,dk({bufferSize:1,refCount:!1})),Ze=te.pipe(pi(Xe=>new hi.y(_t=>({unsubscribe:o.runOutsideAngular(()=>Xe.onAuthStateChanged(Dt=>_t.next(Dt),Dt=>_t.error(Dt),()=>_t.complete()))})))),et=te.pipe(pi(Xe=>new hi.y(_t=>({unsubscribe:o.runOutsideAngular(()=>Xe.onIdTokenChanged(Dt=>_t.next(Dt),Dt=>_t.error(Dt),()=>_t.complete()))}))));this.authState=Pe.pipe(hk(Ze),(0,xx.R)(u.outsideAngular),(0,yI.Q)(u.insideAngular)),this.user=Pe.pipe(hk(et),(0,xx.R)(u.outsideAngular),(0,yI.Q)(u.insideAngular)),this.idToken=this.user.pipe(pi(Xe=>Xe?(0,vn.D)(Xe.getIdToken()):ht(null))),this.idTokenResult=this.user.pipe(pi(Xe=>Xe?(0,vn.D)(Xe.getIdTokenResult()):ht(null))),this.credential=(0,uk.T)(Pe,B,this.authState.pipe(ur(Xe=>!Xe))).pipe((0,ut.U)(Xe=>Xe?.user?Xe:null),(0,xx.R)(u.outsideAngular),(0,yI.Q)(u.insideAngular))}return(0,fa.pX)(this,te,o,{spy:{apply:(re,Pe,Ze)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Ze.then(et=>B.next(et))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fa.Dh),s.LFG(fa.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(pn.HU),s.LFG(Nk,8),s.LFG(Lk,8),s.LFG(Vk,8),s.LFG(Bk,8),s.LFG(Uk,8),s.LFG(Hk,8),s.LFG(SI,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function jk(n,t){return function jL(n,t=Rp.z){return new hi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function Zx(n,t){return jk(n,t).pipe((0,ut.U)(e=>({payload:e,type:"query"})))}function DI(n,t){return Zx(n,t).pipe(uo(void 0),om(),(0,ut.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const f=r.find(E=>E.doc.ref.isEqual(u.ref)),y=e?.payload.docs.find(E=>E.ref.isEqual(u.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(u.metadata)||!f&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function $k(n,t,e){return DI(n,e).pipe(Ot((i,r)=>function GL(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function WL(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return qx(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return qx(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return qx(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),function sS(n,t=oo.y){return n=n??oS,(0,Fn.e)((e,i)=>{let r,o=!0;e.subscribe((0,Xn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}(),(0,ut.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function qx(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Gk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Wk{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=DI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ut.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(uo(void 0),om(),ur(([i,r])=>r.length>0||!i),(0,ut.U)(([i,r])=>r),pn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ot((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Gk(t);return $k(this.query,e,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(t={}){return Zx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),pn.iC)}get(t){return(0,vn.D)(this.query.get(t)).pipe(pn.iC)}add(t){return this.ref.add(t)}doc(t){return new Zk(this.ref.doc(t),this.afs)}}class Zk{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=Yk(i,e);return new Wk(r,o,this.afs)}snapshotChanges(){return function $L(n,t){return jk(n,t).pipe(uo(void 0),om(),(0,ut.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,vn.D)(this.ref.get(t)).pipe(pn.iC)}}class ZL{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?DI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ur(e=>e.length>0),pn.iC):DI(this.query,this.afs.schedulers.outsideAngular).pipe(pn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ot((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Gk(t);return $k(this.query,e,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(t={}){return Zx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),pn.iC)}get(t){return(0,vn.D)(this.query.get(t)).pipe(pn.iC)}}const qk=new s.OlP("angularfire2.enableFirestorePersistence"),Kk=new s.OlP("angularfire2.firestore.persistenceSettings"),qL=new s.OlP("angularfire2.firestore.settings"),KL=new s.OlP("angularfire2.firestore.use-emulator");function Yk(n,t=(e=>e)){return{query:t(n),ref:n}}let xI=(()=>{class n{constructor(e,i,r,o,u,h,f,y,E,D,P,L,B,te,re,Pe,Ze){this.schedulers=f;const et=(0,fa.on)(e,h,i),Xe=E;D&&zk(et,h,P,B,te,re,L,Pe),[this.firestore,this.persistenceEnabled$]=(0,fa.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const _t=h.runOutsideAngular(()=>et.firestore());if(o&&_t.settings(o),Xe&&_t.useEmulator(...Xe),r&&!Ho(u)){const Dt=()=>{try{return(0,vn.D)(_t.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(cn){return typeof console<"u"&&console.warn(cn),ht(!1)}};return[_t,h.runOutsideAngular(Dt)]}return[_t,ht(!1)]},[o,Xe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=Yk(r,i),h=this.schedulers.ngZone.run(()=>o);return new Wk(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new ZL(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Zk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fa.Dh),s.LFG(fa.xv,8),s.LFG(qk,8),s.LFG(qL,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(pn.HU),s.LFG(Kk,8),s.LFG(KL,8),s.LFG(Wx,8),s.LFG(Nk,8),s.LFG(Lk,8),s.LFG(Vk,8),s.LFG(Bk,8),s.LFG(Uk,8),s.LFG(Hk,8),s.LFG(SI,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YL=(()=>{class n{constructor(){HL.Z.registerVersion("angularfire",pn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:qk,useValue:!0},{provide:Kk,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xI]}),n})();class gt{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,u,h,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((u=t.length)!=e.length)return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var f=t instanceof Date,y=e instanceof Date;if(f!=y)return!1;if(f&&y)return t.getTime()==e.getTime();var E=t instanceof RegExp,D=e instanceof RegExp;if(E!=D)return!1;if(E&&D)return t.toString()==e.toString();var P=Object.keys(t);if((u=P.length)!==Object.keys(e).length)return!1;for(o=u;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,P[o]))return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[h=P[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,u=i.length;o<u;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],r)>e){i.splice(u,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var Qk=0;function tw(){return"pr_id_"+ ++Qk}var Sr=function QL(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,u,h)=>{u&&(u.style.zIndex=String(((o,u)=>{let h=n.length>0?n[n.length-1]:{key:o,value:u},f=h.value+(h.key===o?0:u)+1;return n.push({key:o,value:f}),f})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(u=>u.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const Jk=["*"];let Pr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Mh=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Pr.STARTS_WITH,Pr.CONTAINS,Pr.NOT_CONTAINS,Pr.ENDS_WITH,Pr.EQUALS,Pr.NOT_EQUALS],numeric:[Pr.EQUALS,Pr.NOT_EQUALS,Pr.LESS_THAN,Pr.LESS_THAN_OR_EQUAL_TO,Pr.GREATER_THAN,Pr.GREATER_THAN_OR_EQUAL_TO],date:[Pr.DATE_IS,Pr.DATE_IS_NOT,Pr.DATE_BEFORE,Pr.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Qt.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xo=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Kx=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=gt.removeAccents(i.toString()).toLocaleLowerCase(r);return gt.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=gt.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==gt.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=gt.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===gt.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=gt.removeAccents(i.toString()).toLocaleLowerCase(r),u=gt.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==u.indexOf(o,u.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():gt.removeAccents(e.toString()).toLocaleLowerCase(r)==gt.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():gt.removeAccents(e.toString()).toLocaleLowerCase(r)==gt.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(gt.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,u){let h=[];if(e)for(let f of e)for(let y of i){let E=gt.resolveFieldData(f,y);if(this.filters[o](E,r,u)){h.push(f);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rg=(()=>{class n{constructor(){this.messageSource=new Qt.x,this.clearSource=new Qt.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Yx=(()=>{class n{constructor(){this.clickSource=new Qt.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xk=(()=>{class n{}return n.AND="and",n.OR="or",n})(),eR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:Jk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),tR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:Jk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),bs=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Dr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})(),Rl=(()=>{class n{constructor(e,i,r,o,u){this.afs=e,this.afAuth=i,this.router=r,this.ngZone=o,this.messageService=u,this.userRole="",this.userUid=null,this.afAuth.authState.subscribe(h=>{h?(this.userData=h,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}signUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.setUserData(r.user)})}signIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i).then(r=>{this.setUserData(r.user),this.afAuth.authState.subscribe(o=>{o&&(this.router.navigate(["products"]),this.onSuccessSignIn())})}).catch(r=>{this.onFailedSignIn()})}setUserData(e){const i=this.afs.doc(`users/${e.uid}`),r={uid:e.uid,email:e.email,displayName:e.displayName,joinDate:new Date};return i.set(r,{merge:!0})}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}getUserUid(){this.afAuth.authState.subscribe(e=>{this.userUid=e?.uid})}onSuccessSignIn(){this.messageService.add({severity:"success",summary:"Log in successful",detail:"Enjoy our products!",life:4e3})}onFailedSignIn(){this.messageService.add({severity:"error",summary:"Sign-in failed",detail:"Verify your credentials and try again!",life:4e3})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xI),s.LFG(Wx),s.LFG(fi),s.LFG(s.R0b),s.LFG(rg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var nR=N(7143);class rR{constructor(){return(0,pn.vb)("auth")}}var t2={includeMetadataChanges:!1};function Xx(n,t){return void 0===t&&(t=t2),new hi.y(function(e){return{unsubscribe:Cx(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}function r2(n,t){return void 0===t&&(t={}),function n2(n){return Xx(n,{includeMetadataChanges:!0})}(n).pipe((0,ut.U)(function(e){return sR(e,t)}))}function sR(n,t){void 0===t&&(t={});var e=n.data();return!n.exists()||"object"!=typeof e||null===e||t.idField&&(e[t.idField]=n.id),e}function u2(n,t){return void 0===t&&(t={}),function c2(n){return Xx(n,{includeMetadataChanges:!0}).pipe((0,ut.U)(function(t){return t.docs}))}(n).pipe((0,ut.U)(function(e){return e.map(function(i){return sR(i,t)})}))}class z_{constructor(t){return t}}const cR="firestore",n1=new s.OlP("angularfire2.firestore-instances");function p2(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new z_(i)}}const f2={provide:class d2{constructor(){return(0,pn.vb)(cR)}},deps:[[new s.FiY,n1]]},g2={provide:z_,useFactory:function h2(n,t){const e=(0,pn.JM)(cR,n,t);return e&&new z_(e)},deps:[[new s.FiY,n1],H_]};let m2=(()=>{class n{constructor(){(0,ig.KN)("angularfire",pn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[g2,f2]}),n})();function _2(n,...t){return{ngModule:m2,providers:[{provide:n1,useFactory:p2(n),multi:!0,deps:[s.R0b,s.zs3,pn.HU,pk,[new s.FiY,rR],[new s.FiY,SI],...t]}]}}const AI=(0,pn.u3)(u2,!0),uR=(0,pn.u3)(r2,!0),r1=(0,pn.u3)(tk,!0),sg=(0,pn.u3)(hx,!0),MI=(0,pn.u3)(ek,!0),Yu=(0,pn.u3)(Gb,!0),y2=(0,pn.u3)(zF,!0),v2=(0,pn.u3)(bx,!0),dR=(0,pn.u3)(wx,!0);let hR=(()=>{class n{constructor(e){this.fireStore=e,this.products=null}addProduct(e){const i=sg(this.fireStore,"products");return r1(i,e)}getProducts(){const e=sg(this.fireStore,"products");return AI(e,{idField:"id"})}getProductById(e){const i=Yu(this.fireStore,`products/${e}`);return uR(i,{idField:"id"})}deleteProduct(e){const i=Yu(this.fireStore,`products/${e.id}`);return MI(i)}updateProduct(e){const i=Yu(this.fireStore,`products/${e.id}`);return dR(i,{...e,price:e.price})}modifyProductPrice(e,i){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pR=(()=>{class n{constructor(e,i,r){this.fireStore=e,this.angularFirestore=i,this.authService=r}addToCart(e){return this.angularFirestore.collection(`users/${this.authService.userUid}/cart`).add(e)}getCart(){const e=sg(this.fireStore,`users/${this.authService.userUid}/cart`);return AI(e,{idField:"id"})}buyProduct(e){const r=sg(this.fireStore,`users/${this.authService.userUid}/cart`);return r1(r,e)}deleteProduct(e){const r=Yu(this.fireStore,`users/${this.authService.userUid}/cart/${e.id}`);return MI(r)}deleteAllProductsFromCart(){const i=Yu(this.fireStore,`users/${this.authService.userUid}/cart`);return MI(i)}getCartProducts(){const i=sg(this.fireStore,`users/${this.authService.userUid}/cart`);return AI(i,{idField:"id"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z_),s.LFG(xI),s.LFG(Rl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oe=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var u=0;u<r.length;u++){if(r[u]==e)return o;r[u].attributes&&r[u].attributes[i]&&1==r[u].nodeType&&o++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,u=i.getBoundingClientRect(),h=this.getViewport();let f,y;u.top+o+r.height>h.height?(f=-1*r.height,e.style.transformOrigin="bottom",u.top+f<0&&(f=-1*u.top)):(f=o,e.style.transformOrigin="top"),y=r.width>h.width?-1*u.left:u.left+r.width>h.width?-1*(u.left+r.width-h.width):0,e.style.top=f+"px",e.style.left=y+"px"}static absolutePosition(e,i){let L,B,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,u=r.width,h=i.offsetHeight,f=i.offsetWidth,y=i.getBoundingClientRect(),E=this.getWindowScrollTop(),D=this.getWindowScrollLeft(),P=this.getViewport();y.top+h+o>P.height?(L=y.top+E-o,e.style.transformOrigin="bottom",L<0&&(L=E)):(L=h+y.top+E,e.style.transformOrigin="top"),B=y.left+u>P.width?Math.max(0,y.left+D+f-u):y.left+D,e.style.top=L+"px",e.style.left=B+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,u=h=>{let f=window.getComputedStyle(h,null);return o.test(f.getPropertyValue("overflow"))||o.test(f.getPropertyValue("overflowX"))||o.test(f.getPropertyValue("overflowY"))};for(let h of r){let f=1===h.nodeType&&h.dataset.scrollselectors;if(f){let y=f.split(",");for(let E of y){let D=this.findSingle(h,E);D&&u(D)&&i.push(D)}}9!==h.nodeType&&u(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),h=u?parseFloat(u):0,f=e.getBoundingClientRect(),E=i.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-o-h,D=e.scrollTop,P=e.clientHeight,L=this.getOuterHeight(i);E<0?e.scrollTop=D+E:E+L>P&&(e.scrollTop=D+E-P+L)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,u=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,i){var r=1,h=50/i;let f=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(f)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class s1{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=oe.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let og=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(oe.removeClass(i,"p-ink-active"),!oe.getHeight(i)&&!oe.getWidth(i)){let h=Math.max(oe.getOuterWidth(this.el.nativeElement),oe.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=oe.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-oe.getWidth(i)/2,u=e.pageY-r.top+document.body.scrollLeft-oe.getHeight(i)/2;i.style.top=u+"px",i.style.left=o+"px",oe.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let h=this.getInk();h&&oe.removeClass(h,"p-ink-active")},401)}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&oe.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),oe.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),oe.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Mh,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Ol=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})(),Ac=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,oe.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&oe.addClass(e,i);let r=this.getIconClass();r&&oe.addMultipleClasses(e,r);let o=oe.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=oe.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=oe.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(oe.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),kh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Ol]}),n})(),fR=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ag=(()=>{class n extends fR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const ws=new s.OlP("NgValueAccessor"),E2={provide:ws,useExisting:(0,s.Gpc)(()=>o1),multi:!0},T2=new s.OlP("CompositionEventMode");let o1=(()=>{class n extends fR{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I2(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(T2,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([E2]),s.qOj]}),n})();const Qr=new s.OlP("NgValidators"),Oh=new s.OlP("NgAsyncValidators");function TR(n){return null!=n}function SR(n){return(0,s.QGY)(n)?(0,vn.D)(n):n}function DR(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function xR(n,t){return t.map(e=>e(n))}function AR(n){return n.map(t=>function x2(n){return!n.validate}(t)?t:e=>t.validate(e))}function a1(n){return null!=n?function MR(n){if(!n)return null;const t=n.filter(TR);return 0==t.length?null:function(e){return DR(xR(e,t))}}(AR(n)):null}function l1(n){return null!=n?function kR(n){if(!n)return null;const t=n.filter(TR);return 0==t.length?null:function(e){return function w2(...n){const t=(0,us.jO)(n),{args:e,keys:i}=ks(n),r=new hi.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let f=u,y=u;for(let E=0;E<u;E++){let D=!1;(0,hs.Xf)(e[E]).subscribe((0,Xn.x)(o,P=>{D||(D=!0,y--),h[E]=P},()=>f--,void 0,()=>{(!f||!D)&&(y||o.next(i?tl(i,h):h),o.complete())}))}});return t?r.pipe(Yl(t)):r}(xR(e,t).map(SR)).pipe((0,ut.U)(DR))}}(AR(n)):null}function RR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function c1(n){return n?Array.isArray(n)?n:[n]:[]}function RI(n,t){return Array.isArray(n)?n.includes(t):n===t}function FR(n,t){const e=c1(t);return c1(n).forEach(r=>{RI(e,r)||e.push(r)}),e}function NR(n,t){return c1(t).filter(e=>!RI(n,e))}class LR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=a1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=l1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cs extends LR{get formDirective(){return null}get path(){return null}}class Ph extends LR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VR{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let u1=(()=>{class n extends VR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ph,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),d1=(()=>{class n extends VR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cs,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const nw="VALID",PI="INVALID",j_="PENDING",iw="DISABLED";function g1(n){return(FI(n)?n.validators:n)||null}function UR(n){return Array.isArray(n)?a1(n):n||null}function m1(n,t){return(FI(t)?t.asyncValidators:n)||null}function HR(n){return Array.isArray(n)?l1(n):n||null}function FI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $R{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=UR(this._rawValidators),this._composedAsyncValidatorFn=HR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===nw}get invalid(){return this.status===PI}get pending(){return this.status==j_}get disabled(){return this.status===iw}get enabled(){return this.status!==iw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=UR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=HR(t)}addValidators(t){this.setValidators(FR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(FR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(NR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(NR(t,this._rawAsyncValidators))}hasValidator(t){return RI(this._rawValidators,t)}hasAsyncValidator(t){return RI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=j_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=iw,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nw,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nw||this.status===j_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iw:nw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=j_,this._hasOwnPendingAsyncValidator=!0;const e=SR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?iw:this.errors?PI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j_)?j_:this._anyControlsHaveStatus(PI)?PI:nw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){FI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class _1 extends $R{constructor(t,e,i){super(g1(e),m1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function jR(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function zR(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function rw(n,t){y1(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function L2(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&GR(n,t)})}(n,t),function B2(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function V2(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&GR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function N2(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function VI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function y1(n,t){const e=function OR(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(RR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function PR(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(RR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();VI(t._rawValidators,r),VI(t._rawAsyncValidators,r)}function GR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const $2={provide:Cs,useExisting:(0,s.Gpc)(()=>ow)},sw=(()=>Promise.resolve())();let ow=(()=>{class n extends Cs{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new _1({},a1(e),l1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){sw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),rw(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){sw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){sw.then(()=>{const i=this._findContainer(e.path),r=new _1({});(function WR(n,t){y1(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){sw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){sw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function qR(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qr,10),s.Y36(Oh,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([$2]),s.qOj]}),n})();function KR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function YR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const QR=class extends $R{constructor(t=null,e,i){super(g1(e),m1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),FI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=YR(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){KR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){KR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){YR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Z2={provide:Ph,useExisting:(0,s.Gpc)(()=>aw)},eO=(()=>Promise.resolve())();let aw=(()=>{class n extends Ph{constructor(e,i,r,o,u){super(),this._changeDetectorRef=u,this.control=new QR,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function b1(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===o1?e=o:function z2(n){return Object.getPrototypeOf(n.constructor)===ag}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function v1(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){eO.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);eO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function NI(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cs,9),s.Y36(Qr,10),s.Y36(Oh,10),s.Y36(ws,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Z2]),s.qOj,s.TTD]}),n})(),w1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),nO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const C1=new s.OlP("NgModelWithFormControlWarning");let vO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nO]}),n})(),UI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vO]}),n})(),_V=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:C1,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vO]}),n})(),$_=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(aw,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),A1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})(),lw=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?oe.appendChild(this.container,this.el.nativeElement):oe.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),oe.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Sr.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Sr.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+oe.getWindowScrollLeft(),top:e.top+oe.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+oe.getOuterWidth(this.el.nativeElement),r=e.top+(oe.getOuterHeight(this.el.nativeElement)-oe.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-oe.getOuterWidth(this.container),r=e.top+(oe.getOuterHeight(this.el.nativeElement)-oe.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(oe.getOuterWidth(this.el.nativeElement)-oe.getOuterWidth(this.container))/2,r=e.top-oe.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(oe.getOuterWidth(this.el.nativeElement)-oe.getOuterWidth(this.container))/2,r=e.top+oe.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return oe.hasClass(e,"p-inputwrapper")?oe.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=oe.getOuterWidth(this.container),u=oe.getOuterHeight(this.container),h=oe.getViewport();return r+o>h.width||r<0||i<0||i+u>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new s1(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):oe.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Sr.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Mh))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),M1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})();class bO{}const Qu="*";function cw(n,t){return{type:7,name:n,definitions:t,options:{}}}function Mc(n,t=null){return{type:4,styles:t,timings:n}}function wO(n,t=null){return{type:2,steps:n,options:t}}function Es(n){return{type:6,styles:n,offset:null}}function CO(n,t,e){return{type:0,name:n,styles:t,options:e}}function Pl(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function EO(n,t=null){return{type:8,animation:n,options:t}}function bV(n=null){return{type:9,options:n}}function IO(n,t=null){return{type:10,animation:n,options:t}}function wV(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function TO(n){Promise.resolve().then(n)}class uw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){TO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class SO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?TO(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const CV=["element"],EV=["content"];function IV(n,t){1&n&&s.GkF(0)}const R1=function(n,t){return{$implicit:n,options:t}};function TV(n,t){if(1&n&&(s.ynx(0),s.YNc(1,IV,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(2,R1,e.loadedItems,e.getContentOptions()))}}function SV(n,t){1&n&&s.GkF(0)}function DV(n,t){if(1&n&&(s.ynx(0),s.YNc(1,SV,1,0,"ng-container",7),s.BQk()),2&n){const e=t.$implicit,i=t.index,r=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,R1,e,r.getOptions(i)))}}const xV=function(n){return{"p-scroller-loading":n}};function AV(n,t){if(1&n&&(s.TgZ(0,"div",8,9),s.YNc(2,DV,2,5,"ng-container",10),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(4,xV,e.d_loading))("ngStyle",e.contentStyle),s.xp6(2),s.Q6J("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function MV(n,t){if(1&n&&s._UZ(0,"div",11),2&n){const e=s.oxw(2);s.Q6J("ngStyle",e.spacerStyle)}}function kV(n,t){1&n&&s.GkF(0)}const RV=function(n){return{numCols:n}},DO=function(n){return{options:n}};function OV(n,t){if(1&n&&(s.ynx(0),s.YNc(1,kV,1,0,"ng-container",7),s.BQk()),2&n){const e=t.index,i=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,DO,i.getLoaderOptions(e,i.both&&s.VKq(2,RV,i._numItemsInViewport.cols))))}}function PV(n,t){if(1&n&&(s.ynx(0),s.YNc(1,OV,2,6,"ng-container",14),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.loaderArr)}}function FV(n,t){1&n&&s.GkF(0)}const NV=function(){return{styleClass:"p-scroller-loading-icon"}};function LV(n,t){if(1&n&&(s.ynx(0),s.YNc(1,FV,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,DO,s.DdM(2,NV)))}}function VV(n,t){1&n&&s._UZ(0,"i",16)}function BV(n,t){if(1&n&&(s.YNc(0,LV,2,5,"ng-container",0),s.YNc(1,VV,1,0,"ng-template",null,15,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(3);s.Q6J("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}const UV=function(n){return{"p-component-overlay":n}};function HV(n,t){if(1&n&&(s.TgZ(0,"div",12),s.YNc(1,PV,2,1,"ng-container",0),s.YNc(2,BV,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.Q6J("ngClass",s.VKq(3,UV,!i.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",i.loaderTemplate)("ngIfElse",e)}}const zV=function(n,t){return{"p-scroller":!0,"p-both-scroll":n,"p-horizontal-scroll":t}};function jV(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onContainerScroll(r))}),s.YNc(3,TV,2,5,"ng-container",0),s.YNc(4,AV,3,6,"ng-template",null,4,s.W1O),s.YNc(6,MV,1,1,"div",5),s.YNc(7,HV,4,5,"div",6),s.qZA(),s.BQk()}if(2&n){const e=s.MAs(5),i=s.oxw();s.xp6(1),s.Tol(i._styleClass),s.Q6J("ngStyle",i._style)("ngClass",s.WLB(10,zV,i.both,i.horizontal)),s.uIk("id",i._id)("tabindex",i.tabindex),s.xp6(2),s.Q6J("ngIf",i.contentTemplate)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i._showSpacer),s.xp6(1),s.Q6J("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function $V(n,t){1&n&&s.GkF(0)}const GV=function(n,t){return{rows:n,columns:t}};function WV(n,t){if(1&n&&(s.ynx(0),s.YNc(1,$V,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(5,R1,e.items,s.WLB(2,GV,e._items,e.loadedColumns)))}}function ZV(n,t){if(1&n&&(s.Hsn(0),s.YNc(1,WV,2,8,"ng-container",17)),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.contentTemplate)}}const qV=["*"];let xO=(()=>{class n{constructor(e,i){this.cd=e,this.zone=i,this.onLazyLoad=new s.vpe,this.onScroll=new s.vpe,this.onScrollIndexChange=new s.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._delay=0,this._resizeDelay=10,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1,this._disabled||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(this.initialized&&!i&&(e.items||e.itemSize||e.scrollHeight||e.scrollWidth)&&this.init(),e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){const{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.setContentEl(this.contentEl),this.init(),this.defaultWidth=oe.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=oe.getHeight(this.elementViewChild.nativeElement),this.initialized=!0}ngAfterViewChecked(){this.calculateAutoSize()}ngOnDestroy(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||oe.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems}getElementRef(){return this.elementViewChild}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),u=(y=0,E)=>y<=E?0:y,h=(y,E,D)=>y*E+D,f=(y=0,E=0)=>this.scrollTo({left:y,top:E,behavior:i});if(this.both){const y={rows:u(e[0],r[0]),cols:u(e[1],r[1])};(y.rows!==this.first.rows||y.cols!==this.first.cols)&&f(h(y.cols,this._itemSize[1],o.left),h(y.rows,this._itemSize[0],o.top))}else{const y=u(e,r);y!==this.first&&(this.horizontal?f(h(y,this._itemSize,o.left),0):f(0,h(y,this._itemSize,o.top)))}}scrollInView(e,i,r="auto"){if(i){const{first:o,viewport:u}=this.getRenderedRange(),h=(E=0,D=0)=>this.scrollTo({left:E,top:D,behavior:r}),y="to-end"===i;if("to-start"===i){if(this.both)u.first.rows-o.rows>e[0]?h(u.first.cols*this._itemSize[1],(u.first.rows-1)*this._itemSize[0]):u.first.cols-o.cols>e[1]&&h((u.first.cols-1)*this._itemSize[1],u.first.rows*this._itemSize[0]);else if(u.first-o>e){const E=(u.first-1)*this._itemSize;this.horizontal?h(E,0):h(0,E)}}else if(y)if(this.both)u.last.rows-o.rows<=e[0]+1?h(u.first.cols*this._itemSize[1],(u.first.rows+1)*this._itemSize[0]):u.last.cols-o.cols<=e[1]+1&&h((u.first.cols+1)*this._itemSize[1],u.first.rows*this._itemSize[0]);else if(u.last-o<=e+1){const E=(u.first+1)*this._itemSize;this.horizontal?h(E,0):h(0,E)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(o,u)=>Math.floor(o/(u||o));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:o,scrollLeft:u}=this.elementViewChild.nativeElement;this.both?(i={rows:e(o,this._itemSize[0]),cols:e(u,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?u:o,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0,o=(y,E)=>Math.ceil(y/(E||y)),u=y=>Math.ceil(y/2),h=this.both?{rows:o(r,this._itemSize[0]),cols:o(i,this._itemSize[1])}:o(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:h,numToleratedItems:this.d_numToleratedItems||(this.both?[u(h.rows),u(h.cols)]:u(h))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(h,f,y,E=!1)=>this.getLast(h+f+(h<y?2:3)*y,E),o=this.first,u=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=u,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&this.handleEvents("onLazyLoad",{first:o,last:u})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:e,offsetHeight:i}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(e<this.defaultWidth?e:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(i<this.defaultHeight?i:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),u=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:o,bottom:u,x:i+r,y:o+u}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(u,h)=>this.elementViewChild.nativeElement.style[u]=h;this.both||this.horizontal?(o("height",r),o("width",i)):o("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,o,u,h=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*u+h+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl){const i=e?e.first:this.first,r=(u,h)=>u*h,o=(u=0,h=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${u}px, ${h}px, 0)`};if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const u=r(i,this._itemSize);this.horizontal?o(u,0):o(0,u)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),o=(re,Pe)=>re?re>Pe?re-Pe:re:0,u=(re,Pe)=>Math.floor(re/(Pe||re)),h=(re,Pe,Ze,et,Xe,_t)=>re<=Xe?Xe:_t?Ze-et-Xe:Pe+Xe-1,f=(re,Pe,Ze,et,Xe,_t,Dt)=>re<=_t?0:Math.max(0,Dt?re<Pe?Ze:re-_t:re>Pe?Ze:re-2*_t),y=(re,Pe,Ze,et,Xe,_t=!1)=>{let Dt=Pe+et+2*Xe;return re>=Xe&&(Dt+=Xe+1),this.getLast(Dt,_t)},E=o(i.scrollTop,r.top),D=o(i.scrollLeft,r.left);let P=this.both?{rows:0,cols:0}:0,L=this.last,B=!1,te=this.lastScrollPos;if(this.both){const re=this.lastScrollPos.top<=E,Pe=this.lastScrollPos.left<=D,Ze={rows:u(E,this._itemSize[0]),cols:u(D,this._itemSize[1])},et={rows:h(Ze.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],re),cols:h(Ze.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Pe)};P={rows:f(Ze.rows,et.rows,this.first.rows,0,0,this.d_numToleratedItems[0],re),cols:f(Ze.cols,et.cols,this.first.cols,0,0,this.d_numToleratedItems[1],Pe)},L={rows:y(Ze.rows,P.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:y(Ze.cols,P.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},B=P.rows!==this.first.rows||L.rows!==this.last.rows||P.cols!==this.first.cols||L.cols!==this.last.cols,te={top:E,left:D}}else{const re=this.horizontal?D:E,Pe=this.lastScrollPos<=re,Ze=u(re,this._itemSize);P=f(Ze,h(Ze,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,Pe),this.first,0,0,this.d_numToleratedItems,Pe),L=y(Ze,P,0,this.numItemsInViewport,this.d_numToleratedItems),B=P!==this.first||L!==this.last,te=re}return{first:P,last:L,isRangeChanged:B,scrollPos:te}}onScrollChange(e){const{first:i,last:r,isRangeChanged:o,scrollPos:u}=this.onScrollPositionChange(e);if(o){const h={first:i,last:r};this.setContentPosition(h),this.first=i,this.last=r,this.lastScrollPos=u,this.handleEvents("onScrollIndexChange",h),this._lazy&&this.handleEvents("onLazyLoad",h)}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);i&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.cd.detectChanges())},this._delay)}else this.onScrollChange(e)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(this.elementViewChild){const[e,i]=[oe.getWidth(this.elementViewChild.nativeElement),oe.getHeight(this.elementViewChild.nativeElement)],[r,o]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-scroller"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,bs,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(CV,5),s.Gf(EV,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.elementViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",delay:"delay",resizeDelay:"resizeDelay",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:qV,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,i){if(1&e&&(s.F$t(),s.YNc(0,jV,8,13,"ng-container",0),s.YNc(1,ZV,2,1,"ng-template",null,1,s.W1O)),2&e){const r=s.MAs(2);s.Q6J("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[Ft,Pi,en,Ii,li],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}\n"],encapsulation:2}),n})(),HI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})(),KV=(()=>{class n{constructor(e){this.host=e,this.focused=!1}ngAfterContentChecked(){if(!this.focused&&this.autofocus){const e=oe.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:["pAutoFocus","autofocus"]}}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})();function QV(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function JV(n,t){1&n&&s.GkF(0)}const dw=function(n){return{height:n}},XV=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},O1=function(n){return{$implicit:n}},eB=["container"],tB=["filter"],nB=["in"],iB=["editableInput"],rB=["items"],sB=["scroller"];function oB(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function aB(n,t){1&n&&s.GkF(0)}const lB=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function cB(n,t){if(1&n&&(s.TgZ(0,"span",12),s.YNc(1,oB,2,1,"ng-container",13),s.YNc(2,aB,1,0,"ng-container",14),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,lB,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,O1,e.selectedOption))}}const uB=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function dB(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,uB,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function hB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onEditableInputClick())})("input",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputChange(r))})("focus",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputFocus(r))})("blur",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputBlur(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function pB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.clear(r))}),s.qZA()}}function fB(n,t){1&n&&s.GkF(0)}function gB(n,t){1&n&&s.GkF(0)}const AO=function(n){return{options:n}};function mB(n,t){if(1&n&&(s.ynx(0),s.YNc(1,gB,1,0,"ng-container",14),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",s.VKq(2,AO,e.filterOptions))}}function _B(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27)(1,"input",28,29),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onKeydown(r,!1))})("input",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onFilterInputChange(r))}),s.qZA(),s._UZ(3,"span",30),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function yB(n,t){if(1&n&&(s.TgZ(0,"div",24),s.NdJ("click",function(i){return i.stopPropagation()}),s.YNc(1,mB,2,4,"ng-container",25),s.YNc(2,_B,4,4,"ng-template",null,26,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",i.filterTemplate)("ngIfElse",e)}}function vB(n,t){1&n&&s.GkF(0)}const MO=function(n,t){return{$implicit:n,options:t}};function bB(n,t){if(1&n&&s.YNc(0,vB,1,0,"ng-container",14),2&n){const e=t.$implicit,i=t.options;s.oxw(2);const r=s.MAs(7);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,MO,e,i))}}function wB(n,t){1&n&&s.GkF(0)}function CB(n,t){if(1&n&&s.YNc(0,wB,1,0,"ng-container",14),2&n){const e=t.options,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,AO,e))}}function EB(n,t){1&n&&(s.ynx(0),s.YNc(1,CB,1,4,"ng-template",34),s.BQk())}function IB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-scroller",31,32),s.NdJ("onLazyLoad",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onLazyLoad.emit(r))}),s.YNc(2,bB,1,5,"ng-template",33),s.YNc(3,EB,2,0,"ng-container",13),s.qZA()}if(2&n){const e=s.oxw(2);s.Akn(s.VKq(8,dw,e.scrollHeight)),s.Q6J("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",e.loaderTemplate)}}function TB(n,t){1&n&&s.GkF(0)}const SB=function(){return{}};function DB(n,t){if(1&n&&(s.ynx(0),s.YNc(1,TB,1,0,"ng-container",14),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(3,MO,i.optionsToDisplay,s.DdM(2,SB)))}}function xB(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function AB(n,t){1&n&&s.GkF(0)}function MB(n,t){1&n&&s.GkF(0)}const kO=function(n,t){return{$implicit:n,selectedOption:t}};function kB(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,xB,2,1,"span",13),s.YNc(2,AB,1,0,"ng-container",14),s.qZA(),s.YNc(3,MB,1,0,"ng-container",14)),2&n){const e=t.$implicit,i=s.oxw(2).options,r=s.MAs(5),o=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,dw,i.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",s.VKq(8,O1,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(10,kO,o.getOptionGroupChildren(e),o.selectedOption))}}function RB(n,t){if(1&n&&(s.ynx(0),s.YNc(1,kB,4,13,"ng-template",39),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function OB(n,t){1&n&&s.GkF(0)}function PB(n,t){if(1&n&&(s.ynx(0),s.YNc(1,OB,1,0,"ng-container",14),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.MAs(5),r=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(2,kO,e,r.selectedOption))}}function FB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",41),s.NdJ("onClick",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onItemClick(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw().selectedOption,r=s.oxw(3);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function NB(n,t){1&n&&s.YNc(0,FB,1,5,"ng-template",39),2&n&&s.Q6J("ngForOf",t.$implicit)}function LB(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function VB(n,t){1&n&&s.GkF(0,null,43)}function BB(n,t){if(1&n&&(s.TgZ(0,"li",42),s.YNc(1,LB,2,1,"ng-container",25),s.YNc(2,VB,2,0,"ng-container",19),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,dw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function UB(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function HB(n,t){1&n&&s.GkF(0,null,44)}function zB(n,t){if(1&n&&(s.TgZ(0,"li",42),s.YNc(1,UB,2,1,"ng-container",25),s.YNc(2,HB,2,0,"ng-container",19),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,dw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyTemplate)}}function jB(n,t){if(1&n&&(s.TgZ(0,"ul",35,36),s.YNc(2,RB,2,1,"ng-container",13),s.YNc(3,PB,2,5,"ng-container",13),s.YNc(4,NB,1,1,"ng-template",null,37,s.W1O),s.YNc(6,BB,3,6,"li",38),s.YNc(7,zB,3,6,"li",38),s.qZA()),2&n){const e=t.options,i=s.oxw(2);s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass),s.uIk("id",i.listId),s.xp6(2),s.Q6J("ngIf",i.group),s.xp6(1),s.Q6J("ngIf",!i.group),s.xp6(3),s.Q6J("ngIf",i.filterValue&&i.isEmpty()),s.xp6(1),s.Q6J("ngIf",!i.filterValue&&i.isEmpty())}}function $B(n,t){1&n&&s.GkF(0)}const GB=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},WB=function(n){return{value:"visible",params:n}};function ZB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayClick(r))})("@overlayAnimation.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayAnimationEnd(r))}),s.YNc(1,fB,1,0,"ng-container",19),s.YNc(2,yB,4,2,"div",20),s.TgZ(3,"div",21),s.YNc(4,IB,4,10,"p-scroller",22),s.YNc(5,DB,2,6,"ng-container",13),s.YNc(6,jB,8,8,"ng-template",null,23,s.W1O),s.qZA(),s.YNc(8,$B,1,0,"ng-container",19),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(15,WB,s.WLB(12,GB,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",e.virtualScroll),s.xp6(1),s.Q6J("ngIf",!e.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const qB=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},KB={provide:ws,useExisting:(0,s.Gpc)(()=>P1),multi:!0};let YB=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,QV,2,1,"span",1),s.YNc(2,JV,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,dw,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,XV,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,O1,i.option)))},dependencies:[Ft,en,Ii,li,og],encapsulation:2}),n})(),P1=(()=>{class n{constructor(e,i,r,o,u,h,f){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=u,this.config=h,this.overlayService=f,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=tw()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&gt.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(xo.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(xo.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?gt.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?gt.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?gt.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?gt.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?gt.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(oe.findSingle(this.overlay,"li.p-highlight")&&oe.scrollInView(this.itemsWrapper,oe.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return oe.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=oe.findSingle(this.overlay,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.appendOverlay(),this.autoZIndex&&Sr.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=oe.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Sr.clear(e.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):oe.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=oe.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?oe.absolutePosition(this.overlay,this.containerViewChild.nativeElement):oe.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let u=this.optionsToDisplay[r.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||gt.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let u=0;u<i.length&&(r=u,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===o);u++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let u of i)if(o=this.findOption(e,this.getOptionGroupChildren(u),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?oe.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():oe.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!oe.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new s1(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Sr.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Kx),s.Y36(Mh),s.Y36(Yx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,bs,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(eB,5),s.Gf(tB,5),s.Gf(nB,5),s.Gf(iB,5),s.Gf(rB,5),s.Gf(sB,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first),s.iGM(r=s.CRH())&&(i.itemsViewChild=r.first),s.iGM(r=s.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",itemSize:"itemSize",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([KB])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","pAutoFocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,cB,3,13,"span",5),s.YNc(6,dB,2,4,"span",6),s.YNc(7,hB,2,4,"input",7),s.YNc(8,pB,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,ZB,9,17,"div",11),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(20,qB,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled)("pAutoFocus",i.autofocus),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",i.isVisibleClearIcon),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},dependencies:[Ft,Pi,en,Ii,li,bs,lw,xO,KV,YB],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[cw("overlayAnimation",[Pl(":enter",[Es({opacity:0,transform:"scaleY(0.8)"}),Mc("{{showTransitionParams}}")]),Pl(":leave",[Mc("{{hideTransitionParams}}",Es({opacity:0}))])])]},changeDetection:0}),n})(),zI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Dr,M1,Ol,HI,YV,Dr,HI]}),n})();const QB=["input"];function JB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clear())}),s.qZA()}}const RO=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},OO=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function XB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,RO))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,OO))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function eU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,RO))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function tU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,OO))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const nU=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},iU={provide:ws,useExisting:(0,s.Gpc)(()=>PO),multi:!0};let PO=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,u=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(u).length||(this.updateInput(u,null,"spin",null),this.updateModel(e,u),this.handleOnInput(e,o,u))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,u=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:u=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(u),this.input.nativeElement.setAttribute("aria-valuenow",u),this.updateModel(e,u);break;case 8:if(e.preventDefault(),i===r){const h=o.charAt(i-1),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i-1,i-1):u=o.slice(0,i-1)+o.slice(i);else if(f>0&&i>f){const D=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";u=o.slice(0,i-1)+D+o.slice(i)}else 1===y?(u=o.slice(0,i-1)+"0"+o.slice(i),u=this.parseValue(u)>0?u:""):u=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,u,null,"delete-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const h=o.charAt(i),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i+1,i+1):u=o.slice(0,i)+o.slice(i+1);else if(f>0&&i>f){const D=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";u=o.slice(0,i)+D+o.slice(i+1)}else 1===y?(u=o.slice(0,i)+"0"+o.slice(i+1),u=this.parseValue(u)>0?u:""):u=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,u,null,"delete-back-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),u=this.isMinusSign(r);13!=i&&e.preventDefault(),(48<=i&&i<=57||u||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:u})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const u=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:u}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let u=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,f=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:E,suffixCharIndex:D,currencyCharIndex:P}=this.getCharIndexes(f);let L;if(r.isMinusSign)0===u&&(L=f,(-1===E||0!==h)&&(L=this.insertText(f,i,0,h)),this.updateValue(e,L,i,"insert"));else if(r.isDecimalSign)y>0&&u===y?this.updateValue(e,f,i,"insert"):(y>u&&y<h||-1===y&&this.maxFractionDigits)&&(L=this.insertText(f,i,u,h),this.updateValue(e,L,i,"insert"));else{const B=this.numberFormat.resolvedOptions().maximumFractionDigits,te=u!==h?"range-insert":"insert";if(y>0&&u>y){if(u+i.length-(y+1)<=B){const re=P>=u?P-1:D>=u?D:f.length;L=f.slice(0,u)+i+f.slice(u+i.length,re)+f.slice(re),this.updateValue(e,L,i,te)}}else L=this.insertText(f,i,u,h),this.updateValue(e,L,i,te)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,u=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=u;let h=i.charAt(e);if(this.isNumeralChar(h))return e+u;let f=e-1;for(;f>=0;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+u;break}f--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(f=e;f<r;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+u;break}f++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let u=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,r,o,i),this.handleOnInput(e,u,h))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let u=this.input.nativeElement.value,h=this.formatValue(e),f=u.length;if(h!==o&&(h=this.concatValues(h,o)),0===f){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const E=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(E,E)}else{let y=this.input.nativeElement.selectionStart,E=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let D=h.length;if("range-insert"===r){const P=this.parseValue((u||"").slice(0,y)),B=(null!==P?P.toString():"").split("").join(`(${this.groupChar})?`),te=new RegExp(B,"g");te.test(h);const re=i.split("").join(`(${this.groupChar})?`),Pe=new RegExp(re,"g");Pe.test(h.slice(te.lastIndex)),E=te.lastIndex+Pe.lastIndex,this.input.nativeElement.setSelectionRange(E,E)}else if(D===f)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(E+1,E+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(E-1,E-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(E,E);else if("delete-back-single"===r){let P=u.charAt(E-1),L=u.charAt(E),B=f-D,te=this._group.test(L);te&&1===B?E+=1:!te&&this.isNumeralChar(P)&&(E+=-1*B+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(E,E)}else if("-"===u&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const L=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(L,L)}else E+=D-f,this.input.nativeElement.setSelectionRange(E,E)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(QB,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([iU]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,JB,1,0,"i",3),s.YNc(4,XB,3,12,"span",4),s.YNc(5,eU,1,6,"button",5),s.YNc(6,tU,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,nU,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},dependencies:[Ft,en,li,$_,Ac],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,A1,kh]}),n})();function rU(n,t){1&n&&s.GkF(0)}const N1=function(n){return{$implicit:n}};function sU(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,rU,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,N1,e.paginatorState))}}function oU(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const jI=function(n){return{"p-disabled":n}};function aU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToFirst(r))}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,jI,e.isFirstPage()||e.empty()))}}const lU=function(n){return{"p-highlight":n}};function cU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(3);return s.KtG(h.onPageLinkClick(r,u-1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,lU,e-1==i.getPage())),s.xp6(1),s.Oqu(e)}}function uU(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,cU,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function dU(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function hU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onPageDropdownChange(r))}),s.YNc(1,dU,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function pU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToLast(r))}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,jI,e.isLastPage()||e.empty()))}}function fU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePage(r-1))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function gU(n,t){1&n&&s.GkF(0)}function mU(n,t){if(1&n&&s.YNc(0,gU,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,N1,e))}}function _U(n,t){1&n&&(s.ynx(0),s.YNc(1,mU,1,4,"ng-template",30),s.BQk())}function yU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.rows=r)})("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onRppChange(r))}),s.YNc(1,_U,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function vU(n,t){1&n&&s.GkF(0)}function bU(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,vU,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,N1,e.paginatorState))}}function wU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,sU,2,4,"div",2),s.YNc(2,oU,2,1,"span",3),s.YNc(3,aU,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToPrev(r))}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,uU,2,1,"span",7),s.YNc(7,hU,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToNext(r))}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,pU,2,4,"button",11),s.YNc(11,fU,1,2,"p-inputNumber",12),s.YNc(12,yU,2,6,"p-dropdown",13),s.YNc(13,bU,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,jI,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,jI,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let FO=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,wU,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},dependencies:[Ft,Pi,en,Ii,li,P1,bs,PO,u1,aw,og],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,zI,F1,UI,Dr,Ol,zI,F1,UI,Dr]}),n})();function CU(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11),s._UZ(2,"i"),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Tol("p-dataview-loading-icon pi-spin "+e.loadingIcon)}}function EU(n,t){1&n&&s.GkF(0)}function IU(n,t){if(1&n&&(s.TgZ(0,"div",12),s.Hsn(1),s.YNc(2,EU,1,0,"ng-container",13),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function TU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",14),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function SU(n,t){1&n&&s.GkF(0)}const DU=function(n,t){return{$implicit:n,rowIndex:t}};function xU(n,t){if(1&n&&s.YNc(0,SU,1,0,"ng-container",15),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,DU,e,i))}}function AU(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function MU(n,t){1&n&&s.GkF(0,null,19)}function kU(n,t){if(1&n&&(s.TgZ(0,"div",16)(1,"div",17),s.YNc(2,AU,2,1,"ng-container",18),s.YNc(3,MU,2,0,"ng-container",13),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyMessageTemplate)}}function RU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",20),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function OU(n,t){1&n&&s.GkF(0)}function PU(n,t){if(1&n&&(s.TgZ(0,"div",21),s.Hsn(1,1),s.YNc(2,OU,1,0,"ng-container",13),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const FU=[[["p-header"]],[["p-footer"]]],NU=function(n,t){return{"p-dataview p-component":!0,"p-dataview-list":n,"p-dataview-grid":t}},LU=["p-header","p-footer"],LO=function(n){return{"p-highlight":n}};let L1=(()=>{class n{constructor(e,i,r,o){this.el=e,this.cd=i,this.filterService=r,this.config=o,this.pageLinks=5,this.paginatorPosition="bottom",this.alwaysShowPaginator=!0,this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.emptyMessage="",this.onLazyLoad=new s.vpe,this.trackBy=(u,h)=>h,this.loadingIcon="pi pi-spinner",this.first=0,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onChangeLayout=new s.vpe,this._layout="list"}get layout(){return this._layout}set layout(e){this._layout=e,this.initialized&&this.changeLayout(e)}ngOnInit(){this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(e.sortField||e.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"listItem":this.listItemTemplate=e.template;break;case"gridItem":this.gridItemTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"empty":this.emptyMessageTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}}),this.updateItemTemplate()}updateItemTemplate(){switch(this.layout){case"list":this.itemTemplate=this.listItemTemplate;break;case"grid":this.itemTemplate=this.gridItemTemplate}}changeLayout(e){this._layout=e,this.onChangeLayout.emit({layout:this.layout}),this.updateItemTemplate(),this.cd.markForCheck()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((e,i)=>{let r=gt.resolveFieldData(e,this.sortField),o=gt.resolveFieldData(i,this.sortField),u=null;return u=null==r&&null!=o?-1:null!=r&&null==o?1:null==r&&null==o?0:"string"==typeof r&&"string"==typeof o?r.localeCompare(o):r<o?-1:r>o?1:0,this.sortOrder*u}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(xo.EMPTY_MESSAGE)}filter(e,i="contains"){if(this.filterValue=e,this.value&&this.value.length){let r=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,r,e,i,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Kx),s.Y36(Mh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dataView"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,eR,5),s.Suo(r,tR,5),s.Suo(r,bs,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.header=o.first),s.iGM(o=s.CRH())&&(i.footer=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{paginator:"paginator",rows:"rows",totalRecords:"totalRecords",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",alwaysShowPaginator:"alwaysShowPaginator",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",lazy:"lazy",emptyMessage:"emptyMessage",style:"style",styleClass:"styleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:"loading",loadingIcon:"loadingIcon",first:"first",sortField:"sortField",sortOrder:"sortOrder",value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[s.TTD],ngContentSelectors:LU,decls:11,vars:19,consts:[[3,"ngClass","ngStyle"],["class","p-dataview-loading",4,"ngIf"],["class","p-dataview-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-dataview-content"],[1,"p-grid","p-nogutter","grid","grid-nogutter"],["ngFor","",3,"ngForOf","ngForTrackBy"],["class","p-col col",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-dataview-footer",4,"ngIf"],[1,"p-dataview-loading"],[1,"p-dataview-loading-overlay","p-component-overlay"],[1,"p-dataview-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-col","col"],[1,"p-dataview-emptymessage"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-dataview-footer"]],template:function(e,i){1&e&&(s.F$t(FU),s.TgZ(0,"div",0),s.YNc(1,CU,3,2,"div",1),s.YNc(2,IU,3,1,"div",2),s.YNc(3,TU,1,16,"p-paginator",3),s.TgZ(4,"div",4)(5,"div",5),s.YNc(6,xU,1,5,"ng-template",6),s.ALo(7,"slice"),s.YNc(8,kU,4,3,"div",7),s.qZA()(),s.YNc(9,RU,1,16,"p-paginator",8),s.YNc(10,PU,3,1,"div",9),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(16,NU,"list"===i.layout,"grid"===i.layout))("ngStyle",i.style),s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.header||i.headerTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(3),s.Q6J("ngForOf",i.paginator?s.Dn7(7,12,i.filteredValue||i.value,i.lazy?0:i.first,(i.lazy?0:i.first)+i.rows):i.filteredValue||i.value)("ngForTrackBy",i.trackBy),s.xp6(2),s.Q6J("ngIf",i.isEmpty()),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[Ft,Pi,en,Ii,li,FO,Vc],styles:[".p-dataview{position:relative}.p-dataview .p-dataview-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}\n"],encapsulation:2,changeDetection:0}),n})(),VU=(()=>{class n{constructor(e){this.dv=e}changeLayout(e,i){this.dv.changeLayout(i),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(L1))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dataViewLayoutOptions"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},decls:5,vars:10,consts:[[3,"ngClass","ngStyle"],["type","button",1,"p-button","p-button-icon-only",3,"ngClass","click","keydown.enter"],[1,"pi","pi-bars"],[1,"pi","pi-th-large"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(o){return i.changeLayout(o,"list")})("keydown.enter",function(o){return i.changeLayout(o,"list")}),s._UZ(2,"i",2),s.qZA(),s.TgZ(3,"button",1),s.NdJ("click",function(o){return i.changeLayout(o,"grid")})("keydown.enter",function(o){return i.changeLayout(o,"grid")}),s._UZ(4,"i",3),s.qZA()()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-dataview-layout-options p-selectbutton p-buttonset")("ngStyle",i.style),s.xp6(1),s.Q6J("ngClass",s.VKq(6,LO,"list"===i.dv.layout)),s.xp6(2),s.Q6J("ngClass",s.VKq(8,LO,"grid"===i.dv.layout)))},dependencies:[Ft,li],encapsulation:2}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Dr,NO,Dr]}),n})();function UU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"span",8),s._UZ(2,"i",9),s.TgZ(3,"input",10,11),s.NdJ("input",function(){s.CHM(e);const r=s.MAs(4);s.oxw();const o=s.MAs(6);return s.KtG(o.filter(r.value))}),s.qZA()(),s._UZ(5,"p-dataViewLayoutOptions"),s.qZA()}}function HU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"div",13),s._UZ(2,"img",14),s.TgZ(3,"div",15)(4,"div",16),s._uU(5),s.qZA(),s.TgZ(6,"div",17),s._uU(7),s.qZA(),s.TgZ(8,"span",18),s._uU(9),s.ALo(10,"currency"),s.qZA()(),s.TgZ(11,"div",19)(12,"button",20),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.addToCart(o))}),s.qZA()()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Q6J("src",e.imageUrl,s.LSH),s.xp6(3),s.Oqu(e.productName),s.xp6(2),s.Oqu(e.details),s.xp6(2),s.Oqu(s.xi3(10,4,e.price,"USD"))}}function zU(n,t){if(1&n&&(s.TgZ(0,"span",30),s._UZ(1,"i",31),s._uU(2),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij(" ",e.type," ")}}function jU(n,t){if(1&n&&(s.TgZ(0,"span",30),s._UZ(1,"i",31),s._uU(2),s.ALo(3,"titlecase"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij(" ",s.lcZ(3,1,e.type)," ")}}function $U(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",21)(1,"div",22)(2,"div",23),s._UZ(3,"img",24),s.TgZ(4,"div"),s.YNc(5,zU,3,1,"span",25),s.YNc(6,jU,4,3,"ng-template",null,26,s.W1O),s.qZA()(),s.TgZ(8,"div",27)(9,"div",16),s._uU(10),s.qZA(),s.TgZ(11,"div",17),s._uU(12),s.qZA()(),s.TgZ(13,"div",28)(14,"span",18),s._uU(15),s.ALo(16,"currency"),s.qZA(),s.TgZ(17,"button",29),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.addToCart(o))}),s.qZA()()()()}if(2&n){const e=t.$implicit,i=s.MAs(7);s.xp6(3),s.Q6J("src",e.imageUrl,s.LSH),s.xp6(2),s.Q6J("ngIf","PC"===e.type)("ngIfElse",i),s.xp6(5),s.Oqu(e.productName),s.xp6(2),s.Oqu(e.details),s.xp6(3),s.Oqu(s.xi3(16,6,e.price,"USD"))}}let GU=(()=>{class n{constructor(e,i,r,o,u){this.dataBase=e,this.authService=i,this.productService=r,this.messageService=o,this.cartService=u,this.products$=null,this.products=[],this.authService.getUserUid()}ngOnInit(){this.productService.getProducts().subscribe(e=>this.products=e)}buyProduct(e){this.cartService.buyProduct(e)}addToCart(e){this.cartService.addToCart(e).then(()=>{this.messageService.add({severity:"success",summary:"Product added!",detail:"Your desired product was added to your shopping cart.",life:4e3})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xI),s.Y36(Rl),s.Y36(hR),s.Y36(rg),s.Y36(pR))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-products"]],decls:10,vars:3,consts:[[2,"font-size","1.2rem","font-style","italic"],[1,"card-2"],["filterBy","productName","layout","grid",3,"value","paginator","rows"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"d-flex","flex-column"],[1,"p-input-icon-left","mb-2","md:mb-0"],[1,"pi","pi-search"],["type","search","pInputText","","placeholder","Search by Name",1,"full-width",3,"input"],["inputValue",""],[1,"col-12"],[1,"product-list-item"],["alt","productImage",3,"src"],[1,"product-list-detail"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"product-list-action"],["pButton","","label","Add to Cart",1,"p-button-raised","text-center","full-width",3,"click"],[1,"col-12","col-lg-4","col-md-6","col-sm-12","mt-4","d-inline-flex","flex-column"],[1,"product-grid-item","card-2","full-width","full-height"],[1,"product-grid-item-top"],["alt","product",3,"src"],["style","font-weight: bolder",4,"ngIf","ngIfElse"],["notPC",""],[1,"product-grid-item-content"],[1,"product-grid-item-bottom"],["pButton","","pTooltip","Add to Cart","tooltipPosition","top","icon","pi pi-shopping-cart",1,"p-button-raised","cart-button","products-cart",3,"click"],[2,"font-weight","bolder"],[1,"pi","pi-tag","product-category-icon"]],template:function(e,i){1&e&&(s.TgZ(0,"h1"),s._uU(1,"Products "),s.TgZ(2,"span",0),s._uU(3,"by Sky High Store"),s.qZA()(),s.TgZ(4,"div",1)(5,"p-dataView",2,3),s.YNc(7,UU,6,0,"ng-template",4),s.YNc(8,HU,13,7,"ng-template",5),s.YNc(9,$U,18,9,"ng-template",6),s.qZA()()),2&e&&(s.xp6(5),s.Q6J("value",i.products)("paginator",!0)("rows",6))},dependencies:[en,Ac,$_,lw,bs,L1,VU,Fc,Na],styles:[".card-gap[_ngcontent-%COMP%]{gap:1rem}.flex-start[_ngcontent-%COMP%]{justify-content:flex-start}.sss[_ngcontent-%COMP%]{border:1px solid black}[_nghost-%COMP%]     .p-dropdown{width:14rem;font-weight:400}[_nghost-%COMP%]     .product-name{font-size:1.5rem;font-weight:700}[_nghost-%COMP%]     .product-description{margin:0 0 1rem}[_nghost-%COMP%]     .product-category-icon{vertical-align:middle;margin-right:.5rem}[_nghost-%COMP%]     .product-category{font-weight:600;vertical-align:middle}[_nghost-%COMP%]     .product-list-item{display:flex;align-items:center;padding:1rem;width:100%}[_nghost-%COMP%]     .product-list-item img{width:150px;margin-right:2rem}[_nghost-%COMP%]     .product-list-item .product-list-detail{flex:1 1 0}[_nghost-%COMP%]     .product-list-item .p-rating{margin:0 0 .5rem}[_nghost-%COMP%]     .product-list-item .product-price{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;align-self:flex-end}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .p-button{margin-bottom:.5rem}[_nghost-%COMP%]     .product-grid-item{border:1px solid #dee2e6}[_nghost-%COMP%]     .product-grid-item .product-grid-item-top{display:flex;flex-direction:column-reverse;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .product-grid-item .product-grid-item-bottom{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .product-grid-item img{width:75%;margin:2rem 0}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content{text-align:center}[_nghost-%COMP%]     .product-grid-item .product-price{font-size:1.5rem;font-weight:600}.card-2[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;margin-bottom:1.2rem;background:white}@media screen and (max-width: 576px){[_nghost-%COMP%]     .product-list-item{flex-direction:column;align-items:center}[_nghost-%COMP%]     .product-list-item img{width:75%;margin:2rem 0}[_nghost-%COMP%]     .product-list-item .product-list-detail{text-align:center}[_nghost-%COMP%]     .product-list-item .product-price{align-self:center}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .product-list-action{margin-top:2rem;flex-direction:row;justify-content:space-between;align-items:center;width:100%}}.cart-button[_ngcontent-%COMP%]{background:white!important}.cart-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:gray!important}.pi-shopping-bag[_ngcontent-%COMP%]{color:#000!important}"]}),n})();function WU(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function ZU(n,t){if(1&n&&(s.ynx(0),s.YNc(1,WU,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(i.getOptionLabel(e))}}function qU(n,t){1&n&&s.GkF(0)}const KU=function(n,t){return{$implicit:n,index:t}};function YU(n,t){if(1&n&&s.YNc(0,qU,1,0,"ng-container",9),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",s.WLB(2,KU,i,r))}}const QU=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function JU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(e),u=o.$implicit,h=o.index,f=s.oxw();return s.KtG(f.onItemClick(r,u,h))})("keydown.enter",function(r){const o=s.CHM(e),u=o.$implicit,h=o.index,f=s.oxw();return s.KtG(f.onItemClick(r,u,h))})("blur",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onBlur())}),s.YNc(2,ZU,4,2,"ng-container",4),s.YNc(3,YU,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(4),r=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,QU,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),s.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const XU={provide:ws,useExisting:(0,s.Gpc)(()=>eH),multi:!0};let eH=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?gt.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?gt.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?gt.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let o=this.getOptionValue(i);this.value!==o&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!gt.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value&&this.value instanceof Array)for(let o of this.value)if(gt.equals(o,r,this.dataKey)){i=!0;break}}else i=gt.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([XU])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,JU,5,14,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngForOf",i.options))},dependencies:[Ft,Pi,en,Ii,li,og],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),n})(),tH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Ol]}),n})();const nH=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function iH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(),u=s.MAs(3);return s.KtG(o.onClick(r,u))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,nH,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const rH=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},sH=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},oH={provide:ws,useExisting:(0,s.Gpc)(()=>aH),multi:!0};let aH=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([oH])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(u){return i.onKeyup(u)})("keydown",function(u){return i.onKeydown(u)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(u){s.CHM(r);const h=s.MAs(3);return s.KtG(i.onClick(u,h))}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,iH,2,7,"label",6)}2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.WLB(14,rH,i.disabled,i.focused)),s.xp6(2),s.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),s.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,sH,null!=i.value,i.disabled,i.focused)),s.uIk("aria-checked",!0===i.value),s.xp6(1),s.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",i.label))},dependencies:[Ft,en,li],encapsulation:2,changeDetection:0}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})();const cH=["container"],uH=["inputfield"],dH=["contentWrapper"];function hH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.clear())}),s.qZA()}}function pH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(r){s.CHM(e),s.oxw();const o=s.MAs(1),u=s.oxw();return s.KtG(u.onButtonClick(r,o))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function fH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputFocus(r))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onInputClick())})("blur",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputBlur(r))})("input",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUserInput(r))}),s.qZA(),s.YNc(2,hH,1,0,"i",6),s.YNc(3,pH,1,3,"button",7)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function gH(n,t){1&n&&s.GkF(0)}function mH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onPrevButtonClick(r))}),s._UZ(1,"span",31),s.qZA()}}function _H(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.switchToMonthView(r))})("keydown",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function yH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.switchToYearView(r))})("keydown",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getYear(e)," ")}}function vH(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function bH(n,t){1&n&&s.GkF(0)}const VO=function(n){return{$implicit:n}};function wH(n,t){if(1&n&&(s.TgZ(0,"span",34),s.YNc(1,vH,2,2,"ng-container",13),s.YNc(2,bH,1,0,"ng-container",35),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,VO,e.yearPickerValues))}}function CH(n,t){if(1&n&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function EH(n,t){if(1&n&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function IH(n,t){if(1&n&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function TH(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function SH(n,t){1&n&&s.GkF(0)}const BO=function(n,t){return{"p-highlight":n,"p-disabled":t}};function DH(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit,u=s.oxw(6);return s.KtG(u.onDateSelect(r,o))})("keydown",function(r){s.CHM(e);const o=s.oxw().$implicit,u=s.oxw(3).index,h=s.oxw(3);return s.KtG(h.onDateCellKeydown(r,o,u))}),s.YNc(2,TH,2,1,"ng-container",13),s.YNc(3,SH,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,BO,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,VO,e))}}const xH=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function AH(n,t){if(1&n&&(s.TgZ(0,"td",47),s.YNc(1,DH,4,9,"ng-container",13),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,xH,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function MH(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,IH,3,1,"td",43),s.YNc(2,AH,2,5,"td",44),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function kH(n,t){if(1&n&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,CH,3,1,"th",38),s.YNc(5,EH,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,MH,3,2,"tr",40),s.qZA()()()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function RH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,mH,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,_H,2,2,"button",24),s.YNc(5,yH,2,2,"button",25),s.YNc(6,wH,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onNextButtonClick(r))}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,kH,8,3,"div",29),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}function OH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(r){const u=s.CHM(e).index,h=s.oxw(4);return s.KtG(h.onMonthSelect(r,u))})("keydown",function(r){const u=s.CHM(e).index,h=s.oxw(4);return s.KtG(h.onMonthCellKeydown(r,u))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.WLB(2,BO,r.isMonthSelected(i),r.isMonthDisabled(i))),s.xp6(1),s.hij(" ",e," ")}}function PH(n,t){if(1&n&&(s.TgZ(0,"div",49),s.YNc(1,OH,2,5,"span",50),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}const FH=function(n){return{"p-highlight":n}};function NH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(4);return s.KtG(h.onYearSelect(r,u))})("keydown",function(r){const u=s.CHM(e).$implicit,h=s.oxw(4);return s.KtG(h.onYearCellKeydown(r,u))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,FH,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function LH(n,t){if(1&n&&(s.TgZ(0,"div",52),s.YNc(1,NH,2,4,"span",53),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function VH(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,RH,10,7,"div",17),s.qZA(),s.YNc(3,PH,2,1,"div",18),s.YNc(4,LH,2,1,"div",19),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function BH(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function UH(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function HH(n,t){if(1&n&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function zH(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function jH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.incrementSecond(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.incrementSecond(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,zH,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.decrementSecond(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.decrementSecond(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(7,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function $H(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))}),s._UZ(6,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function GH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementHour(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementHour(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,BH,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementHour(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementHour(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementMinute(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.incrementMinute(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,UH,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementMinute(r))})("keydown.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.decrementMinute(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,HH,3,1,"div",62),s.YNc(21,jH,8,2,"div",63),s.YNc(22,$H,7,1,"div",64),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const UO=function(n){return[n]};function WH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onTodayButtonClick(r))}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onClearButtonClick(r))}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,UO,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,UO,e.clearButtonStyleClass))}}function ZH(n,t){1&n&&s.GkF(0)}const qH=function(n,t,e,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},HO=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},KH=function(n){return{value:"visibleTouchUI",params:n}},YH=function(n){return{value:"visible",params:n}};function QH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayAnimationDone(r))})("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayClick(r))}),s.Hsn(2),s.YNc(3,gH,1,0,"ng-container",12),s.YNc(4,VH,5,3,"ng-container",13),s.YNc(5,GH,23,8,"div",14),s.YNc(6,WH,3,8,"div",15),s.Hsn(7,1),s.YNc(8,ZH,1,0,"ng-container",12),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,qH,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,KH,s.WLB(18,HO,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,YH,s.WLB(23,HO,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const JH=[[["p-header"]],[["p-footer"]]],XH=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},e3=["p-header","p-footer"],t3={provide:ws,useExisting:(0,s.Gpc)(()=>n3),multi:!0};let n3=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=u,this.overlayService=h,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(f,y){return"12"==this.hourFormat?12===f?y?12:0:y?f+12:f:f}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=tw();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=oe.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(xo.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,u=i;o>11&&(o=o%11-1,u=i+1),this.months.push(this.createMonth(o,u))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],o=this.getFirstDayOfMonthIndex(e,i),u=this.getDaysCountInMonth(e,i),h=this.getDaysCountInPrevMonth(e,i),f=1,y=new Date,E=[],D=Math.ceil((u+o)/7);for(let P=0;P<D;P++){let L=[];if(0==P){for(let te=h-o+1;te<=h;te++){let re=this.getPreviousMonthAndYear(e,i);L.push({day:te,month:re.month,year:re.year,otherMonth:!0,today:this.isToday(y,te,re.month,re.year),selectable:this.isSelectable(te,re.month,re.year,!0)})}let B=7-L.length;for(let te=0;te<B;te++)L.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)}),f++}else for(let B=0;B<7;B++){if(f>u){let te=this.getNextMonthAndYear(e,i);L.push({day:f-u,month:te.month,year:te.year,otherMonth:!0,today:this.isToday(y,f-u,te.month,te.year),selectable:this.isSelectable(f-u,te.month,te.year,!0)})}else L.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)});f++}this.showWeek&&E.push(this.getWeekNumber(new Date(L[0].year,L[0].month,L[0].day))),r.push(L)}return{month:e,year:i,dates:r,weekNumbers:E}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,o;return 0===e?(r=11,o=i-1):(r=e-1,o=i),{month:r,year:o}}getNextMonthAndYear(e,i){let r,o;return 11===e?(r=0,o=i+1):(r=e+1,o=i),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){const[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],o=new Date(this.currentYear,e,1);return o>=i&&o<=(r??i)}return!1}isMonthDisabled(e){return!this.isSelectable(1,e,this.currentYear,!1)}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let u=new Date(r.year,r.month,r.day);return e.getTime()<=u.getTime()&&i.getTime()>=u.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,o){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,i,r,o){let u=!0,h=!0,f=!0,y=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(u=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(h=!1),this.disabledDates&&(f=!this.isDateDisabled(e,i,r)),this.disabledDays&&(y=!this.isDayDisabled(e,i,r)),u&&h&&f&&y)}isDateDisabled(e,i,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let u=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(u)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(oe.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const o=e.currentTarget,u=o.parentElement;switch(e.which){case 40:{o.tabIndex="-1";let h=oe.index(u),f=u.parentElement.nextElementSibling;f?oe.hasClass(f.children[h].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(f.children[h].children[0].tabIndex="0",f.children[h].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{o.tabIndex="-1";let h=oe.index(u),f=u.parentElement.previousElementSibling;if(f){let y=f.children[h].children[0];oe.hasClass(y,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(y.tabIndex="0",y.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let h=u.previousElementSibling;if(h){let f=h.children[0];oe.hasClass(f,"p-disabled")||oe.hasClass(f.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let h=u.nextElementSibling;if(h){let f=h.children[0];oe.hasClass(f,"p-disabled")?this.navigateToMonth(!1,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,u=oe.index(r);let h=o[40===e.which?u+3:u-3];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,u=oe.index(r);let h=o[40===e.which?u+2:u-2];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let o=oe.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),u=o[o.length-1];u.tabIndex="0",u.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=oe.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?oe.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():oe.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=oe.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=oe.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=oe.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=oe.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&oe.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if("year"===this.currentView){let i=oe.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=oe.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&oe.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if(e=oe.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=oe.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||oe.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=oe.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,o){let u=this.value;const h=this.convertTo24Hour(e,o);this.isRangeSelection()&&(u=this.value[1]||this.value[0]),this.isMultipleSelection()&&(u=this.value[this.value.length-1]);const f=u?u.toDateString():null;return!(this.minDate&&f&&this.minDate.toDateString()===f&&(this.minDate.getHours()>h||this.minDate.getHours()===h&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&f&&this.maxDate.toDateString()===f&&(this.maxDate.getHours()<h||this.maxDate.getHours()===h&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,o){let u=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},u),r){case 0:1===o?this.incrementHour(e):this.decrementHour(e);break;case 1:1===o?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===o?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch{this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let u="12"==this.hourFormat?r.pop():null,h=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,h,u)}else i=this.parseDate(e,o)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(i);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}isValidDate(e){return e instanceof Date&&gt.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Sr.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Sr.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Sr.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):oe.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=oe.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=oe.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=oe.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",oe.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):oe.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),oe.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),oe.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(oe.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(oe.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||oe.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(xo.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const o=E=>{const D=r+1<i.length&&i.charAt(r+1)===E;return D&&r++,D},u=(E,D,P)=>{let L=""+D;if(o(E))for(;L.length<P;)L="0"+L;return L},h=(E,D,P,L)=>o(E)?L[D]:P[D];let f="",y=!1;if(e)for(r=0;r<i.length;r++)if(y)"'"!==i.charAt(r)||o("'")?f+=i.charAt(r):y=!1;else switch(i.charAt(r)){case"d":f+=u("d",e.getDate(),2);break;case"D":f+=h("D",e.getDay(),this.getTranslation(xo.DAY_NAMES_SHORT),this.getTranslation(xo.DAY_NAMES));break;case"o":f+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=u("m",e.getMonth()+1,2);break;case"M":f+=h("M",e.getMonth(),this.getTranslation(xo.MONTH_NAMES_SHORT),this.getTranslation(xo.MONTH_NAMES));break;case"y":f+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this.ticksTo1970;break;case"'":o("'")?f+="'":y=!0;break;default:f+=i.charAt(r)}return f}formatTime(e){if(!e)return"";let i="",r=e.getHours(),o=e.getMinutes(),u=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=u<10?"0"+u:u),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(i[0]),u=parseInt(i[1]),h=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(u)||o>23||u>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(h)||h>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:u,second:h}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,o,u,B,h=0,f="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),y=-1,E=-1,D=-1,P=-1,L=!1,te=et=>{let Xe=r+1<i.length&&i.charAt(r+1)===et;return Xe&&r++,Xe},re=et=>{let Xe=te(et),_t="@"===et?14:"!"===et?20:"y"===et&&Xe?4:"o"===et?3:2,cn=new RegExp("^\\d{"+("y"===et?_t:1)+","+_t+"}"),mi=e.substring(h).match(cn);if(!mi)throw"Missing number at position "+h;return h+=mi[0].length,parseInt(mi[0],10)},Pe=(et,Xe,_t)=>{let Dt=-1,cn=te(et)?_t:Xe,mi=[];for(let qi=0;qi<cn.length;qi++)mi.push([qi,cn[qi]]);mi.sort((qi,Is)=>-(qi[1].length-Is[1].length));for(let qi=0;qi<mi.length;qi++){let Is=mi[qi][1];if(e.substr(h,Is.length).toLowerCase()===Is.toLowerCase()){Dt=mi[qi][0],h+=Is.length;break}}if(-1!==Dt)return Dt+1;throw"Unknown name at position "+h},Ze=()=>{if(e.charAt(h)!==i.charAt(r))throw"Unexpected literal at position "+h;h++};for("month"===this.view&&(D=1),r=0;r<i.length;r++)if(L)"'"!==i.charAt(r)||te("'")?Ze():L=!1;else switch(i.charAt(r)){case"d":D=re("d");break;case"D":Pe("D",this.getTranslation(xo.DAY_NAMES_SHORT),this.getTranslation(xo.DAY_NAMES));break;case"o":P=re("o");break;case"m":E=re("m");break;case"M":E=Pe("M",this.getTranslation(xo.MONTH_NAMES_SHORT),this.getTranslation(xo.MONTH_NAMES));break;case"y":y=re("y");break;case"@":B=new Date(re("@")),y=B.getFullYear(),E=B.getMonth()+1,D=B.getDate();break;case"!":B=new Date((re("!")-this.ticksTo1970)/1e4),y=B.getFullYear(),E=B.getMonth()+1,D=B.getDate();break;case"'":te("'")?Ze():L=!0;break;default:Ze()}if(h<e.length&&(u=e.substr(h),!/^\s+/.test(u)))throw"Extra/unparsed characters found in date: "+u;if(-1===y?y=(new Date).getFullYear():y<100&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=f?0:-100)),P>-1)for(E=1,D=P;o=this.getDaysCountInMonth(y,E-1),!(D<=o);)E++,D-=o;if("year"===this.view&&(E=-1===E?1:E,D=-1===D?1:D),B=this.daylightSavingAdjust(new Date(y,E-1,D)),B.getFullYear()!==y||B.getMonth()+1!==E||B.getDate()!==D)throw"Invalid date";return B}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:u}=i[r],h=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${u}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let f=u;f<this.numberOfMonths;f++)h+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${f+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${o}) {\n                            ${h}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new s1(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return oe.hasClass(e.target,"p-datepicker-prev")||oe.hasClass(e.target,"p-datepicker-prev-icon")||oe.hasClass(e.target,"p-datepicker-next")||oe.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!oe.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Sr.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Mh),s.Y36(Yx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,bs,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(cH,5),s.Gf(uH,5),s.Gf(dH,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([t3])],ngContentSelectors:e3,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(JH),s.TgZ(0,"span",0,1),s.YNc(2,fH,4,17,"ng-template",2),s.YNc(3,QH,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,XH,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},dependencies:[Ft,Pi,en,Ii,li,Ac,og],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[cw("overlayAnimation",[CO("visibleTouchUI",Es({transform:"translate(-50%,-50%)",opacity:1})),Pl("void => visible",[Es({opacity:0,transform:"scaleY(0.8)"}),Mc("{{showTransitionParams}}",Es({opacity:1,transform:"*"}))]),Pl("visible => void",[Mc("{{hideTransitionParams}}",Es({opacity:0}))]),Pl("void => visibleTouchUI",[Es({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Mc("{{showTransitionParams}}")]),Pl("visibleTouchUI => void",[Mc("{{hideTransitionParams}}",Es({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),r3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,kh,Dr,Ol,kh,Dr]}),n})();const s3=["container"],o3=["resizeHelper"],a3=["reorderIndicatorUp"],l3=["reorderIndicatorDown"],c3=["wrapper"],u3=["table"],d3=["thead"],h3=["tfoot"],p3=["scroller"];function f3(n,t){if(1&n&&(s.TgZ(0,"div",15),s._UZ(1,"i"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function g3(n,t){1&n&&s.GkF(0)}function m3(n,t){if(1&n&&(s.TgZ(0,"div",16),s.YNc(1,g3,1,0,"ng-container",17),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function _3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",18),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onPageChange(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function y3(n,t){1&n&&s.GkF(0)}const zO=function(n,t){return{$implicit:n,options:t}};function v3(n,t){if(1&n&&s.YNc(0,y3,1,0,"ng-container",22),2&n){const e=t.$implicit,i=t.options;s.oxw(2);const r=s.MAs(10);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,zO,e,i))}}const b3=function(n){return{height:n}};function w3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-scroller",19,20),s.NdJ("onLazyLoad",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onLazyItemLoad(r))}),s.YNc(2,v3,1,5,"ng-template",21),s.qZA()}if(2&n){const e=s.oxw();s.Akn(s.VKq(12,b3,"flex"!==e.scrollHeight?e.scrollHeight:void 0)),s.Q6J("items",e.processedData)("columns",e.columns)("scrollHeight","flex"!==e.scrollHeight?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualRowHeight)("delay",e.lazy?e.virtualScrollDelay:0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate)("options",e.virtualScrollOptions)}}function C3(n,t){1&n&&s.GkF(0)}const E3=function(n){return{columns:n}};function I3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,C3,1,0,"ng-container",22),s.BQk()),2&n){const e=s.oxw(),i=s.MAs(10);s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(4,zO,e.processedData,s.VKq(2,E3,e.columns)))}}function T3(n,t){1&n&&s.GkF(0)}function S3(n,t){1&n&&s.GkF(0)}function D3(n,t){if(1&n&&s._UZ(0,"tbody",30),2&n){const e=s.oxw().options,i=s.oxw();s.Q6J("value",i.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function x3(n,t){1&n&&s.GkF(0)}const hw=function(n){return{$implicit:n}};function A3(n,t){if(1&n&&(s.TgZ(0,"tfoot",31,32),s.YNc(2,x3,1,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",s.VKq(2,hw,e.columns))}}function M3(n,t){if(1&n&&(s.TgZ(0,"table",23,24),s.YNc(2,T3,1,0,"ng-container",22),s.TgZ(3,"thead",25,26),s.YNc(5,S3,1,0,"ng-container",22),s.qZA(),s.YNc(6,D3,1,5,"tbody",27),s._UZ(7,"tbody",28),s.YNc(8,A3,3,4,"tfoot",29),s.qZA()),2&n){const e=t.options,i=s.oxw();s.Akn(e.spacerStyle),s.Q6J("ngClass",i.tableStyleClass)("ngStyle",i.tableStyle),s.uIk("id",i.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",s.VKq(18,hw,e.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",s.VKq(20,hw,e.columns)),s.xp6(1),s.Q6J("ngIf",i.frozenValue||i.frozenBodyTemplate),s.xp6(1),s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass)("value",i.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",e),s.xp6(1),s.Q6J("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function k3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",33),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onPageChange(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function R3(n,t){1&n&&s.GkF(0)}function O3(n,t){if(1&n&&(s.TgZ(0,"div",34),s.YNc(1,R3,1,0,"ng-container",17),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function P3(n,t){1&n&&s._UZ(0,"div",35,36)}function F3(n,t){1&n&&s._UZ(0,"span",37,38)}function N3(n,t){1&n&&s._UZ(0,"span",39,40)}const L3=function(n,t,e,i,r,o,u,h,f,y,E,D,P,L){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":o,"p-datatable-scrollable-horizontal":u,"p-datatable-scrollable-both":h,"p-datatable-flex-scrollable":f,"p-datatable-responsive-stack":y,"p-datatable-responsive-scroll":E,"p-datatable-responsive":D,"p-datatable-grouped-header":P,"p-datatable-grouped-footer":L}},V3=function(n){return{maxHeight:n}},B3=["pTableBody",""];function U3(n,t){1&n&&s.GkF(0)}const $I=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function H3(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,U3,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,$I,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function z3(n,t){1&n&&s.GkF(0)}function j3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,z3,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.qbA(2,$I,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function $3(n,t){1&n&&s.GkF(0)}const G3=function(n,t,e,i,r,o,u){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:o,rowspan:u}};function W3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,$3,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.Hh0(2,G3,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,o.getRowIndex(r)),o.calculateRowGroupSize(o.value,i,o.getRowIndex(r))))}}function Z3(n,t){1&n&&s.GkF(0)}function q3(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,Z3,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,$I,i,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function K3(n,t){if(1&n&&(s.YNc(0,H3,2,8,"ng-container",2),s.YNc(1,j3,2,8,"ng-container",0),s.YNc(2,W3,2,10,"ng-container",0),s.YNc(3,q3,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,r.getRowIndex(i))),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,r.getRowIndex(i)))}}function Y3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,K3,4,4,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Q3(n,t){1&n&&s.GkF(0)}function J3(n,t){if(1&n&&s.YNc(0,Q3,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,$I,e,r.getRowIndex(i),r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function X3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,J3,1,8,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function ez(n,t){1&n&&s.GkF(0)}const GI=function(n,t,e,i,r,o){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:o}};function tz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,ez,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,GI,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function nz(n,t){1&n&&s.GkF(0)}function iz(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,nz,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,GI,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function rz(n,t){1&n&&s.GkF(0)}function sz(n,t){1&n&&s.GkF(0)}function oz(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,sz,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(2),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,GI,i,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}const jO=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function az(n,t){if(1&n&&(s.ynx(0),s.YNc(1,rz,1,0,"ng-container",4),s.YNc(2,oz,2,9,"ng-container",2),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,jO,i,o.getRowIndex(r),o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,i,o.getRowIndex(r)))}}function lz(n,t){if(1&n&&(s.YNc(0,tz,2,9,"ng-container",0),s.YNc(1,iz,2,9,"ng-container",2),s.YNc(2,az,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,r.getRowIndex(i))),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function cz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,lz,3,3,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function uz(n,t){1&n&&s.GkF(0)}function dz(n,t){1&n&&s.GkF(0)}function hz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,dz,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,jO,i,o.getRowIndex(r),o.columns,o.frozen))}}function pz(n,t){if(1&n&&(s.YNc(0,uz,1,0,"ng-container",4),s.YNc(1,hz,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,GI,e,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function fz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,pz,2,10,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function gz(n,t){1&n&&s.GkF(0)}const $O=function(n,t){return{$implicit:n,frozen:t}};function mz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,gz,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,$O,e.columns,e.frozen))}}function _z(n,t){1&n&&s.GkF(0)}function yz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,_z,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,$O,e.columns,e.frozen))}}let V1=(()=>{class n{constructor(){this.sortSource=new Qt.x,this.selectionSource=new Qt.x,this.contextMenuSource=new Qt.x,this.valueSource=new Qt.x,this.totalRecordsSource=new Qt.x,this.columnsSource=new Qt.x,this.resetSource=new Qt.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),B1=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.zone=i,this.tableService=r,this.cd=o,this.filterService=u,this.overlayService=h,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(f,y)=>y,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=tw()}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.virtualScroll&&this.scroller?.vertical&&this.updateScrollerPosition()}ngOnChanges(e){if(e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1),e.virtualScrollOptions){const{previousValue:i,currentValue:r}=e.virtualScrollOptions;this.virtualScroll&&this.scroller?.vertical&&i.itemSize!==r.itemSize&&this.updateScrollerPosition()}}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get processedData(){return this.filteredValue||this.value||[]}dataToRender(e){const i=e||this.processedData;if(i&&this.paginator){const r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(gt.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(gt.resolveFieldData(this._selection,this.dataKey))]=1}updateScrollerPosition(){if(this.tableFooterViewChild){const e=o=>o?parseFloat(getComputedStyle(o).height)||oe.getOuterHeight(o):0,i=e(this.tableViewChild.nativeElement),r=e(this.tableFooterViewChild.nativeElement);this.tableViewChild.nativeElement.style.height=i+r+"px",this.tableFooterViewChild.nativeElement.style.top=`calc(100% - ${r}px)`}}onPageChange(e){this.first=e.first,this.rows=e.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((o,u)=>{let h=gt.resolveFieldData(o,e),f=gt.resolveFieldData(u,e),y=null;return y=null==h&&null!=f?-1:null!=h&&null==f?1:null==h&&null==f?0:"string"==typeof h&&"string"==typeof f?h.localeCompare(f):h<f?-1:h>f?1:0,i*y}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,o){if(gt.isEmpty(this.multiSortMeta)||gt.isEmpty(r[o]))return 0;let u=gt.resolveFieldData(e,r[o].field),h=gt.resolveFieldData(i,r[o].field),f=null;if(null==u&&null!=h)f=-1;else if(null!=u&&null==h)f=1;else if(null==u&&null==h)f=0;else if("string"==typeof u||u instanceof String){if(u.localeCompare&&u!=h)return r[o].order*u.localeCompare(h)}else f=u<h?-1:1;return u==h?r.length-1>o?this.multisortField(e,i,r,o+1):0:r[o].order*f}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!oe.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let u=e.rowData,h=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)oe.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=h,this.selectRange(e.originalEvent,h);else{let f=this.isSelected(u);if(!f&&!this.isRowSelectable(u,h))return;let y=!this.rowTouched&&this.metaKeySelection,E=this.dataKey?String(gt.resolveFieldData(u,this.dataKey)):null;if(this.anchorRowIndex=h,this.rangeRowIndex=h,y){let D=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(f&&D){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let P=this.findIndexInSelection(u);this._selection=this.selection.filter((L,B)=>B!=P),this.selectionChange.emit(this.selection),E&&delete this.selectionKeys[E]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row"})}else this.isSingleSelectionMode()?(this._selection=u,this.selectionChange.emit(u),E&&(this.selectionKeys={},this.selectionKeys[E]=1)):this.isMultipleSelectionMode()&&(D?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,u],this.selectionChange.emit(this.selection),E&&(this.selectionKeys[E]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h})}else if("single"===this.selectionMode)f?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h})):(this._selection=u,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h}),E&&(this.selectionKeys={},this.selectionKeys[E]=1));else if("multiple"===this.selectionMode)if(f){let D=this.findIndexInSelection(u);this._selection=this.selection.filter((P,L)=>L!=D),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h}),E&&delete this.selectionKeys[E]}else this._selection=this.selection?[...this.selection,u]:[u],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h}),E&&(this.selectionKeys[E]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),u=this.dataKey?String(gt.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,o;this.anchorRowIndex>i?(r=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,o=i):(r=i,o=i),this.lazy&&this.paginator&&(r-=this.first,o-=this.first);let u=[];for(let h=r;h<=o;h++){let f=this.filteredValue?this.filteredValue[h]:this.value[h];if(!this.isSelected(f)){if(!this.isRowSelectable(f,i))continue;u.push(f),this._selection=[...this.selection,f];let y=this.dataKey?String(gt.resolveFieldData(f,this.dataKey)):null;y&&(this.selectionKeys[y]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:u,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let o=i;o<=r;o++){let u=this.value[o],h=this.findIndexInSelection(u);this._selection=this.selection.filter((y,E)=>E!=h);let f=this.dataKey?String(gt.resolveFieldData(u,this.dataKey)):null;f&&delete this.selectionKeys[f],this.onRowUnselect.emit({originalEvent:e,data:u,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[gt.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(gt.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(gt.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let u=this.findIndexInSelection(i);this._selection=this.selection.filter((h,f)=>f!=u),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let o=this.selectionPageOnly&&this._selection?this._selection.filter(u=>!r.some(h=>this.equals(u,h))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((u,h)=>this.rowSelectable({data:u,index:h})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:gt.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let h,r=!0,o=!1,u=!1;for(let f in this.filters)if(this.filters.hasOwnProperty(f)&&"global"!==f){u=!0;let y=f,E=this.filters[y];if(Array.isArray(E)){for(let D of E)if(r=this.executeLocalFilter(y,this.value[i],D),D.operator===Xk.OR&&r||D.operator===Xk.AND&&!r)break}else r=this.executeLocalFilter(y,this.value[i],E);if(!r)break}if(this.filters.global&&!o&&e)for(let f=0;f<e.length&&(o=this.filterService.filters[this.filters.global.matchMode](gt.resolveFieldData(this.value[i],e[f].field||e[f]),this.filters.global.value,this.filterLocale),!o);f++);h=this.filters.global?u?u&&r&&o:o:u&&r,h&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let o=r.value,u=r.matchMode||Pr.STARTS_WITH,h=gt.resolveFieldData(i,e);return(0,this.filterService.filters[u])(h,o,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",o=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let f=0;f<o.length;f++){let y=o[f];!1!==y.exportable&&y.field&&(r+='"'+this.getExportHeader(y)+'"',f<o.length-1&&(r+=this.csvSeparator))}i.forEach((f,y)=>{r+="\n";for(let E=0;E<o.length;E++){let D=o[E];if(!1!==D.exportable&&D.field){let P=gt.resolveFieldData(f,D.field);P=null!=P?this.exportFunction?this.exportFunction({data:P,field:D.field}):String(P).replace(/"/g,'""'):"",r+='"'+P+'"',E<o.length-1&&(r+=this.csvSeparator)}}});let u=new Blob([r],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.style.display="none",document.body.appendChild(h),void 0!==h.download?(h.setAttribute("href",URL.createObjectURL(u)),h.setAttribute("download",this.exportFilename+".csv"),h.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(h)}onLazyItemLoad(e){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...e,rows:e.last-e.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===oe.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(oe.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(gt.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===oe.find(i,".ng-invalid.ng-dirty").length){let r=String(gt.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(gt.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(gt.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(gt.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(gt.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=oe.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=oe.getOffset(this.containerViewChild.nativeElement).left;oe.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let h=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&h>15&&this.resizeTableCells(r,h)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+e+"px"),this.resizeTableCells(r,null));this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",oe.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=oe.index(this.resizeColumnElement),o=[];const u=oe.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");oe.find(u,"tr > th").forEach(y=>o.push(oe.getOuterWidth(y))),this.destroyStyleElement(),this.createStyleElement();let f="";o.forEach((y,E)=>{let D=E===r?e:i&&E===r+1?i:y;f+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${E+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${E+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${E+1}) {\n                    ${this.scrollable?`flex: 1 1 ${D}px !important`:`width: ${D}px !important`}\n                }\n            `}),this.styleElement.innerHTML=f}onColumnDragStart(e,i){this.reorderIconWidth=oe.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=oe.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=oe.getOffset(this.containerViewChild.nativeElement),o=oe.getOffset(i);if(this.draggedColumn!=i){let u=oe.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),h=oe.indexWithinGroup(i,"preorderablecolumn"),f=o.left-r.left,E=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",e.pageX>E?(this.reorderIndicatorUpViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),h-u==1&&-1===this.dropPosition||h-u==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=oe.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=oe.indexWithinGroup(i,"preorderablecolumn"),u=r!=o;u&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(u=!1),u&&o<r&&1===this.dropPosition&&(o+=1),u&&o>r&&-1===this.dropPosition&&(o-=1),u&&(gt.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=oe.getOffset(r).top+oe.getWindowScrollTop(),u=e.pageY,h=o+oe.getOuterHeight(r)/2,f=r.previousElementSibling;u<h?(oe.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,f?oe.addClass(f,"p-datatable-dragpoint-bottom"):oe.addClass(r,"p-datatable-dragpoint-top")):(f?oe.removeClass(f,"p-datatable-dragpoint-bottom"):oe.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,oe.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&oe.removeClass(r,"p-datatable-dragpoint-bottom"),oe.removeClass(i,"p-datatable-dragpoint-bottom"),oe.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;gt.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let u=JSON.parse(i,function(u,h){return"string"==typeof h&&r.test(h)?new Date(h):h});this.paginator&&(void 0!==this.first&&(this.first=u.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=u.rows,this.rowsChange.emit(this.rows))),u.sortField&&(this.restoringSort=!0,this._sortField=u.sortField,this._sortOrder=u.sortOrder),u.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=u.multiSortMeta),u.filters&&(this.restoringFilter=!0,this.filters=u.filters),this.resizableColumns&&(this.columnWidthsState=u.columnWidths,this.tableWidthState=u.tableWidth),u.expandedRowKeys&&(this.expandedRowKeys=u.expandedRowKeys),u.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(u.selection)),this.stateRestored=!0,this.onStateRestore.emit(u)}}saveColumnWidths(e){let i=[];oe.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(oe.getOuterWidth(o))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=oe.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(e){if(this.virtualScroll){const i=oe.findSingle(this.containerViewChild.nativeElement,".p-scroller > table > tbody");i.style.width=e,i.style.minWidth=e}this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),gt.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,o)=>{i+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${o+1}) {\n                            ${this.scrollable?`flex: 1 1 ${r}px !important`:`width: ${r}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let u=[];o.map(h=>{let f=this.findColumnByKey(h);f&&u.push(f)}),this.columnOrderStateRestored=!0,this.columns=u}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(V1),s.Y36(s.sBO),s.Y36(Kx),s.Y36(Yx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,bs,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(s3,5),s.Gf(o3,5),s.Gf(a3,5),s.Gf(l3,5),s.Gf(c3,5),s.Gf(u3,5),s.Gf(d3,5),s.Gf(h3,5),s.Gf(p3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.resizeHelperViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorUpViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorDownViewChild=r.first),s.iGM(r=s.CRH())&&(i.wrapperViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableHeaderViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableFooterViewChild=r.first),s.iGM(r=s.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([V1]),s.TTD],decls:16,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","delay","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","delay","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,f3,2,2,"div",2),s.YNc(3,m3,2,1,"div",3),s.YNc(4,_3,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,w3,3,14,"p-scroller",7),s.YNc(8,I3,2,7,"ng-container",8),s.YNc(9,M3,9,22,"ng-template",null,9,s.W1O),s.qZA(),s.YNc(11,k3,1,17,"p-paginator",10),s.YNc(12,O3,2,1,"div",11),s.YNc(13,P3,2,0,"div",12),s.YNc(14,F3,2,0,"span",13),s.YNc(15,N3,2,0,"span",14),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.rFY(16,L3,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.loading&&i.showLoader),s.xp6(1),s.Q6J("ngIf",i.captionTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(31,V3,i.virtualScroll?"":i.scrollHeight)),s.xp6(2),s.Q6J("ngIf",i.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.virtualScroll),s.xp6(3),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.summaryTemplate),s.xp6(1),s.Q6J("ngIf",i.resizableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns))},dependencies:function(){return[Ft,en,Ii,li,FO,bs,xO,jz]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-scroller-viewport>.p-scroller>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot,.p-datatable-scrollable>.p-datatable-wrapper>.p-scroller-viewport>.p-scroller>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-scrollable .p-scroller>.p-datatable-table{display:inline-block}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),n})(),jz=(()=>{class n{constructor(e,i,r,o){this.dt=e,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition(),this.dt.virtualScroll&&this.getScrollerOption("vertical")&&this.updateScrollerPosition()}ngOnChanges(e){if(e.scrollerOptions){const{previousValue:i,currentValue:r}=e.scrollerOptions;this.dt.virtualScroll&&this.getScrollerOption("vertical")&&this.getScrollerOption("itemSize",i)!==this.getScrollerOption("itemSize",r)&&this.updateScrollerPosition()}}shouldRenderRowGroupHeader(e,i,r){let o=gt.resolveFieldData(i,this.dt.groupRowsBy),u=e[r-1];return!u||o!==gt.resolveFieldData(u,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let o=gt.resolveFieldData(i,this.dt.groupRowsBy),u=e[r+1];return!u||o!==gt.resolveFieldData(u,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let o=gt.resolveFieldData(i,this.dt.groupRowsBy),u=e[r-1];return!u||o!==gt.resolveFieldData(u,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let o=gt.resolveFieldData(i,this.dt.groupRowsBy),u=o,h=0;for(;o===u;){h++;let f=e[++r];if(!f)break;u=gt.resolveFieldData(f,this.dt.groupRowsBy)}return 1===h?null:h}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=oe.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=oe.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}updateScrollerPosition(){const e=oe.getOuterHeight(this.el.nativeElement.previousElementSibling);this.el.nativeElement.style.top=(this.el.nativeElement.style.top||0)+e+"px"}getScrollerOption(e,i){return this.dt.virtualScroll&&(i=i||this.scrollerOptions)?i[e]:null}getRowIndex(e){const i=this.dt.paginator?this.dt.first+e:e,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(B1),s.Y36(V1),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},features:[s.TTD],attrs:B3,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.YNc(0,Y3,2,2,"ng-container",0),s.YNc(1,X3,2,2,"ng-container",0),s.YNc(2,cz,2,2,"ng-container",0),s.YNc(3,fz,2,2,"ng-container",0),s.YNc(4,mz,2,5,"ng-container",0),s.YNc(5,yz,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),s.xp6(1),s.Q6J("ngIf",i.dt.loading),s.xp6(1),s.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},dependencies:[Pi,en,Ii],encapsulation:2}),n})(),$z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,NO,A1,zI,UI,kh,tH,r3,F1,lH,HI,Dr,HI]}),n})(),Gz=(()=>{class n{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let i=oe.getFocusableElements(this.el.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&s.NdJ("keydown.tab",function(o){return i.onkeydown(o)})("keydown.shift.tab",function(o){return i.onkeydown(o)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})();const Zz=["titlebar"],qz=["content"],Kz=["footer"];function Yz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.initResize(r))}),s.qZA()}}function Qz(n,t){if(1&n&&(s.TgZ(0,"span",18),s._uU(1),s.qZA()),2&n){const e=s.oxw(4);s.uIk("id",e.id+"-label"),s.xp6(1),s.Oqu(e.header)}}function Jz(n,t){if(1&n&&(s.TgZ(0,"span",18),s.Hsn(1,1),s.qZA()),2&n){const e=s.oxw(4);s.uIk("id",e.id+"-label")}}function Xz(n,t){1&n&&s.GkF(0)}const e6=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function t6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.maximize())})("keydown.enter",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.maximize())}),s._UZ(1,"span",20),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(2,e6)),s.xp6(1),s.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const n6=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function r6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.close(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.close(r))}),s._UZ(1,"span",22),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(4,n6)),s.uIk("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),s.xp6(1),s.Q6J("ngClass",e.closeIcon)}}function s6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12,13),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.initDrag(r))}),s.YNc(2,Qz,2,2,"span",14),s.YNc(3,Jz,2,1,"span",14),s.YNc(4,Xz,1,0,"ng-container",9),s.TgZ(5,"div",15),s.YNc(6,t6,2,3,"button",16),s.YNc(7,r6,2,5,"button",17),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.headerFacet),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(2),s.Q6J("ngIf",e.maximizable),s.xp6(1),s.Q6J("ngIf",e.closable)}}function o6(n,t){1&n&&s.GkF(0)}function a6(n,t){1&n&&s.GkF(0)}function l6(n,t){if(1&n&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.YNc(3,a6,1,0,"ng-container",9),s.qZA()),2&n){const e=s.oxw(3);s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const c6=function(n,t,e,i){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":t,"p-dialog-resizable":e,"p-dialog-maximized":i}},u6=function(n,t){return{transform:n,transition:t}},d6=function(n){return{value:"visible",params:n}};function h6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3,4),s.NdJ("@animation.start",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAnimationStart(r))})("@animation.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAnimationEnd(r))}),s.YNc(2,Yz,1,0,"div",5),s.YNc(3,s6,8,5,"div",6),s.TgZ(4,"div",7,8),s.Hsn(6),s.YNc(7,o6,1,0,"ng-container",9),s.qZA(),s.YNc(8,l6,4,1,"div",10),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.l5B(15,c6,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",s.VKq(23,d6,s.WLB(20,u6,e.transformOptions,e.transitionOptions))),s.uIk("aria-labelledby",e.id+"-label"),s.xp6(2),s.Q6J("ngIf",e.resizable),s.xp6(1),s.Q6J("ngIf",e.showHeader),s.xp6(1),s.Tol(e.contentStyleClass),s.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate),s.xp6(1),s.Q6J("ngIf",e.footerFacet||e.footerTemplate)}}const p6=function(n,t,e,i,r,o,u,h,f,y){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":t,"p-dialog-left":e,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":o,"p-dialog-top-right":u,"p-dialog-bottom":h,"p-dialog-bottom-left":f,"p-dialog-bottom-right":y}};function f6(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,h6,9,25,"div",2),s.qZA()),2&n){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",s.rFY(4,p6,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),s.xp6(1),s.Q6J("ngIf",e.visible)}}const g6=["*",[["p-header"]],[["p-footer"]]],m6=["*","p-header","p-footer"],_6=EO([Es({transform:"{{transform}}",opacity:0}),Mc("{{transition}}")]),y6=EO([Mc("{{transition}}",Es({transform:"{{transform}}",opacity:0}))]);let U1=(()=>{class n{constructor(e,i,r,o,u){this.el=e,this.renderer=i,this.zone=r,this.cd=o,this.config=u,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new s.vpe,this.onHide=new s.vpe,this.visibleChange=new s.vpe,this.onResizeInit=new s.vpe,this.onResizeEnd=new s.vpe,this.onDragEnd=new s.vpe,this.onMaximize=new s.vpe,this.id=tw(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style={...e},this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=oe.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&oe.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&oe.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?oe.addClass(document.body,"p-overflow-hidden"):oe.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Sr.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){oe.hasClass(e.target,"p-dialog-header-icon")||oe.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",oe.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let i=oe.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}onDrag(e){if(this.dragging){let i=oe.getOuterWidth(this.container),r=oe.getOuterHeight(this.container),o=e.pageX-this.lastPageX,u=e.pageY-this.lastPageY,h=this.container.getBoundingClientRect(),f=h.left+o,y=h.top+u,E=oe.getViewport();this.container.style.position="fixed",this.keepInViewport?(f>=this.minX&&f+i<E.width&&(this._style.left=f+"px",this.lastPageX=e.pageX,this.container.style.left=f+"px"),y>=this.minY&&y+r<E.height&&(this._style.top=y+"px",this.lastPageY=e.pageY,this.container.style.top=y+"px")):(this.lastPageX=e.pageX,this.container.style.left=f+"px",this.lastPageY=e.pageY,this.container.style.top=y+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,oe.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,oe.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let i=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,o=oe.getOuterWidth(this.container),u=oe.getOuterHeight(this.container),h=oe.getOuterHeight(this.contentViewChild.nativeElement),f=o+i,y=u+r,E=this.container.style.minWidth,D=this.container.style.minHeight,P=this.container.getBoundingClientRect(),L=oe.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(f+=i,y+=r),(!E||f>parseInt(E))&&P.left+f<L.width&&(this._style.width=f+"px",this.container.style.width=this._style.width),(!D||y>parseInt(D))&&P.top+y<L.height&&(this.contentViewChild.nativeElement.style.height=h+y-u+"px",this._style.height&&(this._style.height=y+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,oe.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):oe.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&oe.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&oe.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(oe.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&oe.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Sr.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Mh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dialog"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,eR,5),s.Suo(r,tR,5),s.Suo(r,bs,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.headerFacet=o.first),s.iGM(o=s.CRH())&&(i.footerFacet=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Zz,5),s.Gf(qz,5),s.Gf(Kz,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.headerViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first),s.iGM(r=s.CRH())&&(i.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:m6,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(e,i){1&e&&(s.F$t(g6),s.YNc(0,f6,2,15,"div",0)),2&e&&s.Q6J("ngIf",i.maskVisible)},dependencies:[Ft,en,Ii,li,Gz,og],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[cw("animation",[Pl("void => visible",[IO(_6)]),Pl("visible => void",[IO(y6)])])]},changeDetection:0}),n})(),v6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Wz,Ol,Dr]}),n})();function b6(n,t){1&n&&(s.TgZ(0,"tr")(1,"th"),s._uU(2,"ID"),s.qZA(),s.TgZ(3,"th"),s._uU(4,"Name"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Details"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Price"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Actions"),s.qZA()())}function w6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"span",41),s._uU(3,"ID"),s.qZA(),s._uU(4),s.qZA(),s.TgZ(5,"td")(6,"span",41),s._uU(7,"Name"),s.qZA(),s._uU(8),s.qZA(),s.TgZ(9,"td")(10,"span",41),s._uU(11,"Details"),s.qZA(),s._uU(12),s.qZA(),s.TgZ(13,"td")(14,"span",41),s._uU(15,"Price"),s.qZA(),s._uU(16),s.ALo(17,"currency"),s.qZA(),s.TgZ(18,"td")(19,"button",42),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.openEditProductDialog(o.id,o.productName,o.details,o.price))}),s.qZA(),s.TgZ(20,"button",43),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.deleteProduct(o))}),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(4),s.Oqu(e.id),s.xp6(4),s.Oqu(e.productName),s.xp6(4),s.Oqu(e.details),s.xp6(4),s.Oqu(s.xi3(17,4,e.price,"USD"))}}const C6=function(){return["productName"]};function E6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",29)(2,"button",30),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAddDialog())}),s.qZA()(),s.TgZ(3,"div",31)(4,"span",32),s._UZ(5,"i",33),s.TgZ(6,"input",34,35),s.NdJ("input",function(){s.CHM(e);const r=s.MAs(7),o=s.MAs(10);return s.KtG(o.filterGlobal(r.value,"contains"))}),s.qZA()()(),s.TgZ(8,"div",36)(9,"p-table",37,38),s.YNc(11,b6,11,0,"ng-template",39),s.YNc(12,w6,21,7,"ng-template",40),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(9),s.Q6J("value",e.products)("paginator",!0)("rows",7)("globalFilterFields",s.DdM(4,C6))}}function I6(n,t){1&n&&(s.TgZ(0,"h1"),s._uU(1,"Log in before you can manage products"),s.qZA())}const T6=function(n){return{"p-disabled":n}};let S6=(()=>{class n{constructor(e,i,r){this.productService=e,this.authService=i,this.messageService=r,this.products=[],this.productId="",this.display=!1,this.displayEdit=!1,this.precompleteName="",this.precompleteDetails="",this.precompletePrice="",this.product={price:"",productName:""}}ngOnInit(){this.productService.getProducts().subscribe(e=>this.products=e),this.productId&&this.productService.getProductById(this.productId).subscribe(e=>{this.product=e})}deleteProduct(e){this.productService.deleteProduct(e)}addProduct(e){this.productService.addProduct(e).then(()=>{this.messageService.add({severity:"success",summary:"Product added!",detail:"Product has been added successfully",life:5e3})})}openAddDialog(){this.display=!0}openEditProductDialog(e,i,r,o){this.displayEdit=!0,this.productId=e,this.precompleteName=i,this.precompleteDetails=r,this.precompletePrice=o}onUpdate(){let e={details:"",id:"",price:"",productName:""},i=document.getElementById("productName").value,r=document.getElementById("details").value,o=document.getElementById("price").value;e.id=this.productId,e.productName=i,e.details=r,e.price=o,this.productService.updateProduct(e).then(()=>{this.displayEdit=!1})}onAdd(e,i,r,o){let u={details:"",price:"",productName:"",type:""};switch(u.productName=e,u.details=i,u.price=r,u.type=o,u.type){case"phone":u.imageUrl="https://s13emagst.akamaized.net/products/25344/25343941/images/res_99d57ec9e3d9bb8d3242f384288ce0a3.jpg?width=450&height=450&hash=786B6F02C39C1B12EDCE7B0392025549";break;case"samsung":u.imageUrl="https://s13emagst.akamaized.net/products/20114/20113794/images/res_242fb83777fae61b4c6aca7abf87e29d.jpg?width=450&height=450&hash=7741F857EA9B930867A50553E8F7AFAA";break;case"laptop":u.imageUrl="https://s13emagst.akamaized.net/products/45425/45424172/images/res_f495aff6c338b7c8ef9404851caa4599.jpg?width=450&height=450&hash=A3E5F5E0D73D24956E3D10910907C715";break;case"mouse":u.imageUrl="https://s13emagst.akamaized.net/products/18953/18952046/images/res_de3672cff6e18379c144e895e1d785f2.jpg?width=450&height=450&hash=24ACABAA54BE2AEB84711A8D17EA7055";break;case"mouse microsoft":u.imageUrl="https://s13emagst.akamaized.net/products/600/599215/images/res_222e35ef2b03571187a535d2bc35bc94.jpg?width=450&height=450&hash=D281C55052203812A2691BB7B7B0B1AE";break;case"headphones":u.imageUrl="https://s13emagst.akamaized.net/products/8096/8095450/images/res_0dc808a8af26ded30ec4a60b5b367c71.jpg?width=450&height=450&hash=3269C6F328F6395C42B5C1EC41E637CF";break;case"airpods":u.imageUrl="https://s13emagst.akamaized.net/products/26669/26668250/images/res_25452c9cc71d1d7c1146cda73239cb2d.jpg?width=450&height=450&hash=21618BB06EB09FACD642895B71BD7D58";break;case"PC":u.imageUrl="https://s13emagst.akamaized.net/products/43120/43119688/images/res_053354505967a6e29744d21ec798c850.jpg?width=450&height=450&hash=4F1B788DDEDB06F8E35F0A1F637C1F56"}this.addProduct(u),this.display=!1}show(e){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hR),s.Y36(Rl),s.Y36(rg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin"]],decls:56,vars:21,consts:[[4,"ngIf","ngIfElse"],["notLoggedIn",""],["header","Add new product",3,"visible","dismissableMask","closeOnEscape","modal","baseZIndex","visibleChange"],[1,"container"],[3,"ngSubmit"],["addProductForm","ngForm"],[1,"d-flex","flex-column"],["name","productName","pInputText","","placeholder","Product Name","required","",1,"form-control"],["name",""],[1,"d-flex","flex-column","mt-2"],["pInputText","","name","details","placeholder","Details","required","",1,"form-control"],["details",""],[1,"input-group"],[1,"input-group-addon"],["pInputText","","name","price","placeholder","Price","required","",1,"form-control","full-width"],["price",""],["pInputText","","name","type","placeholder","Type","required","",1,"form-control"],["type",""],[1,"mt-3"],["type","submit","pButton","","label","Add product",1,"p-button-raised",3,"disabled"],["header","Edit product",3,"visible","closeOnEscape","modal","resizable","draggable","baseZIndex","visibleChange"],["productForm","ngForm"],["name","productName","id","productName","pInputText","","placeholder","Product Name","required","",1,"form-control","mt-2",3,"value"],["id","details","pInputText","","name","details","placeholder","Details",1,"form-control","mt-2",3,"value"],[1,"d-flex","flex-column","mb-2","mt-2"],[1,"bi","bi-currency-dollar"],["id","price","pInputText","","name","price","placeholder","Price","required","",1,"form-control","full-width","mt-2",3,"value"],[1,"form-group","float-right"],["pButton","","type","submit",1,"p-button-raised",3,"ngClass","disabled","click"],[1,"mb-3"],["pButton","","label","Add new product",1,"p-button-raised","add-button",3,"click"],[1,"d-flex","mb-2"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search product",3,"input"],["filterText",""],[1,"card"],["responsiveLayout","stack",3,"value","paginator","rows","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"p-column-title",2,"font-weight","bolder"],["pButton","","icon","pi pi-pencil",1,"p-button-outlined","mr-2","p-2",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-outlined","mr-2","p-2",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.YNc(0,E6,13,5,"div",0),s.YNc(1,I6,2,0,"ng-template",null,1,s.W1O),s.TgZ(3,"p-dialog",2),s.NdJ("visibleChange",function(u){return i.display=u}),s.TgZ(4,"div",3)(5,"form",4,5),s.NdJ("ngSubmit",function(){s.CHM(r);const u=s.MAs(11),h=s.MAs(16),f=s.MAs(23),y=s.MAs(28);return s.KtG(i.onAdd(u.value,h.value,f.value,y.value))}),s.TgZ(7,"div",6)(8,"label"),s._uU(9,"Product Name"),s.qZA(),s._UZ(10,"input",7,8),s.qZA(),s.TgZ(12,"div",9)(13,"label"),s._uU(14,"Details"),s.qZA(),s._UZ(15,"input",10,11),s.qZA(),s.TgZ(17,"div",9)(18,"label"),s._uU(19,"Price"),s.qZA(),s.TgZ(20,"div",12)(21,"div",13),s._UZ(22,"input",14,15),s.qZA()()(),s.TgZ(24,"div",9)(25,"label"),s._uU(26,"Type"),s.qZA(),s._UZ(27,"input",16,17),s.qZA(),s.TgZ(29,"div",18),s._UZ(30,"button",19),s.qZA()()()(),s.TgZ(31,"p-dialog",20),s.NdJ("visibleChange",function(u){return i.displayEdit=u}),s.TgZ(32,"div",3)(33,"form",null,21)(35,"div",9)(36,"label"),s._uU(37,"Product Name"),s.qZA(),s._UZ(38,"input",22,8),s.qZA(),s.TgZ(40,"div",9)(41,"label"),s._uU(42,"Details"),s.qZA(),s._UZ(43,"input",23,11),s.qZA(),s.TgZ(45,"div",24)(46,"label"),s._uU(47,"Price"),s.qZA(),s.TgZ(48,"div",12)(49,"div",13),s._UZ(50,"i",25),s.qZA(),s._UZ(51,"input",26,15),s.qZA()(),s.TgZ(53,"div",27)(54,"button",28),s.NdJ("click",function(){return i.onUpdate()}),s._uU(55," Update Product "),s.qZA()()()()()}if(2&e){const r=s.MAs(2),o=s.MAs(6),u=s.MAs(34);s.Q6J("ngIf",i.authService.isLoggedIn)("ngIfElse",r),s.xp6(3),s.Q6J("visible",i.display)("dismissableMask",!0)("closeOnEscape",!0)("modal",!0)("baseZIndex",2e5),s.xp6(27),s.Q6J("disabled",!o.valid),s.xp6(1),s.Q6J("visible",i.displayEdit)("closeOnEscape",!0)("modal",!0)("resizable",!1)("draggable",!1)("baseZIndex",2e5),s.xp6(7),s.Q6J("value",i.precompleteName),s.xp6(5),s.Q6J("value",i.precompleteDetails),s.xp6(8),s.Q6J("value",i.precompletePrice),s.xp6(3),s.Q6J("ngClass",s.VKq(19,T6,!u.valid))("disabled",!u.valid)}},dependencies:[Ft,en,Ac,$_,bs,B1,U1,w1,d1,ow,Na]}),n})();function D6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"h2"),s._uU(2,"Are you sure about your order?"),s.qZA(),s.TgZ(3,"div",8)(4,"button",9),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closeOrderDialog())}),s.qZA(),s.TgZ(5,"button",10),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.confirmOrder())}),s.qZA()()()}}function x6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div"),s._UZ(4,"i",14),s.qZA(),s.TgZ(5,"span",15),s._uU(6),s.qZA(),s.TgZ(7,"span",16),s._uU(8),s.ALo(9,"currency"),s.qZA()(),s.TgZ(10,"div",17),s._UZ(11,"img",18),s.qZA()(),s.TgZ(12,"div",19)(13,"button",20),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.removeFromCart(o))}),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(6),s.Oqu(e.productName),s.xp6(2),s.Oqu(s.xi3(9,3,e.price,"USD")),s.xp6(3),s.Q6J("src",e.imageUrl,s.LSH)}}let A6=(()=>{class n{constructor(e,i,r,o){this.cartService=e,this.auth=i,this.messageService=r,this.router=o,this.cartProducts$=null,this.cart=[],this.displayPlaceOrder=!1,this.auth.getUserUid()}getTotalCartPrice(){let e=0;return this.cart.forEach(i=>{e+=Number(i.price)}),e}ngOnInit(){this.auth.getUserUid(),this.cartService.getCart().subscribe(e=>{this.cart=e,this.getTotalCartPrice()})}ngOnChanges(e){}placeOrder(){this.cart.length<1?this.messageService.add({severity:"error",summary:"Cart is empty!",detail:"Add products before you can place the order.",life:5e3}):this.displayPlaceOrder=!0}deleteCart(){this.cart.forEach(e=>{this.removeFromCart(e)})}closeOrderDialog(){this.displayPlaceOrder=!1}confirmOrder(){this.messageService.add({severity:"success",summary:"Your order has been registered!",detail:"Thank you for choosing us!",life:5e3}),this.displayPlaceOrder=!1,setTimeout(()=>{this.router.navigate(["products"])},1500),this.deleteCart()}removeFromCart(e){this.cartService.deleteProduct(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pR),s.Y36(Rl),s.Y36(rg),s.Y36(fi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-cart"]],features:[s.TTD],decls:12,vars:11,consts:[["header","Place order",1,"confirm-order-dialog",3,"visible","closeOnEscape","modal","resizable","draggable","baseZIndex","visibleChange"],["pTemplate","content"],[3,"value"],["pTemplate","listItem"],[1,"full-width","d-flex","justify-content-end","align-items-center","pr-3","pt-2",2,"background","white","height","70px","color","black","margin-top","-13px"],[1,"justify-content-between","mt-5","mb-5",2,"float","right","text-align","right"],["pButton","","id","order","label","Place order",1,"p-button-raised",3,"click"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],[1,""],["pButton","","label","Cancel",1,"p-button-outlined","mr-4",3,"click"],["pButton","","label","Yes",1,"p-button-raised",3,"click"],[1,"d-flex","full-width","justify-content-between"],[1,"d-flex","flex-row","align-items-center"],[1,"p-3","d-flex","flex-column"],[1,"pi","pi-tag","product-category-icon"],[2,"font-weight","bolder","font-size","1.8rem"],[2,"font-size","1.3rem"],[1,"ml-4"],["alt","product","width","80","height","80",3,"src"],[1,"product-grid-item-bottom","mr-3"],["pTooltip","Remove from cart","tooltipPosition","right","pButton","","icon","pi pi-times","id","remove",1,"p-button-outlined",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h1"),s._uU(1,"My shopping cart "),s.qZA(),s.TgZ(2,"p-dialog",0),s.NdJ("visibleChange",function(o){return i.displayPlaceOrder=o}),s.YNc(3,D6,6,0,"ng-template",1),s.qZA(),s.TgZ(4,"p-dataView",2),s.YNc(5,x6,14,6,"ng-template",3),s.qZA(),s.TgZ(6,"div",4)(7,"h2"),s._uU(8),s.ALo(9,"currency"),s.qZA()(),s.TgZ(10,"div",5)(11,"button",6),s.NdJ("click",function(){return i.placeOrder()}),s.qZA()()),2&e&&(s.xp6(2),s.Q6J("visible",i.displayPlaceOrder)("closeOnEscape",!0)("modal",!0)("resizable",!1)("draggable",!1)("baseZIndex",2e5),s.xp6(2),s.Q6J("value",i.cart),s.xp6(4),s.hij("Total price: ",s.xi3(9,8,i.getTotalCartPrice(),"USD"),""))},dependencies:[Ac,lw,bs,U1,L1,Na],styles:["i[_ngcontent-%COMP%]{font-size:1.5rem}.product-grid-item-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}#order[_ngcontent-%COMP%]{background:#8989e0!important}#order[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:black!important}#remove[_ngcontent-%COMP%]{border-color:red!important}.product-grid-item-top[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;justify-content:space-between}"]}),n})(),GO=(()=>{class n{constructor(e){this.fireStore=e,this.products=null}addUser(e){const i=sg(this.fireStore,"users");return r1(i,e)}getUsers(){const e=sg(this.fireStore,"users");return AI(e,{idField:"id"})}deleteUser(e){const i=Yu(this.fireStore,`users/${e.uid}`);return MI(i)}updateUser(e){const i=Yu(this.fireStore,`users/${e.uid}`);return v2(i,e)}updateUserRole(e,i){const r=Yu(this.fireStore,`users/${e.uid}`);return dR(r,{role:i})}getUserById(e){const i=Yu(this.fireStore,`users/${e}`);return uR(i,{idField:"uid"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M6(n,t){1&n&&(s.TgZ(0,"tr")(1,"th"),s._uU(2,"ID"),s.qZA(),s.TgZ(3,"th"),s._uU(4,"Email"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Role"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Last signed in"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Actions"),s.qZA()())}function k6(n,t){if(1&n&&(s.TgZ(0,"td")(1,"span",22),s._uU(2,"Last signed in"),s.qZA(),s._uU(3),s.ALo(4,"date"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(3),s.hij(" ",s.xi3(4,1,e.joinDate.toDate(),"dd-MM-yyyy HH:mm:ss")," ")}}function R6(n,t){if(1&n&&(s.TgZ(0,"td")(1,"span",22),s._uU(2,"Last signed in"),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(3),s.hij(" ",e.joinDate,"")}}function O6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"span",22),s._uU(3,"ID"),s.qZA(),s._uU(4),s.qZA(),s.TgZ(5,"td")(6,"span",22),s._uU(7,"Email"),s.qZA(),s._uU(8),s.qZA(),s.TgZ(9,"td")(10,"span",22),s._uU(11,"Role"),s.qZA(),s._uU(12),s.qZA(),s.YNc(13,k6,5,4,"td",23),s.YNc(14,R6,4,1,"ng-template",null,24,s.W1O),s.TgZ(16,"td")(17,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.displayEditDialog(o))}),s.qZA(),s.TgZ(18,"button",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.deleteUser(o))}),s.qZA()()()}if(2&n){const e=t.$implicit,i=s.MAs(15);s.xp6(4),s.Oqu(e.uid),s.xp6(4),s.Oqu(e.email),s.xp6(4),s.Oqu(e.role),s.xp6(1),s.Q6J("ngIf",e.joinDate)("ngIfElse",i)}}const P6=function(){return["email"]};function F6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",12)(2,"span",13),s._UZ(3,"i",14),s.TgZ(4,"input",15,16),s.NdJ("input",function(){s.CHM(e);const r=s.MAs(5),o=s.MAs(8);return s.KtG(o.filterGlobal(r.value,"contains"))}),s.qZA()()(),s.TgZ(6,"div",17)(7,"p-table",18,19),s.YNc(9,M6,11,0,"ng-template",20),s.YNc(10,O6,19,5,"ng-template",21),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(7),s.Q6J("globalFilterFields",s.DdM(4,P6))("value",e.users)("rows",7)("paginator",!0)}}function N6(n,t){1&n&&(s.TgZ(0,"h1"),s._uU(1,"Log in before you can manage users"),s.qZA())}const L6=[{path:"",pathMatch:"full",redirectTo:"sign-in"},{path:"products",component:GU},{path:"admin",children:[{path:"products",component:S6},{path:"users",component:(()=>{class n{constructor(e,i){this.userService=e,this.authService=i,this.users=[],this.display=!1,this.displayEdit=!1,this.selectedRole="Customer",this.editUser={displayName:"",email:"",uid:""},this.roles=[{name:"Admin",code:"AD"},{name:"Customer",code:"CM"}]}ngOnInit(){this.userService.getUsers().subscribe(e=>{this.users=e})}deleteUser(e){this.userService.deleteUser(e)}openAddDialog(){this.display=!0}onUpdateRole(e){this.userService.updateUserRole(this.editUser,e.name),this.displayEdit=!1}displayEditDialog(e){this.displayEdit=!0,this.editUser=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(GO),s.Y36(Rl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin-users"]],decls:16,vars:10,consts:[[1,""],["class","pt-5",4,"ngIf","ngIfElse"],["notLoggedIn",""],["header","Edit user role",3,"visible","closeOnEscape","modal","resizable","draggable","baseZIndex","visibleChange"],[1,"container"],[3,"ngSubmit"],["userRoleForm","ngForm"],[1,"d-flex","flex-column"],["optionLabel","name","name","name",3,"options","ngModel","ngModelChange"],["role",""],["pButton","","label","Change user role",1,"p-button-raised","mt-3"],[1,"pt-5"],[1,"d-flex","mb-2"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search user by email",3,"input"],["filterText",""],[1,"card"],["responsiveLayout","stack",3,"globalFilterFields","value","rows","paginator"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"p-column-title",2,"font-weight","bolder"],[4,"ngIf","ngIfElse"],["blankJoinDate",""],["pButton","","icon","pi pi-pencil",1,"p-button-outlined","mr-2","p-2",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-outlined","mr-2","p-2",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s.YNc(1,F6,11,5,"div",1),s.qZA(),s.YNc(2,N6,2,0,"ng-template",null,2,s.W1O),s.TgZ(4,"p-dialog",3),s.NdJ("visibleChange",function(u){return i.displayEdit=u}),s.TgZ(5,"div",4)(6,"h3"),s._uU(7,"Admin/Customer"),s.qZA(),s.TgZ(8,"form",5,6),s.NdJ("ngSubmit",function(){s.CHM(r);const u=s.MAs(14);return s.KtG(i.onUpdateRole(u.value))}),s.TgZ(10,"div",7)(11,"label"),s._uU(12,"User role"),s.qZA(),s.TgZ(13,"p-dropdown",8,9),s.NdJ("ngModelChange",function(u){return i.selectedRole=u}),s.qZA(),s._UZ(15,"button",10),s.qZA()()()()}if(2&e){const r=s.MAs(3);s.xp6(1),s.Q6J("ngIf",i.authService.isLoggedIn)("ngIfElse",r),s.xp6(3),s.Q6J("visible",i.displayEdit)("closeOnEscape",!0)("modal",!0)("resizable",!1)("draggable",!1)("baseZIndex",2e5),s.xp6(9),s.Q6J("options",i.roles)("ngModel",i.selectedRole)}},dependencies:[en,Ac,$_,bs,B1,U1,w1,u1,d1,aw,ow,P1,Nc]}),n})()}]},{path:"cart",component:A6},{path:"sign-up",component:(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.messageService=r}ngOnInit(){}signUp(e,i){this.authService.signUp(e,i).then(()=>{this.router.navigate(["products"]),this.messageService.add({severity:"success",summary:"Sign up successful!",detail:"Enjoy our shop!",life:5e3})}).catch(r=>{"auth/email-already-in-use"===r.code&&this.messageService.add({severity:"error",summary:"Sign up failed!",detail:"This mail is already in use!",life:5e3}),"auth/invalid-email"===r.code&&this.messageService.add({severity:"error",summary:"Sign up failed!",detail:"The mail is badly formatted!",life:5e3})})}goToLogin(){this.router.navigate(["sign-in"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rl),s.Y36(fi),s.Y36(rg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-up"]],decls:20,vars:0,consts:[[1,"container","d-flex","flex-column","justify-content-center","align-items-center"],[1,"col-12","col-md-4"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-at"],["type","email","pInputText","","placeholder","Email","required",""],["email",""],[1,"col-12","col-md-4","mt-3"],[1,"pi","pi-lock"],["type","password","pInputText","","placeholder","Password","required",""],["password",""],[1,"container","d-flex","flex-column","justify-content-center","align-items-center","mt-4","mb-5"],["pButton","","label","Sign up",3,"click"],[1,"container","d-flex","flex-column","justify-content-center","align-items-center","mt-5",2,"font-size","1.6rem"],["pButton","","label","Log in",1,"p-button-raised","mt-2",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Sign Up"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"span",3),s._UZ(6,"i",4),s.qZA(),s._UZ(7,"input",5,6),s.qZA()(),s.TgZ(9,"div",7)(10,"div",2)(11,"span",3),s._UZ(12,"i",8),s.qZA(),s._UZ(13,"input",9,10),s.qZA()()(),s.TgZ(15,"div",11)(16,"button",12),s.NdJ("click",function(){s.CHM(r);const u=s.MAs(8),h=s.MAs(14);return s.KtG(i.signUp(u.value,h.value))}),s.qZA()(),s.TgZ(17,"div",13),s._uU(18," Already got an account? "),s.TgZ(19,"button",14),s.NdJ("click",function(){return i.goToLogin()}),s.qZA()()}},dependencies:[Ac,$_],styles:["input[_ngcontent-%COMP%]{padding:1.5rem;font-family:Franklin Gothic Medium,sans-serif}"]}),n})()},{path:"sign-in",component:(()=>{class n{constructor(e,i){this.authService=e,this.router=i}ngOnInit(){}signIn(e,i){this.authService.signIn(e,i)}goToSignUp(){this.router.navigate(["/sign-up"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rl),s.Y36(fi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:23,vars:0,consts:[[1,"container","d-flex","flex-column","justify-content-center","align-items-center"],[2,"text-align","center"],[1,"col-12","col-md-6"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-at"],["type","email","pInputText","","placeholder","Email","required",""],["email",""],[1,"col-12","col-md-6","mt-3"],[1,"pi","pi-lock"],["type","password","pInputText","","placeholder","Password","required",""],["password",""],[1,"col-12","col-md-4","mt-3","d-flex","justify-content-center"],["icon","pi pi-sign-in","pButton","","label","Sign in",3,"click"],[1,"d-flex","flex-column","align-items-center","mt-5"],["pButton","","label","Sign up",1,"p-button-raised",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"Sign in to Sky High Store"),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"span",4),s._UZ(6,"i",5),s.qZA(),s._UZ(7,"input",6,7),s.qZA()(),s.TgZ(9,"div",8)(10,"div",3)(11,"span",4),s._UZ(12,"i",9),s.qZA(),s._UZ(13,"input",10,11),s.qZA()(),s.TgZ(15,"div",12)(16,"button",13),s.NdJ("click",function(){s.CHM(r);const u=s.MAs(8),h=s.MAs(14);return s.KtG(i.signIn(u.value,h.value))}),s.qZA()()(),s.TgZ(17,"div",14)(18,"h2"),s._uU(19,"Don't have an account yet?"),s.qZA(),s.TgZ(20,"h3"),s._uU(21,"Sign up below!"),s.qZA(),s.TgZ(22,"button",15),s.NdJ("click",function(){return i.goToSignUp()}),s.qZA()()}},dependencies:[Ac,$_],styles:["h1[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:bolder}button[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}input[_ngcontent-%COMP%]{padding:1.5rem;font-family:Franklin Gothic Medium,sans-serif}"]}),n})()},{path:"**",component:(()=>{class n{constructor(e,i){this.router=e,this.authService=i}ngOnInit(){}navigateToStore(){this.router.navigate(this.authService.isLoggedIn?["products"]:["sign-in"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fi),s.Y36(Rl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-not-found"]],decls:6,vars:0,consts:[[1,"container",2,"text-align","center"],[2,"font-size","5rem","font-style","italic"],["pButton","","label","Go back",1,"p-button-raised",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"404 Not Found"),s.qZA(),s.TgZ(3,"h1"),s._uU(4,"The requested page was not found..."),s.qZA(),s.TgZ(5,"button",2),s.NdJ("click",function(){return i.navigateToStore()}),s.qZA()())},dependencies:[Ac]}),n})()}];let V6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[sm.forRoot(L6),sm]}),n})();const WO=["container"],B6=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function U6(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"span",6),s.TgZ(2,"div",7)(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA()(),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),s.Q6J("ngClass",s.l5B(5,B6,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),s.xp6(3),s.Oqu(e.message.summary),s.xp6(2),s.Oqu(e.message.detail)}}function H6(n,t){1&n&&s.GkF(0)}function z6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onCloseIconClick(r))})("keydown.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onCloseIconClick(r))}),s._UZ(1,"span",11),s.qZA()}}const j6=function(n){return[n,"p-toast-message"]},$6=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},G6=function(n){return{value:"visible",params:n}},W6=function(n){return{$implicit:n}};function Z6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onMessageClose(r))})("@toastAnimation.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAnimationStart(r))})("@toastAnimation.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAnimationEnd(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let q6=(()=>{class n{constructor(e){this.zone=e,this.onClose=new s.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&s.Gf(WO,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,U6,7,10,"ng-container",3),s.YNc(4,H6,1,0,"ng-container",4),s.YNc(5,z6,2,0,"button",5),s.qZA()()),2&e&&(s.Tol(i.message.styleClass),s.Q6J("ngClass",s.VKq(10,j6,"p-toast-message-"+i.message.severity))("@messageState",s.VKq(17,G6,s.l5B(12,$6,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),s.uIk("id",i.message.id),s.xp6(2),s.Q6J("ngClass",i.message.contentStyleClass),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(19,W6,i.message)),s.xp6(1),s.Q6J("ngIf",!1!==i.message.closable))},dependencies:[Ft,en,Ii,og],encapsulation:2,data:{animation:[cw("messageState",[CO("visible",Es({transform:"translateY(0)",opacity:1})),Pl("void => *",[Es({transform:"{{showTransformParams}}",opacity:0}),Mc("{{showTransitionParams}}")]),Pl("* => void",[Mc("{{hideTransitionParams}}",Es({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),K6=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.vpe,this.id=tw()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&Sr.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&gt.isEmpty(this.messages)&&Sr.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let o in this.breakpoints[i])r+=o+":"+this.breakpoints[i][o]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Sr.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(rg),s.Y36(s.sBO),s.Y36(Mh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,bs,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(WO,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,Z6,1,8,"p-toastItem",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),s.xp6(2),s.Q6J("ngForOf",i.messages))},dependencies:[Ft,Pi,li,q6],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[cw("toastAnimation",[Pl(":enter, :leave",[wV("@*",bV())])])]},changeDetection:0}),n})(),Y6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Ol,Dr]}),n})();const Q6=function(n){return{"p-hidden":n}};function J6(n,t){if(1&n&&s._UZ(0,"li",4),2&n){const e=s.oxw().$implicit;s.Q6J("ngClass",s.VKq(1,Q6,!1===e.visible))}}function X6(n,t){if(1&n&&s._UZ(0,"span",16),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.icon)("ngStyle",e.iconStyle)}}function ej(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.xp6(1),s.Oqu(e.label)}}function tj(n,t){if(1&n&&s._UZ(0,"span",18),2&n){const e=s.oxw(3).$implicit;s.Q6J("innerHTML",e.label,s.oJD)}}function nj(n,t){if(1&n&&(s.TgZ(0,"span",19),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.badgeStyleClass),s.xp6(1),s.Oqu(e.badge)}}const ZO=function(n,t){return{"pi-angle-down":n,"pi-angle-right":t}};function ij(n,t){if(1&n&&s._UZ(0,"span",20),2&n){const e=s.oxw(4);s.Q6J("ngClass",s.WLB(1,ZO,e.root,!e.root))}}const qO=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function rj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",10),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2).$implicit,u=s.oxw();return s.KtG(u.onItemClick(r,o))})("mouseenter",function(r){s.CHM(e);const o=s.oxw(2).$implicit,u=s.oxw();return s.KtG(u.onItemMouseEnter(r,o))}),s.YNc(1,X6,1,2,"span",11),s.YNc(2,ej,2,1,"span",12),s.YNc(3,tj,1,1,"ng-template",null,13,s.W1O),s.YNc(5,nj,2,2,"span",14),s.YNc(6,ij,1,4,"span",15),s.qZA()}if(2&n){const e=s.MAs(4),i=s.oxw(2).$implicit,r=s.oxw();s.Q6J("target",i.target)("ngClass",s.VKq(14,qO,i.disabled)),s.uIk("href",i.url,s.LSH)("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0")("aria-haspopup",null!=r.item.items)("aria-expanded",r.item===r.activeItem),s.xp6(1),s.Q6J("ngIf",i.icon),s.xp6(1),s.Q6J("ngIf",!1!==i.escape)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.badge),s.xp6(1),s.Q6J("ngIf",i.items)}}function sj(n,t){if(1&n&&s._UZ(0,"span",16),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.icon)("ngStyle",e.iconStyle)}}function oj(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.xp6(1),s.Oqu(e.label)}}function aj(n,t){if(1&n&&s._UZ(0,"span",18),2&n){const e=s.oxw(3).$implicit;s.Q6J("innerHTML",e.label,s.oJD)}}function lj(n,t){if(1&n&&(s.TgZ(0,"span",19),s._uU(1),s.qZA()),2&n){const e=s.oxw(3).$implicit;s.Q6J("ngClass",e.badgeStyleClass),s.xp6(1),s.Oqu(e.badge)}}function cj(n,t){if(1&n&&s._UZ(0,"span",20),2&n){const e=s.oxw(4);s.Q6J("ngClass",s.WLB(1,ZO,e.root,!e.root))}}const uj=function(){return{exact:!1}};function dj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",21),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2).$implicit,u=s.oxw();return s.KtG(u.onItemClick(r,o))})("mouseenter",function(r){s.CHM(e);const o=s.oxw(2).$implicit,u=s.oxw();return s.KtG(u.onItemMouseEnter(r,o))}),s.YNc(1,sj,1,2,"span",11),s.YNc(2,oj,2,1,"span",12),s.YNc(3,aj,1,1,"ng-template",null,22,s.W1O),s.YNc(5,lj,2,2,"span",14),s.YNc(6,cj,1,4,"span",15),s.qZA()}if(2&n){const e=s.MAs(4),i=s.oxw(2).$implicit;s.Q6J("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||s.DdM(21,uj))("target",i.target)("ngClass",s.VKq(22,qO,i.disabled))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),s.uIk("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0"),s.xp6(1),s.Q6J("ngIf",i.icon),s.xp6(1),s.Q6J("ngIf",!1!==i.escape)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.badge),s.xp6(1),s.Q6J("ngIf",i.items)}}function hj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-menubarSub",23),s.NdJ("leafClick",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onLeafClick())}),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw();s.Q6J("parentActive",e===i.activeItem)("item",e)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)}}const pj=function(n,t){return{"p-menuitem":!0,"p-menuitem-active":n,"p-hidden":t}};function fj(n,t){if(1&n&&(s.TgZ(0,"li",5,6),s.YNc(2,rj,7,16,"a",7),s.YNc(3,dj,7,24,"a",8),s.YNc(4,hj,1,4,"p-menubarSub",9),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.WLB(8,pj,e===i.activeItem,!1===e.visible))("ngStyle",e.style)("tooltipOptions",e.tooltipOptions),s.xp6(2),s.Q6J("ngIf",!e.routerLink),s.xp6(1),s.Q6J("ngIf",e.routerLink),s.xp6(1),s.Q6J("ngIf",e.items)}}function gj(n,t){if(1&n&&(s.YNc(0,J6,1,3,"li",2),s.YNc(1,fj,5,11,"li",3)),2&n){const e=t.$implicit;s.Q6J("ngIf",e.separator),s.xp6(1),s.Q6J("ngIf",!e.separator)}}const mj=function(n,t){return{"p-submenu-list":n,"p-menubar-root-list":t}},_j=["menubutton"],yj=["rootmenu"];function vj(n,t){1&n&&s.GkF(0)}function bj(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,vj,1,0,"ng-container",10),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.startTemplate)}}function wj(n,t){1&n&&s.GkF(0)}function Cj(n,t){if(1&n&&(s.TgZ(0,"div",11),s.YNc(1,wj,1,0,"ng-container",10),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.endTemplate)}}function Ej(n,t){1&n&&(s.TgZ(0,"div",11),s.Hsn(1),s.qZA())}const Ij=function(n){return{"p-menubar p-component":!0,"p-menubar-mobile-active":n}},Tj=["*"];let Sj=(()=>{class n{constructor(e,i,r){this.el=e,this.renderer=i,this.cd=r,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new s.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(e){this.root||(this._parentActive=e,e||(this.activeItem=null))}onItemClick(e,i){i.disabled?e.preventDefault():(!i.url&&!i.routerLink&&e.preventDefault(),i.command&&i.command({originalEvent:e,item:i}),i.items&&(this.activeItem&&i===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=i,this.root&&this.bindDocumentClickListener())),i.items||this.onLeafClick())}onItemMouseEnter(e,i){i.disabled||this.mobileActive?e.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=i,this.bindDocumentClickListener()):(this.activeItem=i,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.el&&!this.el.nativeElement.contains(e.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(e,i){1&e&&(s.TgZ(0,"ul",0),s.YNc(1,gj,2,2,"ng-template",1),s.qZA()),2&e&&(s.Q6J("ngClass",s.WLB(3,mj,!i.root,i.root)),s.uIk("role",i.root?"menubar":"menu"),s.xp6(1),s.Q6J("ngForOf",i.root?i.item:i.item.items))},dependencies:[Ft,Pi,en,li,xp,Ap,og,lw,n],encapsulation:2}),n})(),Dj=(()=>{class n{constructor(e,i,r,o){this.el=e,this.renderer=i,this.cd=r,this.config=o,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template}})}toggle(e){this.mobileActive?(this.hide(),Sr.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,Sr.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),e.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.mobileActive&&this.rootmenu.el.nativeElement!==e.target&&!this.rootmenu.el.nativeElement.contains(e.target)&&this.menubutton.nativeElement!==e.target&&!this.menubutton.nativeElement.contains(e.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),Sr.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Mh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-menubar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,bs,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(_j,5),s.Gf(yj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.menubutton=r.first),s.iGM(r=s.CRH())&&(i.rootmenu=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:Tj,decls:10,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],[1,"p-menubar-end"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0),s.YNc(1,bj,2,1,"div",1),s.TgZ(2,"a",2,3),s.NdJ("click",function(o){return i.toggle(o)}),s._UZ(4,"i",4),s.qZA(),s.TgZ(5,"p-menubarSub",5,6),s.NdJ("leafClick",function(){return i.onLeafClick()}),s.qZA(),s.YNc(7,Cj,2,1,"div",7),s.YNc(8,Ej,2,0,"ng-template",null,8,s.W1O),s.qZA()),2&e){const r=s.MAs(9);s.Tol(i.styleClass),s.Q6J("ngClass",s.VKq(12,Ij,i.mobileActive))("ngStyle",i.style),s.xp6(1),s.Q6J("ngIf",i.startTemplate),s.xp6(4),s.Q6J("item",i.model)("baseZIndex",i.baseZIndex)("autoZIndex",i.autoZIndex)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay),s.xp6(2),s.Q6J("ngIf",i.endTemplate)("ngIfElse",r)}},dependencies:[Ft,en,Ii,li,Sj],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),n})(),xj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,sm,Ol,M1,Dr,sm,M1,Dr]}),n})();function Aj(n,t){if(1&n&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label)}}function Mj(n,t){if(1&n&&s._UZ(0,"span",6),2&n){const e=s.oxw(2);s.Tol(e.icon),s.Q6J("ngClass","p-avatar-icon")}}function kj(n,t){if(1&n&&s.YNc(0,Mj,1,3,"span",5),2&n){const e=s.oxw(),i=s.MAs(6);s.Q6J("ngIf",e.icon)("ngIfElse",i)}}function Rj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"img",8),s.NdJ("error",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.imageError(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("src",e.image,s.LSH)}}function Oj(n,t){if(1&n&&s.YNc(0,Rj,1,1,"img",7),2&n){const e=s.oxw();s.Q6J("ngIf",e.image)}}const Pj=["*"];let Fj=(()=>{class n{constructor(){this.size="normal",this.shape="square",this.onImageError=new s.vpe}containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":null!=this.image,"p-avatar-circle":"circle"===this.shape,"p-avatar-lg":"large"===this.size,"p-avatar-xl":"xlarge"===this.size}}imageError(e){this.onImageError.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass"},outputs:{onImageError:"onImageError"},ngContentSelectors:Pj,decls:7,vars:6,consts:[[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],["iconTemplate",""],["imageTemplate",""],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"src","error"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.YNc(2,Aj,2,1,"span",1),s.YNc(3,kj,1,2,"ng-template",null,2,s.W1O),s.YNc(5,Oj,1,1,"ng-template",null,3,s.W1O),s.qZA()),2&e){const r=s.MAs(4);s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",i.label)("ngIfElse",r)}},dependencies:[Ft,en,li],styles:[".p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})();const Vj=function(){return{background:"rgb(37 37 96)","border-radius":0,outline:0,display:"flex",color:"white","box-shadow":"0px 0.8px 2.2px rgba(0, 0, 0, 0.02),0px 1.9px 5.3px rgba(0, 0, 0, 0.028),0px 3.6px 10px rgba(0, 0, 0, 0.035),0px 6.5px 17.9px rgba(0, 0, 0, 0.042),0px 12.1px 33.4px rgba(0, 0, 0, 0.05),0px 29px 80px rgba(0, 0, 0, 0.07)"}},Bj=function(){return{"background-color":"rgb(95,95,187)",color:"#ffffff"}};function Uj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-menubar",2)(1,"div",3),s._UZ(2,"p-avatar",4),s.TgZ(3,"button",5),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.signOut())}),s._UZ(4,"i",6),s.qZA()()()}if(2&n){const e=s.oxw();s.Akn(s.DdM(6,Vj)),s.Q6J("model",e.items),s.xp6(2),s.Akn(s.DdM(7,Bj)),s.Q6J("pTooltip",e.tooltipMessage)}}let Hj=(()=>{class n{constructor(e,i){this.authService=e,this.userService=i,this.auth=(0,nR.n)(),this.uid="",this.role="",this.email="",this.tooltipMessage="",this.items=[]}ngOnInit(){(0,nR.v)(this.auth,e=>{e&&(this.uid=e.uid,this.userService.getUserById(e.uid).subscribe(i=>{i.role&&(this.role=i.role,this.tooltipMessage=this.role+": ",this.items[2].visible="Admin"===this.role),i.email&&(this.email=i.email,this.tooltipMessage=this.tooltipMessage+" "+this.email)})),this.items=[{label:"Sky High Store",icon:"pi pi-cloud",routerLink:["/products"]},{label:"Cart",icon:"pi pi-shopping-cart",routerLink:["/cart"]},{label:"Admin panel",icon:"pi pi-user",items:[{label:"Toate produsele",routerLink:["/admin/products"]},{label:"Toti utilizatorii",routerLink:["/admin/users"]}]}]})}signOut(){this.authService.signOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rl),s.Y36(GO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navbar"]],decls:2,vars:1,consts:[["class","navbar-pi-bars",3,"model","style",4,"ngIf"],[2,"color","rgba(22,22,145,0.25)"],[1,"navbar-pi-bars",3,"model"],[1,"navbar-user"],["icon","pi pi-user","styleClass","p-mr-2","size","large","shape","circle","tooltipPosition","bottom","tooltipZIndex","19999",1,"navbar-user",3,"pTooltip"],["pButton","","label","Sign Out",1,"p-button-text","black-color","navbar-button","ml-3",2,"color","white",3,"click"],[1,"pi","pi-sign-out","mr-2"]],template:function(e,i){1&e&&(s.YNc(0,Uj,5,8,"p-menubar",0),s._UZ(1,"div",1)),2&e&&s.Q6J("ngIf",i.authService.isLoggedIn)},dependencies:[en,Ac,Dj,lw,Fj],styles:[".icon[_ngcontent-%COMP%]{font-size:2rem}.black-color[_ngcontent-%COMP%]{color:#000}i[_ngcontent-%COMP%], .p-button-icon[_ngcontent-%COMP%]{color:#fff!important}.navbar-button[_ngcontent-%COMP%]:hover{background:#e9ecef!important;color:#000!important}.navbar-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000!important}"]}),n})(),zj=(()=>{class n{constructor(e){this.authService=e,this.title="SkyHighStore"}ngOnInit(){this.authService.getUserUid()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:2,consts:[[1,"container","mt-large","mb-5"],["position","top-center",3,"baseZIndex","preventOpenDuplicates"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div",0),s._UZ(2,"router-outlet"),s.qZA(),s._UZ(3,"p-toast",1)),2&e&&(s.xp6(3),s.Q6J("baseZIndex",1e4)("preventOpenDuplicates",!0))},dependencies:[cu,K6,Hj],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:35px;margin-bottom:25px}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:transparent;font-style:italic;font-weight:100!important;color:#fff;text-align:right;padding-right:20px}@media screen and (max-width: 960px){.footer[_ngcontent-%COMP%]{display:none}}"]}),n})();const H1_firebase={apiKey:"AIzaSyCoVAHjYX010ZQEQiGb7QKjdbfn-rs9jeY",authDomain:"skyhighstore-50977.firebaseapp.com",projectId:"skyhighstore-50977",storageBucket:"skyhighstore-50977.appspot.com",messagingSenderId:"395731721953",appId:"1:395731721953:web:ec2eeecb74177c8601a1a0",measurementId:"G-BYKKD1Y6DT"};class KO{}class YO{}class Ju{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ju?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ju;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ju?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jj{encodeKey(t){return QO(t)}encodeValue(t){return QO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Gj=/%(\d[a-f0-9])/gi,Wj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QO(n){return encodeURIComponent(n).replace(Gj,(t,e)=>Wj[e]??t)}function WI(n){return`${n}`}class Fh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $j(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],f=e.get(u)||[];f.push(h),e.set(u,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(WI):[WI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(WI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(WI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Zj{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function JO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XO(n){return typeof Blob<"u"&&n instanceof Blob}function eP(n){return typeof FormData<"u"&&n instanceof FormData}class pw{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ju),this.context||(this.context=new Zj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Fh,this.urlWithParams=e}serializeBody(){return null===this.body?null:JO(this.body)||XO(this.body)||eP(this.body)||function Kj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eP(this.body)?null:XO(this.body)?this.body.type||null:JO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,y=t.params||this.params;const E=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((D,P)=>D.set(P,t.setHeaders[P]),f)),t.setParams&&(y=Object.keys(t.setParams).reduce((D,P)=>D.set(P,t.setParams[P]),y)),new pw(e,i,o,{params:y,headers:f,context:E,reportProgress:h,responseType:r,withCredentials:u})}}var ir=(()=>((ir=ir||{})[ir.Sent=0]="Sent",ir[ir.UploadProgress=1]="UploadProgress",ir[ir.ResponseHeader=2]="ResponseHeader",ir[ir.DownloadProgress=3]="DownloadProgress",ir[ir.Response=4]="Response",ir[ir.User=5]="User",ir))();class z1{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ju,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class j1 extends z1{constructor(t={}){super(t),this.type=ir.ResponseHeader}clone(t={}){return new j1({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ZI extends z1{constructor(t={}){super(t),this.type=ir.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ZI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tP extends z1{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yj=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof pw)o=e;else{let f,y;f=r.headers instanceof Ju?r.headers:new Ju(r.headers),r.params&&(y=r.params instanceof Fh?r.params:new Fh({fromObject:r.params})),o=new pw(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ht(o).pipe(he(f=>this.handler.handle(f)));if(e instanceof pw||"events"===r.observe)return u;const h=u.pipe(ur(f=>f instanceof ZI));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,ut.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return h.pipe((0,ut.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return h.pipe((0,ut.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return h.pipe((0,ut.U)(f=>f.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Fh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,$1(r,i))}post(e,i,r={}){return this.request("POST",e,$1(r,i))}put(e,i,r={}){return this.request("PUT",e,$1(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(KO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class nP{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const iP=new s.OlP("HTTP_INTERCEPTORS");let Qj=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Jj=/^\)\]\}',?\n/;let rP=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new hi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((L,B)=>r.setRequestHeader(L,B.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const L=e.detectContentTypeHeader();null!==L&&r.setRequestHeader("Content-Type",L)}if(e.responseType){const L=e.responseType.toLowerCase();r.responseType="json"!==L?L:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const L=r.statusText||"OK",B=new Ju(r.getAllResponseHeaders()),te=function Xj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new j1({headers:B,status:r.status,statusText:L,url:te}),u},f=()=>{let{headers:L,status:B,statusText:te,url:re}=h(),Pe=null;204!==B&&(Pe=typeof r.response>"u"?r.responseText:r.response),0===B&&(B=Pe?200:0);let Ze=B>=200&&B<300;if("json"===e.responseType&&"string"==typeof Pe){const et=Pe;Pe=Pe.replace(Jj,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(Xe){Pe=et,Ze&&(Ze=!1,Pe={error:Xe,text:Pe})}}Ze?(i.next(new ZI({body:Pe,headers:L,status:B,statusText:te,url:re||void 0})),i.complete()):i.error(new tP({error:Pe,headers:L,status:B,statusText:te,url:re||void 0}))},y=L=>{const{url:B}=h(),te=new tP({error:L,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(te)};let E=!1;const D=L=>{E||(i.next(h()),E=!0);let B={type:ir.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(B.total=L.total),"text"===e.responseType&&!!r.responseText&&(B.partialText=r.responseText),i.next(B)},P=L=>{let B={type:ir.UploadProgress,loaded:L.loaded};L.lengthComputable&&(B.total=L.total),i.next(B)};return r.addEventListener("load",f),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",D),null!==o&&r.upload&&r.upload.addEventListener("progress",P)),r.send(o),i.next({type:ir.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",f),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",D),null!==o&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const G1=new s.OlP("XSRF_COOKIE_NAME"),W1=new s.OlP("XSRF_HEADER_NAME");class sP{}let e$=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(s.Lbi),s.LFG(G1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Z1=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sP),s.LFG(W1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),t$=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(iP,[]);this.chain=i.reduceRight((r,o)=>new nP(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YO),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),n$=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Z1,useClass:Qj}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:G1,useValue:e.cookieName}:[],e.headerName?{provide:W1,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Z1,{provide:iP,useExisting:Z1,multi:!0},{provide:sP,useClass:e$},{provide:G1,useValue:"XSRF-TOKEN"},{provide:W1,useValue:"X-XSRF-TOKEN"}]}),n})(),i$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Yj,{provide:KO,useClass:t$},rP,{provide:YO,useExisting:rP}],imports:[n$.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),o$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Dr]}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Ol]}),n})(),aP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})(),U$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,Dr,kh,aP,oP,Ol,Dr,kh,aP,oP]}),n})(),H$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn]}),n})();function lP(n){return new s.vHH(3e3,!1)}function CG(){return typeof window<"u"&&typeof window.document<"u"}function q1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Nh(n){switch(n.length){case 0:return new uw;case 1:return n[0];default:return new SO(n)}}function cP(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let f=-1,y=null;if(i.forEach(E=>{const D=E.get("offset"),P=D==f,L=P&&y||new Map;E.forEach((B,te)=>{let re=te,Pe=B;if("offset"!==te)switch(re=t.normalizePropertyName(re,u),Pe){case"!":Pe=r.get(te);break;case Qu:Pe=o.get(te);break;default:Pe=t.normalizeStyleValue(te,re,Pe,u)}L.set(re,Pe)}),P||h.push(L),y=L,f=D}),u.length)throw function uG(n){return new s.vHH(3502,!1)}();return h}function K1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Y1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Y1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Y1(e,"destroy",n)))}}function Y1(n,t,e){const o=Q1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function Q1(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Ao(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function uP(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let J1=(n,t)=>!1,dP=(n,t,e)=>[],hP=null;function X1(n){const t=n.parentNode||n.host;return t===hP?null:t}(q1()||typeof Element<"u")&&(CG()?(hP=(()=>document.documentElement)(),J1=(n,t)=>{for(;t;){if(t===n)return!0;t=X1(t)}return!1}):J1=(n,t)=>n.contains(t),dP=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let cg=null,pP=!1;const fP=J1,gP=dP;let mP=(()=>{class n{validateStyleProperty(e){return function IG(n){cg||(cg=function TG(){return typeof document<"u"?document.body:null}()||{},pP=!!cg.style&&"WebkitAppearance"in cg.style);let t=!0;return cg.style&&!function EG(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in cg.style,!t&&pP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return fP(e,i)}getParentElement(e){return X1(e)}query(e,i,r){return gP(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],f){return new uw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),eA=(()=>{class n{}return n.NOOP=new mP,n})();const tA="ng-enter",qI="ng-leave",KI="ng-trigger",YI=".ng-trigger",yP="ng-animating",nA=".ng-animating";function Xu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iA(parseFloat(t[1]),t[2])}function iA(n,t){return"s"===t?1e3*n:n}function QI(n,t,e){return n.hasOwnProperty("duration")?n:function xG(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(lP()),{duration:0,delay:0,easing:""};r=iA(parseFloat(h[1]),h[2]);const f=h[3];null!=f&&(o=iA(parseFloat(f),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!e){let h=!1,f=t.length;r<0&&(t.push(function z$(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function j$(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(f,0,lP())}return{duration:r,delay:o,easing:u}}(n,t,e)}function fw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function vP(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Lh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function wP(n,t,e){return e?t+":"+e+";":""}function CP(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=wP(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=wP(0,RG(e),n.style[e]));n.setAttribute("style",t)}function kc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=sA(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),q1()&&CP(n))}function ug(n,t){n.style&&(t.forEach((e,i)=>{const r=sA(i);n.style[r]=""}),q1()&&CP(n))}function gw(n){return Array.isArray(n)?1==n.length?n[0]:wO(n):n}const rA=new RegExp("{{\\s*(.+?)\\s*}}","g");function EP(n){let t=[];if("string"==typeof n){let e;for(;e=rA.exec(n);)t.push(e[1]);rA.lastIndex=0}return t}function mw(n,t,e){const i=n.toString(),r=i.replace(rA,(o,u)=>{let h=t[u];return null==h&&(e.push(function G$(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function JI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const kG=/-+([a-z0-9])/g;function sA(n){return n.replace(kG,(...t)=>t[1].toUpperCase())}function RG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function W$(n){return new s.vHH(3004,!1)}()}}function IP(n,t){return window.getComputedStyle(n)[t]}function VG(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function BG(n,t,e){if(":"==n[0]){const f=function UG(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function oG(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function sG(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(TP(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(TP(u,r))}(i,e,t)):e.push(n),e}const nT=new Set(["true","1"]),iT=new Set(["false","0"]);function TP(n,t){const e=nT.has(n)||iT.has(n),i=nT.has(t)||iT.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?nT.has(n):iT.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?nT.has(t):iT.has(t)),u&&h}}const HG=new RegExp("s*:selfs*,?","g");function oA(n,t,e,i){return new zG(n).build(t,e,i)}class zG{constructor(t){this._driver=t}build(t,e,i){const r=new GG(e);return this._resetContextStyleTimingState(r),Mo(this,gw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function q$(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const f=h,y=f.name;y.toString().split(/\s*,\s*/).forEach(E=>{f.name=E,o.push(this.visitState(f,e))}),f.name=y}else if(1==h.type){const f=this.visitTransition(h,e);i+=f.queryCount,r+=f.depCount,u.push(f)}else e.errors.push(function K$(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(f=>{EP(f).forEach(y=>{u.hasOwnProperty(y)||o.add(y)})})}),o.size&&(JI(o.values()),e.errors.push(function Y$(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Mo(this,gw(t.animation),e);return{type:1,matchers:VG(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:dg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Mo(this,i,e)),options:dg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Mo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:dg(t.options)}}visitAnimate(t,e){const i=function ZG(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return aA(QI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=aA(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=QI(e,t);return aA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Es({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=Es(y)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(u,e);f.isEmptyStep=h,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Qu?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(vP(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let f of h.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,f)=>{const y=e.collectedStyles.get(e.currentQuerySelector),E=y.get(f);let D=!0;E&&(o!=r&&o>=E.startTime&&r<=E.endTime&&(e.errors.push(function J$(n,t,e,i,r){return new s.vHH(3010,!1)}()),D=!1),o=E.startTime),D&&y.set(f,{startTime:o,endTime:r}),e.options&&function MG(n,t,e){const i=t.params||{},r=EP(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function $$(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function X$(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,f=!1,y=0;const E=t.steps.map(Pe=>{const Ze=this._makeStyleAst(Pe,e);let et=null!=Ze.offset?Ze.offset:function WG(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ze.styles),Xe=0;return null!=et&&(o++,Xe=Ze.offset=et),f=f||Xe<0||Xe>1,h=h||Xe<y,y=Xe,u.push(Xe),Ze});f&&e.errors.push(function eG(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function tG(){return new s.vHH(3200,!1)}());const D=t.steps.length;let P=0;o>0&&o<D?e.errors.push(function nG(){return new s.vHH(3202,!1)}()):0==o&&(P=1/(D-1));const L=D-1,B=e.currentTime,te=e.currentAnimateTimings,re=te.duration;return E.forEach((Pe,Ze)=>{const et=P>0?Ze==L?1:P*Ze:u[Ze],Xe=et*re;e.currentTime=B+te.delay+Xe,te.duration=Xe,this._validateStyleAst(Pe,e),Pe.offset=et,i.styles.push(Pe)}),i}visitReference(t,e){return{type:8,animation:Mo(this,gw(t.animation),e),options:dg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function jG(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(HG,"")),n=n.replace(/@\*/g,YI).replace(/@\w+/g,e=>YI+"-"+e.slice(1)).replace(/:animating/g,nA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ao(e.collectedStyles,e.currentQuerySelector,new Map);const h=Mo(this,gw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:dg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function iG(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:QI(t.timings,e.errors,!0);return{type:12,animation:Mo(this,gw(t.animation),e),timings:i,options:null}}}class GG{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dg(n){return n?(n=fw(n)).params&&(n.params=function $G(n){return n?fw(n):null}(n.params)):n={},n}function aA(n,t,e){return{duration:n,delay:t,easing:e}}function lA(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class rT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const YG=new RegExp(":enter","g"),JG=new RegExp(":leave","g");function cA(n,t,e,i,r,o=new Map,u=new Map,h,f,y=[]){return(new XG).buildKeyframes(n,t,e,i,r,o,u,h,f,y)}class XG{buildKeyframes(t,e,i,r,o,u,h,f,y,E=[]){y=y||new rT;const D=new uA(t,e,y,r,o,E,[]);D.options=f;const P=f.delay?Xu(f.delay):0;D.currentTimeline.delayNextStep(P),D.currentTimeline.setStyles([u],null,D.errors,f),Mo(this,i,D);const L=D.timelines.filter(B=>B.containsAnimation());if(L.length&&h.size){let B;for(let te=L.length-1;te>=0;te--){const re=L[te];if(re.element===e){B=re;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([h],null,D.errors,f)}return L.length?L.map(B=>B.buildKeyframes()):[lA(e,[],[],[],0,P,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:Xu(mw(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Xu(i.duration):null,h=null!=i.delay?Xu(i.delay):null;return 0!==u&&t.forEach(f=>{const y=e.appendInstructionToTimeline(f,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Mo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=sT);const u=Xu(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Mo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xu(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Mo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return QI(e.params?mw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(f=>{h.forwardTime((f.offset||0)*o),h.setStyles(f.styles,f.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Xu(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sT);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let f=null;h.forEach((y,E)=>{e.currentQueryIndex=E;const D=e.createSubContext(t.options,y);o&&D.delayNextStep(o),y===e.element&&(f=D.currentTimeline),Mo(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let f=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=h-f;break;case"full":f=i.currentStaggerTime}const E=e.currentTimeline;f&&E.delayNextStep(f);const D=E.currentTime;Mo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const sT={};class uA{constructor(t,e,i,r,o,u,h,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new oT(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Xu(i.duration)),null!=i.delay&&(r.delay=Xu(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=mw(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new uA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=sT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new e4(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(YG,"."+this._enterClassName)).replace(JG,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function rG(n){return new s.vHH(3014,!1)}()),h}}class oT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new oT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Qu),this._currentKeyframe.set(e,Qu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function t4(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Qu)}else Lh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,f]of u){const y=mw(f,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Qu),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,f)=>{const y=Lh(h,new Map,this._backFill);y.forEach((E,D)=>{"!"===E?t.add(D):E===Qu&&e.add(D)}),i||y.set("offset",f/this.duration),r.push(y)});const o=t.size?JI(t.values()):[],u=e.size?JI(e.values()):[];if(i){const h=r[0],f=new Map(h);h.set("offset",0),f.set("offset",1),r=[h,f]}return lA(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class e4 extends oT{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,f=Lh(t[0]);f.set("offset",0),o.push(f);const y=Lh(t[0]);y.set("offset",xP(h)),o.push(y);const E=t.length-1;for(let D=1;D<=E;D++){let P=Lh(t[D]);const L=P.get("offset");P.set("offset",xP((e+L*i)/u)),o.push(P)}i=u,e=0,r="",t=o}return lA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function xP(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class dA{}const n4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class r4 extends dA{normalizePropertyName(t,e){return sA(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(n4.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function Z$(n,t){return new s.vHH(3005,!1)}())}return u+o}}function AP(n,t,e,i,r,o,u,h,f,y,E,D,P){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:f,preStyleProps:y,postStyleProps:E,totalTime:D,errors:P}}const hA={};class MP{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function s4(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,f,y,E){const D=[],P=this.ast.options&&this.ast.options.params||hA,B=this.buildStyles(i,h&&h.params||hA,D),te=f&&f.params||hA,re=this.buildStyles(r,te,D),Pe=new Set,Ze=new Map,et=new Map,Xe="void"===r,_t={params:o4(te,P),delay:this.ast.options?.delay},Dt=E?[]:cA(t,e,this.ast.animation,o,u,B,re,_t,y,D);let cn=0;if(Dt.forEach(qi=>{cn=Math.max(qi.duration+qi.delay,cn)}),D.length)return AP(e,this._triggerName,i,r,Xe,B,re,[],[],Ze,et,cn,D);Dt.forEach(qi=>{const Is=qi.element,yF=Ao(Ze,Is,new Set);qi.preStyleProps.forEach(pg=>yF.add(pg));const Iw=Ao(et,Is,new Set);qi.postStyleProps.forEach(pg=>Iw.add(pg)),Is!==e&&Pe.add(Is)});const mi=JI(Pe.values());return AP(e,this._triggerName,i,r,Xe,B,re,Dt,mi,Ze,et,cn)}}function o4(n,t){const e=fw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class a4{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=fw(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=mw(u,r,e));const f=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,f,u,e),i.set(f,u)})}),i}}class c4{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new a4(r.style,r.options&&r.options.params||{},i))}),kP(this.states,"true","1"),kP(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new MP(t,r,this.states))}),this.fallbackTransition=function u4(n,t,e){return new MP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function kP(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const d4=new rT;class h4{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=oA(this._driver,e,i,[]);if(i.length)throw function dG(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=cP(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=cA(this._driver,e,o,tA,qI,new Map,new Map,i,d4,r),u.forEach(E=>{const D=Ao(h,E.element,new Map);E.postStyleProps.forEach(P=>D.set(P,null))})):(r.push(function hG(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function pG(n){return new s.vHH(3504,!1)}();h.forEach((E,D)=>{E.forEach((P,L)=>{E.set(L,this._driver.computeStyle(D,L,Qu))})});const y=Nh(u.map(E=>{const D=h.get(E.element);return this._buildPlayer(E,new Map,D)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function fG(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=Q1(e,"","","");return K1(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const RP="ng-animate-queued",pA="ng-animate-disabled",_4=[],OP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},y4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xa="__ng_removed";class fA{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function C4(n){return n??null}(i?t.value:t),i){const o=fw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const _w="void",gA=new fA(_w);class v4{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Aa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function gG(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function mG(n){return new s.vHH(3303,!1)}();if(!function E4(n){return"start"==n||"done"==n}(i))throw function _G(n,t){return new s.vHH(3400,!1)}();const o=Ao(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Ao(this._engine.statesByElement,t,new Map);return h.has(e)||(Aa(t,KI),Aa(t,KI+"-"+e),h.set(e,gA)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(u);f>=0&&o.splice(f,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function yG(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new mA(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Aa(t,KI),Aa(t,KI+"-"+e),this._engine.statesByElement.set(t,h=new Map));let f=h.get(e);const y=new fA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&y.absorbOptions(f.options),h.set(e,y),f||(f=gA),y.value!==_w&&f.value===y.value){if(!function S4(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,y.params)){const te=[],re=o.matchStyles(f.value,f.params,te),Pe=o.matchStyles(y.value,y.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{ug(t,re),kc(t,Pe)})}return}const P=Ao(this._engine.playersByElement,t,[]);P.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let L=o.matchTransition(f.value,y.value,t,y.params),B=!1;if(!L){if(!r)return;L=o.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:f,toState:y,player:u,isFallbackTransition:B}),B||(Aa(t,RP),u.onStart(()=>{G_(t,RP)})),u.onDone(()=>{let te=this.players.indexOf(u);te>=0&&this.players.splice(te,1);const re=this._engine.playersByElement.get(t);if(re){let Pe=re.indexOf(u);Pe>=0&&re.splice(Pe,1)}}),this.players.push(u),P.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,YI,!0);i.forEach(r=>{if(r[xa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((f,y)=>{if(u.set(y,f.value),this._triggers.has(y)){const E=this.trigger(t,y,_w,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Nh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const f=this._triggers.get(u).fallbackTransition,y=i.get(u)||gA,E=new fA(_w),D=new mA(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:f,fromState:y,toState:E,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[xa];(!o||o===OP)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Aa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const f=Q1(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,K1(i.player,h.phase,f,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class b4{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new v4(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const f=r.get(h);if(f){const y=i.indexOf(f);i.splice(y+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(aT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!aT(e))return;const o=e[xa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Aa(t,pA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),G_(t,pA))}removeNode(t,e,i,r){if(aT(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[xa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return aT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,YI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,nA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[xa];if(e&&e.setForRemoval){if(t[xa]=OP,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(pA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Aa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Nh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function vG(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new rT,r=[],o=new Map,u=[],h=new Map,f=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(Ct=>{E.add(Ct);const Pt=this.driver.query(Ct,".ng-animate-queued",!0);for(let $t=0;$t<Pt.length;$t++)E.add(Pt[$t])});const D=this.bodyNode,P=Array.from(this.statesByElement.keys()),L=NP(P,this.collectedEnterElements),B=new Map;let te=0;L.forEach((Ct,Pt)=>{const $t=tA+te++;B.set(Pt,$t),Ct.forEach(An=>Aa(An,$t))});const re=[],Pe=new Set,Ze=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Pt=this.collectedLeaveElements[Ct],$t=Pt[xa];$t&&$t.setForRemoval&&(re.push(Pt),Pe.add(Pt),$t.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(An=>Pe.add(An)):Ze.add(Pt))}const et=new Map,Xe=NP(P,Array.from(Pe));Xe.forEach((Ct,Pt)=>{const $t=qI+te++;et.set(Pt,$t),Ct.forEach(An=>Aa(An,$t))}),t.push(()=>{L.forEach((Ct,Pt)=>{const $t=B.get(Pt);Ct.forEach(An=>G_(An,$t))}),Xe.forEach((Ct,Pt)=>{const $t=et.get(Pt);Ct.forEach(An=>G_(An,$t))}),re.forEach(Ct=>{this.processLeaveNode(Ct)})});const _t=[],Dt=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach($t=>{const An=$t.player,xr=$t.element;if(_t.push(An),this.collectedEnterElements.length){const Jr=xr[xa];if(Jr&&Jr.setForMove){if(Jr.previousTriggersValues&&Jr.previousTriggersValues.has($t.triggerName)){const fg=Jr.previousTriggersValues.get($t.triggerName),ka=this.statesByElement.get($t.element);if(ka&&ka.has($t.triggerName)){const yT=ka.get($t.triggerName);yT.value=fg,ka.set($t.triggerName,yT)}}return void An.destroy()}}const Rc=!D||!this.driver.containsElement(D,xr),ko=et.get(xr),Vh=B.get(xr),Ai=this._buildInstruction($t,i,Vh,ko,Rc);if(Ai.errors&&Ai.errors.length)return void Dt.push(Ai);if(Rc)return An.onStart(()=>ug(xr,Ai.fromStyles)),An.onDestroy(()=>kc(xr,Ai.toStyles)),void r.push(An);if($t.isFallbackTransition)return An.onStart(()=>ug(xr,Ai.fromStyles)),An.onDestroy(()=>kc(xr,Ai.toStyles)),void r.push(An);const wF=[];Ai.timelines.forEach(Jr=>{Jr.stretchStartingKeyframe=!0,this.disabledNodes.has(Jr.element)||wF.push(Jr)}),Ai.timelines=wF,i.append(xr,Ai.timelines),u.push({instruction:Ai,player:An,element:xr}),Ai.queriedElements.forEach(Jr=>Ao(h,Jr,[]).push(An)),Ai.preStyleProps.forEach((Jr,fg)=>{if(Jr.size){let ka=f.get(fg);ka||f.set(fg,ka=new Set),Jr.forEach((yT,DA)=>ka.add(DA))}}),Ai.postStyleProps.forEach((Jr,fg)=>{let ka=y.get(fg);ka||y.set(fg,ka=new Set),Jr.forEach((yT,DA)=>ka.add(DA))})});if(Dt.length){const Ct=[];Dt.forEach(Pt=>{Ct.push(function bG(n,t){return new s.vHH(3505,!1)}())}),_t.forEach(Pt=>Pt.destroy()),this.reportError(Ct)}const cn=new Map,mi=new Map;u.forEach(Ct=>{const Pt=Ct.element;i.has(Pt)&&(mi.set(Pt,Pt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,cn))}),r.forEach(Ct=>{const Pt=Ct.element;this._getPreviousPlayers(Pt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(An=>{Ao(cn,Pt,[]).push(An),An.destroy()})});const qi=re.filter(Ct=>VP(Ct,f,y)),Is=new Map;FP(Is,this.driver,Ze,y,Qu).forEach(Ct=>{VP(Ct,f,y)&&qi.push(Ct)});const Iw=new Map;L.forEach((Ct,Pt)=>{FP(Iw,this.driver,new Set(Ct),f,"!")}),qi.forEach(Ct=>{const Pt=Is.get(Ct),$t=Iw.get(Ct);Is.set(Ct,new Map([...Array.from(Pt?.entries()??[]),...Array.from($t?.entries()??[])]))});const pg=[],vF=[],bF={};u.forEach(Ct=>{const{element:Pt,player:$t,instruction:An}=Ct;if(i.has(Pt)){if(E.has(Pt))return $t.onDestroy(()=>kc(Pt,An.toStyles)),$t.disabled=!0,$t.overrideTotalTime(An.totalTime),void r.push($t);let xr=bF;if(mi.size>1){let ko=Pt;const Vh=[];for(;ko=ko.parentNode;){const Ai=mi.get(ko);if(Ai){xr=Ai;break}Vh.push(ko)}Vh.forEach(Ai=>mi.set(Ai,xr))}const Rc=this._buildAnimation($t.namespaceId,An,cn,o,Iw,Is);if($t.setRealPlayer(Rc),xr===bF)pg.push($t);else{const ko=this.playersByElement.get(xr);ko&&ko.length&&($t.parentPlayer=Nh(ko)),r.push($t)}}else ug(Pt,An.fromStyles),$t.onDestroy(()=>kc(Pt,An.toStyles)),vF.push($t),E.has(Pt)&&r.push($t)}),vF.forEach(Ct=>{const Pt=o.get(Ct.element);if(Pt&&Pt.length){const $t=Nh(Pt);Ct.setRealPlayer($t)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<re.length;Ct++){const Pt=re[Ct],$t=Pt[xa];if(G_(Pt,qI),$t&&$t.hasAnimation)continue;let An=[];if(h.size){let Rc=h.get(Pt);Rc&&Rc.length&&An.push(...Rc);let ko=this.driver.query(Pt,nA,!0);for(let Vh=0;Vh<ko.length;Vh++){let Ai=h.get(ko[Vh]);Ai&&Ai.length&&An.push(...Ai)}}const xr=An.filter(Rc=>!Rc.destroyed);xr.length?I4(this,Pt,xr):this.processLeaveNode(Pt)}return re.length=0,pg.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Pt=this.players.indexOf(Ct);this.players.splice(Pt,1)}),Ct.play()}),pg}elementContainsData(t,e){let i=!1;const r=e[xa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const f=!o||o==_w;h.forEach(y=>{y.queued||!f&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const y=f.element,E=y!==o,D=Ao(i,y,[]);this._getPreviousPlayers(y,E,u,h,e.toState).forEach(L=>{const B=L.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),L.destroy(),D.push(L)})}ug(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,f=e.element,y=[],E=new Set,D=new Set,P=e.timelines.map(B=>{const te=B.element;E.add(te);const re=te[xa];if(re&&re.removedBeforeQueried)return new uw(B.duration,B.delay);const Pe=te!==f,Ze=function T4(n){const t=[];return LP(n,t),t}((i.get(te)||_4).map(cn=>cn.getRealPlayer())).filter(cn=>!!cn.element&&cn.element===te),et=o.get(te),Xe=u.get(te),_t=cP(0,this._normalizer,0,B.keyframes,et,Xe),Dt=this._buildPlayer(B,_t,Ze);if(B.subTimeline&&r&&D.add(te),Pe){const cn=new mA(t,h,te);cn.setRealPlayer(Dt),y.push(cn)}return Dt});y.forEach(B=>{Ao(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function w4(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,B.element,B))}),E.forEach(B=>Aa(B,yP));const L=Nh(P);return L.onDestroy(()=>{E.forEach(B=>G_(B,yP)),kc(f,e.toStyles)}),D.forEach(B=>{Ao(r,B,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new uw(t.duration,t.delay)}}class mA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new uw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>K1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ao(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function aT(n){return n&&1===n.nodeType}function PP(n,t){const e=n.style.display;return n.style.display=t??"none",e}function FP(n,t,e,i,r){const o=[];e.forEach(f=>o.push(PP(f)));const u=[];i.forEach((f,y)=>{const E=new Map;f.forEach(D=>{const P=t.computeStyle(y,D,r);E.set(D,P),(!P||0==P.length)&&(y[xa]=y4,u.push(y))}),n.set(y,E)});let h=0;return e.forEach(f=>PP(f,o[h++])),u}function NP(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let f=o.get(h);if(f)return f;const y=h.parentNode;return f=e.has(y)?y:r.has(y)?1:u(y),o.set(h,f),f}return t.forEach(h=>{const f=u(h);1!==f&&e.get(f).push(h)}),e}function Aa(n,t){n.classList?.add(t)}function G_(n,t){n.classList?.remove(t)}function I4(n,t,e){Nh(e).onDone(()=>n.processLeaveNode(t))}function LP(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof SO?LP(i.players,t):t.push(i)}}function VP(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class lT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new b4(t,e,i),this._timelineEngine=new h4(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const f=[],E=oA(this._driver,o,f,[]);if(f.length)throw function cG(n,t){return new s.vHH(3404,!1)}();h=function l4(n,t,e){return new c4(n,t,e)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=uP(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=uP(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let x4=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kc(this._element,this._initialStyles),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ug(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ug(this._element,this._endStyles),this._endStyles=null),kc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _A(n){let t=null;return n.forEach((e,i)=>{(function A4(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class BP{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:IP(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class M4{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return fP(t,e)}getParentElement(t){return X1(t)}query(t,e,i){return gP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const y=new Map,E=u.filter(L=>L instanceof BP);(function OG(n,t){return 0===n||0===t})(i,r)&&E.forEach(L=>{L.currentSnapshot.forEach((B,te)=>y.set(te,B))});let D=function AG(n){return n.length?n[0]instanceof Map?n:n.map(t=>vP(t)):[]}(e).map(L=>Lh(L));D=function PG(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,IP(n,h)))}}return t}(t,D,y);const P=function D4(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=_A(t[0]),t.length>1&&(i=_A(t[t.length-1]))):t instanceof Map&&(e=_A(t)),e||i?new x4(n,e,i):null}(t,D);return new BP(t,D,f,P)}}let k4=(()=>{class n extends bO{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?wO(e):e;return UP(this._renderer,null,i,"register",[r]),new R4(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class R4 extends class vV{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new O4(this._id,t,e||{},this._renderer)}}class O4{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return UP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function UP(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const HP="@.disabled";let P4=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(o);return E||(E=new zP("",o,this.engine),this._rendererCache.set(o,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const f=E=>{Array.isArray(E)?E.forEach(f):this.engine.registerTrigger(u,h,e,E.name,E)};return i.data.animation.forEach(f),new F4(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(lT),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class zP{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==HP?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class F4 extends zP{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==HP?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function N4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function L4(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let V4=(()=>{class n extends lT{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(eA),s.LFG(dA),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jP=[{provide:bO,useClass:k4},{provide:dA,useFactory:function B4(){return new r4}},{provide:lT,useClass:V4},{provide:s.FYo,useFactory:function U4(n,t,e){return new P4(n,t,e)},deps:[qa,lT,s.R0b]}],yA=[{provide:eA,useFactory:()=>new M4},{provide:s.QbO,useValue:"BrowserAnimations"},...jP],$P=[{provide:eA,useClass:mP},{provide:s.QbO,useValue:"NoopAnimations"},...jP];let H4=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?$P:yA}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:yA,imports:[no]}),n})();var GP=N(4408);const yw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=yw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Os.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=yw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=yw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var WP=N(7565);const ZP=new class j4 extends WP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class z4 extends GP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=yw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(yw.cancelAnimationFrame(e),t._scheduled=void 0)}});let vA,$4=1;const uT={};function qP(n){return n in uT&&(delete uT[n],!0)}const G4={setImmediate(n){const t=$4++;return uT[t]=!0,vA||(vA=Promise.resolve()),vA.then(()=>qP(t)&&n()),t},clearImmediate(n){qP(n)}},{setImmediate:W4,clearImmediate:Z4}=G4,dT={setImmediate(...n){const{delegate:t}=dT;return(t?.setImmediate||W4)(...n)},clearImmediate(n){const{delegate:t}=dT;return(t?.clearImmediate||Z4)(n)},delegate:void 0};new class K4 extends WP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class q4 extends GP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=dT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(dT.clearImmediate(e),t._scheduled=void 0)}});var J4=N(3532);function KP(n=0,t,e=Rp.P){let i=-1;return null!=t&&((0,J4.K)(t)?e=t:i=t),new hi.y(r=>{let o=function X4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}let bA;try{bA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bA=!1}let vw,wA,tW=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function yr(n){return n===_r}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bw(n){return function nW(){if(null==vw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vw=!0}))}finally{vw=vw||!1}return vw}()?n:!!n.capture}function QP(n){if(function iW(){if(null==wA){const n=typeof document<"u"?document.head:null;wA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return wA}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function pT(n){return n.composedPath?n.composedPath()[0]:n.target}let sW=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Qt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function eW(n,t=Rp.z){return function Q4(n){return(0,Fn.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}u&&e.complete()},f=()=>{o=null,u&&e.complete()};t.subscribe((0,Xn.x)(e,y=>{i=!0,r=y,o||(0,hs.Xf)(n(y)).subscribe(o=(0,Xn.x)(e,h,f))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>KP(n,t))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tW),s.LFG(s.R0b),s.LFG(ve,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Ma(n){return n instanceof s.SBq?n.nativeElement:n}var TW=N(5032);function CA(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Z_(n,t){const e=t?"":"none";CA(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function tF(n,t,e){CA(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function fT(n,t){return t&&"none"!=t?n+" "+t:n}function nF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function EA(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function IA(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function TA(n,t,e){const{top:i,bottom:r,left:o,right:u}=n;return e>=i&&e<=r&&t>=o&&t<=u}function ww(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function iF(n,t,e,i){const{top:r,right:o,bottom:u,left:h,width:f,height:y}=n,E=f*t,D=y*t;return i>r-D&&i<u+D&&e>h-E&&e<o+E}class rF{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:IA(e)})})}handleScroll(t){const e=pT(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,u;if(e===this._document){const y=this.getViewportScrollPosition();o=y.top,u=y.left}else o=e.scrollTop,u=e.scrollLeft;const h=r.top-o,f=r.left-u;return this.positions.forEach((y,E)=>{y.clientRect&&e!==E&&e.contains(E)&&ww(y.clientRect,h,f)}),r.top=o,r.left=u,{top:h,left:f}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function sF(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?lF(n,t):("input"===i||"select"===i||"textarea"===i)&&aF(n,t),oF("canvas",n,t,lF),oF("input, textarea, select",n,t,aF),t}function oF(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let u=0;u<r.length;u++)i(r[u],o[u])}}let xW=0;function aF(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${xW++}`)}function lF(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const cF=bw({passive:!0}),gT=bw({passive:!1}),SA=new Set(["position"]);class MW{constructor(t,e,i,r,o,u){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Qt.x,this._pointerMoveSubscription=Os.w0.EMPTY,this._pointerUpSubscription=Os.w0.EMPTY,this._scrollSubscription=Os.w0.EMPTY,this._resizeSubscription=Os.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Qt.x,this.started=new Qt.x,this.released=new Qt.x,this.ended=new Qt.x,this.entered=new Qt.x,this.exited=new Qt.x,this.dropped=new Qt.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const f=this._getTargetHandle(h);f&&!this._disabledHandles.has(f)&&!this.disabled&&this._initializeDragSequence(f,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const f=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(f.x-this._pickupPositionOnPage.x)+Math.abs(f.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const L=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),B=this._dropContainer;if(!L)return void this._endDragSequence(h);(!B||!B.isDragging()&&!B.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const y=this._getConstrainedPointerPosition(f);if(this._hasMoved=!0,this._lastKnownPointerPosition=f,this._updatePointerDirectionDelta(y),this._dropContainer)this._updateActiveDropContainer(y,f);else{const E=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,D=this._activeTransform;D.x=y.x-E.x+this._passiveTransform.x,D.y=y.y-E.y+this._passiveTransform.y,this._applyRootElementTransform(D.x,D.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:y,event:h,distance:this._getDragDistance(y),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const f=this._getTargetHandle(h);f&&!this._disabledHandles.has(f)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new rF(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=function aW(n){return null!=n&&"false"!=`${n}`}(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Z_(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Ma(i)),this._handles.forEach(i=>Z_(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Ma(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,gT),e.addEventListener("touchstart",this._pointerDown,cF),e.addEventListener("dragstart",this._nativeDragStart,gT)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Ma(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Z_(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Z_(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Cw(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),tF(i,!1,SA),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Cw(e),o=!r&&0!==e.button,u=this._rootElement,h=pT(e),f=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),y=r?function CW(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function wW(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||f||y)return;if(this._handles.length){const P=u.style;this._rootElementTapHighlight=P.webkitTapHighlightColor||"",P.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(P=>this._updateOnScroll(P)),this._boundaryElement&&(this._boundaryRect=IA(this._boundaryElement));const E=this._previewTemplate;this._pickupPositionInElement=E&&E.template&&!E.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const D=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:D.x,y:D.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){tF(this._rootElement,!0,SA),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),u=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,u,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),r=dF(u,this._document),this._previewRef=u,t.matchSize?hF(r,o):r.style.transform=mT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=sF(this._rootElement),hF(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return CA(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},SA),Z_(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function DW(n){const t=getComputedStyle(n),e=EA(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const r=e.indexOf(i),o=EA(t,"transition-duration"),u=EA(t,"transition-delay");return nF(o[r])+nF(u[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=u=>{(!u||pT(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=dF(this._placeholderRef,this._document)):i=sF(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,u=Cw(i)?i.targetTouches[0]:i,h=this._getViewportScrollPosition();return{x:o.left-t.left+(u.pageX-o.left-h.left),y:o.top-t.top+(u.pageY-o.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Cw(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=o,h.matrixTransform(u.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:u}=this._pickupPositionInElement,h=this._boundaryRect,{width:f,height:y}=this._getPreviewRect(),E=h.top+u,D=h.bottom-(y-u);i=uF(i,h.left+o,h.right-(f-o)),r=uF(r,E,D)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-o.x),h=Math.abs(i-o.y);return u>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),h>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Z_(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,gT),t.removeEventListener("touchstart",this._pointerDown,cF),t.removeEventListener("dragstart",this._nativeDragStart,gT)}_applyRootElementTransform(t,e){const i=mT(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=fT(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=mT(t,e);this._preview.style.transform=fT(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,u=i.right-r.right,h=r.top-i.top,f=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),u>0&&(t-=u)):t=0,r.height>i.height?(h>0&&(e+=h),f>0&&(e-=f)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Cw(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=pT(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&ww(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=QP(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Ma(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function mT(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function uF(n,t,e){return Math.max(t,Math.min(e,n))}function Cw(n){return"t"===n.type[0]}function dF(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function hF(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=mT(t.left,t.top)}function Ew(n,t){return Math.max(0,Math.min(t,n))}class RW{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===u&&o.length>0)return null;const h="horizontal"===this.orientation,f=o.findIndex(re=>re.drag===t),y=o[u],D=y.clientRect,P=f>u?1:-1,L=this._getItemOffsetPx(o[f].clientRect,D,P),B=this._getSiblingOffsetPx(f,o,P),te=o.slice();return function kW(n,t,e){const i=Ew(t,n.length-1),r=Ew(e,n.length-1);if(i===r)return;const o=n[i],u=r<i?-1:1;for(let h=i;h!==r;h+=u)n[h]=n[h+u];n[r]=o}(o,f,u),o.forEach((re,Pe)=>{if(te[Pe]===re)return;const Ze=re.drag===t,et=Ze?L:B,Xe=Ze?t.getPlaceholderElement():re.drag.getRootElement();re.offset+=et,h?(Xe.style.transform=fT(`translate3d(${Math.round(re.offset)}px, 0, 0)`,re.initialTransform),ww(re.clientRect,0,et)):(Xe.style.transform=fT(`translate3d(0, ${Math.round(re.offset)}px, 0)`,re.initialTransform),ww(re.clientRect,et,0))}),this._previousSwap.overlaps=TA(D,e,i),this._previousSwap.drag=y.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:f,currentIndex:u}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,u=this._activeDraggables,h=u.indexOf(t),f=t.getPlaceholderElement();let y=u[o];if(y===t&&(y=u[o+1]),!y&&(null==o||-1===o||o<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(y=u[0]),h>-1&&u.splice(h,1),y&&!this._dragDropRegistry.isDragging(y)){const E=y.getRootElement();E.parentElement.insertBefore(f,E),u.splice(o,0,t)}else Ma(this._element).appendChild(f),u.push(t);f.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{ww(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:IA(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,u=e[t+-1*i];let h=o[r?"width":"height"]*i;if(u){const f=r?"left":"top",y=r?"right":"bottom";-1===i?h-=u.clientRect[f]-o[y]:h+=o[f]-u.clientRect[y]}return h}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return r?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return r?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:f})=>{if(h===t)return!1;if(r){const y=o?r.x:r.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&y===this._previousSwap.delta)return!1}return o?e>=Math.floor(f.left)&&e<Math.floor(f.right):i>=Math.floor(f.top)&&i<Math.floor(f.bottom)});return-1!==u&&this._sortPredicate(u,t)?u:-1}}class OW{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Qt.x,this.entered=new Qt.x,this.exited=new Qt.x,this.dropped=new Qt.x,this.sorted=new Qt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Os.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Qt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function IW(n=0,t=Rp.z){return n<0&&(n=0),KP(n,n,t)}(0,ZP).pipe(function SW(n){return(0,Fn.e)((t,e)=>{(0,hs.Xf)(n).subscribe((0,Xn.x)(e,()=>e.complete(),TW.Z)),!e.closed&&t.subscribe(e)})}(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=Ma(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new rF(i),this._sortStrategy=new RW(this.element,e),this._sortStrategy.withSortPredicate((u,h)=>this.sortPredicate(u,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,u,h,f={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:u,dropPoint:h,event:f})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Ma(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!iF(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||iF(u.clientRect,.05,t,e)&&([r,o]=function PW(n,t,e,i){const r=gF(t,i),o=mF(t,e);let u=0,h=0;if(r){const f=n.scrollTop;1===r?f>0&&(u=1):n.scrollHeight-f>n.clientHeight&&(u=2)}if(o){const f=n.scrollLeft;1===o?f>0&&(h=1):n.scrollWidth-f>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(r||o)&&(i=h))}),!r&&!o){const{width:u,height:h}=this._viewportRuler.getViewportSize(),f={width:u,height:h,top:0,right:u,bottom:h,left:0};r=gF(f,e),o=mF(f,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Ma(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Ma(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Ma(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&TA(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!TA(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Ma(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=QP(Ma(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function gF(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function mF(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const _T=bw({passive:!1,capture:!0});let FW=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Qt.x,this.pointerUp=new Qt.x,this.scroll=new Qt.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,_T)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,_T)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:_T}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:_T}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,u)=>{this._document.addEventListener(u,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new hi.y(r=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&r.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,uk.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NW={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let LW=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=NW){return new MW(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new OW(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(s.R0b),s.LFG(sW),s.LFG(FW))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[LW],imports:[oW]}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dn,kh,Dr,Ol,_F,Dr,_F]}),n})(),XW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[zj]}),n.\u0275inj=s.cJS({providers:[Rl,rg],imports:[no,i$,V6,fa.hO.initializeApp(H1_firebase),_2(()=>y2()),KN(()=>YN(H1_firebase)),YL,kh,A1,xj,o$,d$,U$,H$,$z,v6,H4,Y6,UI,BU,JW,zI,_V,Nj]}),n})();(0,s.G48)(),Ja().bootstrapModule(XW).catch(n=>console.error(n))},5867:(mt,Oe,N)=>{N.d(Oe,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=N(9681);(0,s.registerVersion)("firebase","9.10.0","app")},127:(mt,Oe,N)=>{N.d(Oe,{Z:()=>s.Z});var s=N(3942);s.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(mt,Oe,N)=>{N.r(Oe);var s=N(5861),H=N(3942),O=N(7143),ue=N(2090),ve=(N(9681),N(1877),N(4859));function _e(){return window}function W(){return(W=(0,s.Z)(function*(se,j,G){var Ie;const{BuildInfo:Ye}=_e();(0,O.aq)(j.sessionId,"AuthEvent did not contain a session ID");const It=yield be(j.sessionId),At={};return(0,O.ar)()?At.ibi=Ye.packageName:(0,O.as)()?At.apn=Ye.packageName:(0,O.at)(se,"operation-not-supported-in-this-environment"),Ye.displayName&&(At.appDisplayName=Ye.displayName),At.sessionId=It,(0,O.au)(se,G,j.type,void 0,null!==(Ie=j.eventId)&&void 0!==Ie?Ie:void 0,At)})).apply(this,arguments)}function Ge(){return(Ge=(0,s.Z)(function*(se){const{BuildInfo:j}=_e(),G={};(0,O.ar)()?G.iosBundleId=j.packageName:(0,O.as)()?G.androidPackageName=j.packageName:(0,O.at)(se,"operation-not-supported-in-this-environment"),yield(0,O.av)(se,G)})).apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(se,j,G){const{cordova:Ie}=_e();let Ye=()=>{};try{yield new Promise((It,At)=>{let Be=null;function lt(){var Gt;It();const En=null===(Gt=Ie.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof En&&En(),"function"==typeof G?.close&&G.close()}function on(){Be||(Be=window.setTimeout(()=>{At((0,O.aw)(se,"redirect-cancelled-by-user"))},2e3))}function Un(){"visible"===document?.visibilityState&&on()}j.addPassiveListener(lt),document.addEventListener("resume",on,!1),(0,O.as)()&&document.addEventListener("visibilitychange",Un,!1),Ye=()=>{j.removePassiveListener(lt),document.removeEventListener("resume",on,!1),document.removeEventListener("visibilitychange",Un,!1),Be&&window.clearTimeout(Be)}})}finally{Ye()}})).apply(this,arguments)}function be(se){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(se){const j=st(se),G=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(G)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function st(se){if((0,O.aq)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(se);const j=new ArrayBuffer(se.length),G=new Uint8Array(j);for(let Ie=0;Ie<se.length;Ie++)G[Ie]=se.charCodeAt(Ie);return G}class Fe extends O.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(j)),super.onEvent(j)}initialized(){var j=this;return(0,s.Z)(function*(){yield j.initPromise})()}}function ce(se){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(se){const j=yield ie()._get(ye(se));return j&&(yield ie()._remove(ye(se))),j})).apply(this,arguments)}function ee(){const se=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let G=0;G<20;G++){const Ie=Math.floor(Math.random()*j.length);se.push(j.charAt(Ie))}return se.join("")}function ie(){return(0,O.ay)(O.b)}function ye(se){return(0,O.az)("authEvent",se.config.apiKey,se.name)}function je(se){if(!se?.includes("?"))return{};const[j,...G]=se.split("?");return(0,ue.zd)(G.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function Xt(){var se;return(null===(se=self?.location)||void 0===se?void 0:se.protocol)||null}function Mi(se=(0,ue.z$)()){return!("file:"!==Xt()&&"ionic:"!==Xt()&&"capacitor:"!==Xt()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fr(){try{const se=self.localStorage,j=O.aI();if(se)return se.setItem(j,"1"),se.removeItem(j),!function Xr(se=(0,ue.z$)()){return function ki(){return(0,ue.w1)()&&11===document?.documentMode}()||function Bn(se=(0,ue.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,ue.hl)()}catch{return rr()&&(0,ue.hl)()}return!1}function rr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function qt(){return"http:"===Xt()||"https:"===Xt()}()||(0,ue.ru)()||Mi())&&!function Ro(){return(0,ue.b$)()||(0,ue.UG)()}()&&Fr()&&!rr()}function Nr(){return Mi()&&typeof document<"u"}function at(){return(at=(0,s.Z)(function*(){return!!Nr()&&new Promise(se=>{const j=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),se(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},Cn=O.ax,Ri="persistence";function kn(se){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(se){yield se._initializationPromise;const j=yt(),G=O.az(Ri,se.config.apiKey,se.name);j&&j.setItem(G,se._getPersistence())})).apply(this,arguments)}function yt(){var se;try{return(null===(se=function Ci(){return typeof window<"u"?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch{return null}}const bt=O.ax;class Ht{constructor(){this.browserResolver=O.ay(O.k),this.cordovaResolver=O.ay(class un{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(j){var G=this;return(0,s.Z)(function*(){const Ie=j._key();let Ye=G.eventManagers.get(Ie);return Ye||(Ye=new Fe(j),G.eventManagers.set(Ie,Ye),G.attachCallbackListeners(j,Ye)),Ye})()}_openPopup(j){(0,O.at)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,G,Ie,Ye){var It=this;return(0,s.Z)(function*(){!function Te(se){var j,G,Ie,Ye,It,At,Be,lt,on,Un;const Gt=_e();(0,O.ax)("function"==typeof(null===(j=Gt?.universalLinks)||void 0===j?void 0:j.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(G=Gt?.BuildInfo)||void 0===G?void 0:G.packageName)<"u",se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(It=null===(Ye=null===(Ie=Gt?.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===It?void 0:It.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(lt=null===(Be=null===(At=Gt?.cordova)||void 0===At?void 0:At.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===lt?void 0:lt.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(Un=null===(on=Gt?.cordova)||void 0===on?void 0:on.InAppBrowser)||void 0===Un?void 0:Un.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const At=yield It._initialize(j);yield At.initialized(),At.resetRedirect(),(0,O.aD)(),yield It._originValidation(j);const Be=function ke(se,j,G=null){return{type:j,eventId:G,urlResponse:null,sessionId:ee(),postBody:null,tenantId:se.tenantId,error:(0,O.aw)(se,"no-auth-event")}}(j,Ie,Ye);yield function Qe(se,j){return ie()._set(ye(se),j)}(j,Be);const lt=yield function q(se,j,G){return W.apply(this,arguments)}(j,Be,G),on=yield function Ve(se){const{cordova:j}=_e();return new Promise(G=>{j.plugins.browsertab.isAvailable(Ie=>{let Ye=null;Ie?j.plugins.browsertab.openUrl(se):Ye=j.InAppBrowser.open(se,(0,O.ap)()?"_blank":"_system","location=yes"),G(Ye)})})}(lt);return function Ae(se,j,G){return ct.apply(this,arguments)}(j,At,on)})()}_isIframeWebStorageSupported(j,G){throw new Error("Method not implemented.")}_originValidation(j){const G=j._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function ne(se){return Ge.apply(this,arguments)}(j)),this.originValidationPromises[G]}attachCallbackListeners(j,G){const{universalLinks:Ie,handleOpenURL:Ye,BuildInfo:It}=_e(),At=setTimeout((0,s.Z)(function*(){yield ce(j),G.onEvent(Je())}),500),Be=function(){var Un=(0,s.Z)(function*(Gt){clearTimeout(At);const En=yield ce(j);let ts=null;En&&Gt?.url&&(ts=function Ee(se,j){var G,Ie;const Ye=function ze(se){const j=je(se),G=j.link?decodeURIComponent(j.link):void 0,Ie=je(G).link,Ye=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return je(Ye).link||Ye||Ie||G||se}(j);if(Ye.includes("/__/auth/callback")){const It=je(Ye),At=It.firebaseError?function de(se){try{return JSON.parse(se)}catch{return null}}(decodeURIComponent(It.firebaseError)):null,Be=null===(Ie=null===(G=At?.code)||void 0===G?void 0:G.split("auth/"))||void 0===Ie?void 0:Ie[1],lt=Be?(0,O.aw)(Be):null;return lt?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:lt,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:Ye,postBody:null}}return null}(En,Gt.url)),G.onEvent(ts||Je())});return function(En){return Un.apply(this,arguments)}}();typeof Ie<"u"&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,Be);const lt=Ye,on=`${It.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var Un=(0,s.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(on)&&Be({url:Gt}),"function"==typeof lt)try{lt(Gt)}catch(En){console.error(En)}});return function(Gt){return Un.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(j){var G=this;return(0,s.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,G,Ie,Ye){var It=this;return(0,s.Z)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openPopup(j,G,Ie,Ye)})()}_openRedirect(j,G,Ie,Ye){var It=this;return(0,s.Z)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openRedirect(j,G,Ie,Ye)})()}_isIframeWebStorageSupported(j,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,G)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,s.Z)(function*(){if(j.underlyingResolver)return;const G=yield function Lr(){return at.apply(this,arguments)}();j.underlyingResolver=G?j.cordovaResolver:j.browserResolver})()}}function Ki(se){return se.unwrap()}function Oi(se){return Ui(se)}function Ui(se){const{_tokenResponse:j}=se instanceof ue.ZR?se.customData:se;if(!j)return null;if(!(se instanceof ue.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return O.P.credentialFromResult(se);const G=j.providerId;if(!G||G===O.o.PASSWORD)return null;let Ie;switch(G){case O.o.GOOGLE:Ie=O.Q;break;case O.o.FACEBOOK:Ie=O.N;break;case O.o.GITHUB:Ie=O.T;break;case O.o.TWITTER:Ie=O.W;break;default:const{oauthIdToken:Ye,oauthAccessToken:It,oauthTokenSecret:At,pendingToken:Be,nonce:lt}=j;return It||At||Ye||Be?Be?G.startsWith("saml.")?O.aL._create(G,Be):O.J._fromParams({providerId:G,signInMethod:G,pendingToken:Be,idToken:Ye,accessToken:It}):new O.U(G).credential({idToken:Ye,accessToken:It,rawNonce:lt}):null}return se instanceof ue.ZR?Ie.credentialFromError(se):Ie.credentialFromResult(se)}function zt(se,j){return j.catch(G=>{throw G instanceof ue.ZR&&function kt(se,j){var G,Ie;const Ye=null===(G=j.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ie=j)||void 0===Ie?void 0:Ie.code))j.resolver=new J(se,O.an(se,j));else if(Ye){const It=Ui(j),At=j;It&&(At.credential=It,At.tenantId=Ye.tenantId||void 0,At.email=Ye.email||void 0,At.phoneNumber=Ye.phoneNumber||void 0)}}(se,G),G}).then(G=>{const Ye=G.user;return{operationType:G.operationType,credential:Oi(G),additionalUserInfo:O.al(G),user:$.getOrCreate(Ye)}})}function sr(se,j){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(se,j){const G=yield j;return{verificationId:G.verificationId,confirm:Ie=>zt(se,G.confirm(Ie))}})).apply(this,arguments)}class J{constructor(j,G){this.resolver=G,this.auth=function Ei(se){return se.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return zt(Ki(this.auth),this.resolver.resolveSignIn(j))}}class ${constructor(j){this._delegate=j,this.multiFactor=O.ao(j)}static getOrCreate(j){return $.USER_MAP.has(j)||$.USER_MAP.set(j,new $(j)),$.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var G=this;return(0,s.Z)(function*(){return zt(G.auth,O.Z(G._delegate,j))})()}linkWithPhoneNumber(j,G){var Ie=this;return(0,s.Z)(function*(){return sr(Ie.auth,O.l(Ie._delegate,j,G))})()}linkWithPopup(j){var G=this;return(0,s.Z)(function*(){return zt(G.auth,O.d(G._delegate,j,Ht))})()}linkWithRedirect(j){var G=this;return(0,s.Z)(function*(){return yield kn(O.aE(G.auth)),O.g(G._delegate,j,Ht)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var G=this;return(0,s.Z)(function*(){return zt(G.auth,O._(G._delegate,j))})()}reauthenticateWithPhoneNumber(j,G){return sr(this.auth,O.r(this._delegate,j,G))}reauthenticateWithPopup(j){return zt(this.auth,O.e(this._delegate,j,Ht))}reauthenticateWithRedirect(j){var G=this;return(0,s.Z)(function*(){return yield kn(O.aE(G.auth)),O.h(G._delegate,j,Ht)})()}sendEmailVerification(j){return O.ab(this._delegate,j)}unlink(j){var G=this;return(0,s.Z)(function*(){return yield O.ak(G._delegate,j),G})()}updateEmail(j){return O.ag(this._delegate,j)}updatePassword(j){return O.ah(this._delegate,j)}updatePhoneNumber(j){return O.u(this._delegate,j)}updateProfile(j){return O.af(this._delegate,j)}verifyBeforeUpdateEmail(j,G){return O.ac(this._delegate,j,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const z=O.ax;let K=(()=>{class se{constructor(G,Ie){if(this.app=G,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=G.options;z(Ye,"invalid-api-key",{appName:G.name}),z(Ye,"invalid-api-key",{appName:G.name});const It=typeof window<"u"?Ht:void 0;this._delegate=Ie.initialize({options:{persistence:Re(Ye,G.name),popupRedirectResolver:It}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,Ie){O.G(this._delegate,G,Ie)}applyActionCode(G){return O.a2(this._delegate,G)}checkActionCode(G){return O.a3(this._delegate,G)}confirmPasswordReset(G,Ie){return O.a1(this._delegate,G,Ie)}createUserWithEmailAndPassword(G,Ie){var Ye=this;return(0,s.Z)(function*(){return zt(Ye._delegate,O.a5(Ye._delegate,G,Ie))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return O.aa(this._delegate,G)}isSignInWithEmailLink(G){return O.a8(this._delegate,G)}getRedirectResult(){var G=this;return(0,s.Z)(function*(){z(qn(),G._delegate,"operation-not-supported-in-this-environment");const Ie=yield O.j(G._delegate,Ht);return Ie?zt(G._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function Sn(se,j){(0,O.aE)(se)._logFramework(j)}(this._delegate,G)}onAuthStateChanged(G,Ie,Ye){const{next:It,error:At,complete:Be}=Y(G,Ie,Ye);return this._delegate.onAuthStateChanged(It,At,Be)}onIdTokenChanged(G,Ie,Ye){const{next:It,error:At,complete:Be}=Y(G,Ie,Ye);return this._delegate.onIdTokenChanged(It,At,Be)}sendSignInLinkToEmail(G,Ie){return O.a7(this._delegate,G,Ie)}sendPasswordResetEmail(G,Ie){return O.a0(this._delegate,G,Ie||void 0)}setPersistence(G){var Ie=this;return(0,s.Z)(function*(){let Ye;switch(function es(se,j){Cn(Object.values(Kn).includes(j),se,"invalid-persistence-type"),(0,ue.b$)()?Cn(j!==Kn.SESSION,se,"unsupported-persistence-type"):(0,ue.UG)()?Cn(j===Kn.NONE,se,"unsupported-persistence-type"):rr()?Cn(j===Kn.NONE||j===Kn.LOCAL&&(0,ue.hl)(),se,"unsupported-persistence-type"):Cn(j===Kn.NONE||Fr(),se,"unsupported-persistence-type")}(Ie._delegate,G),G){case Kn.SESSION:Ye=O.a;break;case Kn.LOCAL:Ye=(yield O.ay(O.i)._isAvailable())?O.i:O.b;break;case Kn.NONE:Ye=O.L;break;default:return O.at("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return zt(this._delegate,O.X(this._delegate))}signInWithCredential(G){return zt(this._delegate,O.Y(this._delegate,G))}signInWithCustomToken(G){return zt(this._delegate,O.$(this._delegate,G))}signInWithEmailAndPassword(G,Ie){return zt(this._delegate,O.a6(this._delegate,G,Ie))}signInWithEmailLink(G,Ie){return zt(this._delegate,O.a9(this._delegate,G,Ie))}signInWithPhoneNumber(G,Ie){return sr(this._delegate,O.s(this._delegate,G,Ie))}signInWithPopup(G){var Ie=this;return(0,s.Z)(function*(){return z(qn(),Ie._delegate,"operation-not-supported-in-this-environment"),zt(Ie._delegate,O.c(Ie._delegate,G,Ht))})()}signInWithRedirect(G){var Ie=this;return(0,s.Z)(function*(){return z(qn(),Ie._delegate,"operation-not-supported-in-this-environment"),yield kn(Ie._delegate),O.f(Ie._delegate,G,Ht)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return O.a4(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=Kn,se})();function Y(se,j,G){let Ie=se;"function"!=typeof se&&({next:Ie,error:j,complete:G}=se);const Ye=Ie;return{next:At=>Ye(At&&$.getOrCreate(At)),error:j,complete:G}}function Re(se,j){const G=function Mn(se,j){const G=yt();if(!G)return[];const Ie=O.az(Ri,se,j);switch(G.getItem(Ie)){case Kn.NONE:return[O.L];case Kn.LOCAL:return[O.i,O.a];case Kn.SESSION:return[O.a];default:return[]}}(se,j);if(typeof self<"u"&&!G.includes(O.i)&&G.push(O.i),typeof window<"u")for(const Ie of[O.b,O.a])G.includes(Ie)||G.push(Ie);return G.includes(O.L)||G.push(O.L),G}class qe{constructor(){this.providerId="phone",this._delegate=new O.P(Ki(H.Z.auth()))}static credential(j,G){return O.P.credential(j,G)}verifyPhoneNumber(j,G){return this._delegate.verifyPhoneNumber(j,G)}unwrap(){return this._delegate}}qe.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,qe.PROVIDER_ID=O.P.PROVIDER_ID;const xt=O.ax;class _n{constructor(j,G,Ie=H.Z.app()){var Ye;xt(null===(Ye=Ie.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new O.R(j,G,Ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oi(se){se.INTERNAL.registerComponent(new ve.wA("auth-compat",j=>{const G=j.getProvider("app-compat").getImmediate(),Ie=j.getProvider("auth");return new K(G,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:qe,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:_n,TwitterAuthProvider:O.W,Auth:K,AuthCredential:O.H,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.2.20")}(H.Z)},9751:(mt,Oe,N)=>{N.d(Oe,{y:()=>_e});var s=N(930),H=N(727),O=N(8822),ue=N(9635),fe=N(2416),we=N(576),ve=N(2806);let _e=(()=>{class ne{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Ae=new ne;return Ae.source=this,Ae.operator=Ve,Ae}subscribe(Ve,Ae,ct){const Te=function W(ne){return ne&&ne instanceof s.Lv||function q(ne){return ne&&(0,we.m)(ne.next)&&(0,we.m)(ne.error)&&(0,we.m)(ne.complete)}(ne)&&(0,H.Nn)(ne)}(Ve)?Ve:new s.Hp(Ve,Ae,ct);return(0,ve.x)(()=>{const{operator:be,source:rt}=this;Te.add(be?be.call(Te,rt):rt?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Ae){Ve.error(Ae)}}forEach(Ve,Ae){return new(Ae=Ce(Ae))((ct,Te)=>{const be=new s.Hp({next:rt=>{try{Ve(rt)}catch(st){Te(st),be.unsubscribe()}},error:Te,complete:ct});this.subscribe(be)})}_subscribe(Ve){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Ve)}[O.L](){return this}pipe(...Ve){return(0,ue.U)(Ve)(this)}toPromise(Ve){return new(Ve=Ce(Ve))((Ae,ct)=>{let Te;this.subscribe(be=>Te=be,be=>ct(be),()=>Ae(Te))})}}return ne.create=Ge=>new ne(Ge),ne})();function Ce(ne){var Ge;return null!==(Ge=ne??fe.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(mt,Oe,N)=>{N.d(Oe,{x:()=>ve});var s=N(9751),H=N(727);const ue=(0,N(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=N(8737),we=N(2806);let ve=(()=>{class Ce extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ne=new _e(this,this);return ne.operator=W,ne}_throwIfClosed(){if(this.closed)throw new ue}next(W){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(W)}})}error(W){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ne}=this;for(;ne.length;)ne.shift().error(W)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ne,isStopped:Ge,observers:Ve}=this;return ne||Ge?H.Lc:(this.currentObservers=null,Ve.push(W),new H.w0(()=>{this.currentObservers=null,(0,fe.P)(Ve,W)}))}_checkFinalizedStatuses(W){const{hasError:ne,thrownError:Ge,isStopped:Ve}=this;ne?W.error(Ge):Ve&&W.complete()}asObservable(){const W=new s.y;return W.source=this,W}}return Ce.create=(q,W)=>new _e(q,W),Ce})();class _e extends ve{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ne||ne.call(W,q)}error(q){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ne||ne.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,ne;return null!==(ne=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==ne?ne:H.Lc}}},930:(mt,Oe,N)=>{N.d(Oe,{Hp:()=>ct,Lv:()=>ne});var s=N(576),H=N(727),O=N(2416),ue=N(7849),fe=N(5032);const we=Ce("C",void 0,void 0);function Ce(Ue,Fe,ke){return{kind:Ue,value:Fe,error:ke}}var q=N(3410),W=N(2806);class ne extends H.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,H.Nn)(Fe)&&Fe.add(this)):this.destination=st}static create(Fe,ke,Qe){return new ct(Fe,ke,Qe)}next(Fe){this.isStopped?rt(function _e(Ue){return Ce("N",Ue,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?rt(function ve(Ue){return Ce("E",void 0,Ue)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?rt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ve(Ue,Fe){return Ge.call(Ue,Fe)}class Ae{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Fe)}catch(Qe){Te(Qe)}}error(Fe){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Fe)}catch(Qe){Te(Qe)}else Te(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(ke){Te(ke)}}}class ct extends ne{constructor(Fe,ke,Qe){let ce;if(super(),(0,s.m)(Fe)||!Fe)ce={next:Fe??void 0,error:ke??void 0,complete:Qe??void 0};else{let me;this&&O.v.useDeprecatedNextContext?(me=Object.create(Fe),me.unsubscribe=()=>this.unsubscribe(),ce={next:Fe.next&&Ve(Fe.next,me),error:Fe.error&&Ve(Fe.error,me),complete:Fe.complete&&Ve(Fe.complete,me)}):ce=Fe}this.destination=new Ae(ce)}}function Te(Ue){O.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ue):(0,ue.h)(Ue)}function rt(Ue,Fe){const{onStoppedNotification:ke}=O.v;ke&&q.z.setTimeout(()=>ke(Ue,Fe))}const st={closed:!0,next:fe.Z,error:function be(Ue){throw Ue},complete:fe.Z}},727:(mt,Oe,N)=>{N.d(Oe,{Lc:()=>we,w0:()=>fe,Nn:()=>ve});var s=N(576);const O=(0,N(3888).d)(Ce=>function(W){Ce(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ne,Ge)=>`${Ge+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ue=N(8737);class fe{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ve of W)Ve.remove(this);else W.remove(this);const{initialTeardown:ne}=this;if((0,s.m)(ne))try{ne()}catch(Ve){q=Ve instanceof O?Ve.errors:[Ve]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ve of Ge)try{_e(Ve)}catch(Ae){q=q??[],Ae instanceof O?q=[...q,...Ae.errors]:q.push(Ae)}}if(q)throw new O(q)}}add(q){var W;if(q&&q!==this)if(this.closed)_e(q);else{if(q instanceof fe){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,ue.P)(W,q)}remove(q){const{_finalizers:W}=this;W&&(0,ue.P)(W,q),q instanceof fe&&q._removeParent(this)}}fe.EMPTY=(()=>{const Ce=new fe;return Ce.closed=!0,Ce})();const we=fe.EMPTY;function ve(Ce){return Ce instanceof fe||Ce&&"closed"in Ce&&(0,s.m)(Ce.remove)&&(0,s.m)(Ce.add)&&(0,s.m)(Ce.unsubscribe)}function _e(Ce){(0,s.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(mt,Oe,N)=>{N.d(Oe,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Oe,N)=>{N.d(Oe,{E:()=>H});const H=new(N(9751).y)(fe=>fe.complete())},8996:(mt,Oe,N)=>{N.d(Oe,{D:()=>Fe});var s=N(8421),H=N(5363),O=N(9468),we=N(9751),_e=N(2202),Ce=N(576),q=N(9672);function ne(ke,Qe){if(!ke)throw new Error("Iterable cannot be null");return new we.y(ce=>{(0,q.f)(ce,Qe,()=>{const me=ke[Symbol.asyncIterator]();(0,q.f)(ce,Qe,()=>{me.next().then(Ee=>{Ee.done?ce.complete():ce.next(Ee.value)})},0,!0)})})}var Ge=N(3670),Ve=N(8239),Ae=N(1144),ct=N(6495),Te=N(2206),be=N(4532),rt=N(3260);function Fe(ke,Qe){return Qe?function Ue(ke,Qe){if(null!=ke){if((0,Ge.c)(ke))return function ue(ke,Qe){return(0,s.Xf)(ke).pipe((0,O.R)(Qe),(0,H.Q)(Qe))}(ke,Qe);if((0,Ae.z)(ke))return function ve(ke,Qe){return new we.y(ce=>{let me=0;return Qe.schedule(function(){me===ke.length?ce.complete():(ce.next(ke[me++]),ce.closed||this.schedule())})})}(ke,Qe);if((0,Ve.t)(ke))return function fe(ke,Qe){return(0,s.Xf)(ke).pipe((0,O.R)(Qe),(0,H.Q)(Qe))}(ke,Qe);if((0,Te.D)(ke))return ne(ke,Qe);if((0,ct.T)(ke))return function W(ke,Qe){return new we.y(ce=>{let me;return(0,q.f)(ce,Qe,()=>{me=ke[_e.h](),(0,q.f)(ce,Qe,()=>{let Ee,ee;try{({value:Ee,done:ee}=me.next())}catch(ie){return void ce.error(ie)}ee?ce.complete():ce.next(Ee)},0,!0)}),()=>(0,Ce.m)(me?.return)&&me.return()})}(ke,Qe);if((0,rt.L)(ke))return function st(ke,Qe){return ne((0,rt.Q)(ke),Qe)}(ke,Qe)}throw(0,be.z)(ke)}(ke,Qe):(0,s.Xf)(ke)}},8421:(mt,Oe,N)=>{N.d(Oe,{Xf:()=>Ge});var s=N(655),H=N(1144),O=N(8239),ue=N(9751),fe=N(3670),we=N(2206),ve=N(4532),_e=N(6495),Ce=N(3260),q=N(576),W=N(7849),ne=N(8822);function Ge(Ue){if(Ue instanceof ue.y)return Ue;if(null!=Ue){if((0,fe.c)(Ue))return function Ve(Ue){return new ue.y(Fe=>{const ke=Ue[ne.L]();if((0,q.m)(ke.subscribe))return ke.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,H.z)(Ue))return function Ae(Ue){return new ue.y(Fe=>{for(let ke=0;ke<Ue.length&&!Fe.closed;ke++)Fe.next(Ue[ke]);Fe.complete()})}(Ue);if((0,O.t)(Ue))return function ct(Ue){return new ue.y(Fe=>{Ue.then(ke=>{Fe.closed||(Fe.next(ke),Fe.complete())},ke=>Fe.error(ke)).then(null,W.h)})}(Ue);if((0,we.D)(Ue))return be(Ue);if((0,_e.T)(Ue))return function Te(Ue){return new ue.y(Fe=>{for(const ke of Ue)if(Fe.next(ke),Fe.closed)return;Fe.complete()})}(Ue);if((0,Ce.L)(Ue))return function rt(Ue){return be((0,Ce.Q)(Ue))}(Ue)}throw(0,ve.z)(Ue)}function be(Ue){return new ue.y(Fe=>{(function st(Ue,Fe){var ke,Qe,ce,me;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ke=(0,s.KL)(Ue);!(Qe=yield ke.next()).done;)if(Fe.next(Qe.value),Fe.closed)return}catch(Ee){ce={error:Ee}}finally{try{Qe&&!Qe.done&&(me=ke.return)&&(yield me.call(ke))}finally{if(ce)throw ce.error}}Fe.complete()})})(Ue,Fe).catch(ke=>Fe.error(ke))})}},6451:(mt,Oe,N)=>{N.d(Oe,{T:()=>we});var s=N(8189),H=N(8421),O=N(515),ue=N(3269),fe=N(8996);function we(...ve){const _e=(0,ue.yG)(ve),Ce=(0,ue._6)(ve,1/0),q=ve;return q.length?1===q.length?(0,H.Xf)(q[0]):(0,s.J)(Ce)((0,fe.D)(q,_e)):O.E}},5403:(mt,Oe,N)=>{N.d(Oe,{x:()=>H});var s=N(930);function H(ue,fe,we,ve,_e){return new O(ue,fe,we,ve,_e)}class O extends s.Lv{constructor(fe,we,ve,_e,Ce,q){super(fe),this.onFinalize=Ce,this.shouldUnsubscribe=q,this._next=we?function(W){try{we(W)}catch(ne){fe.error(ne)}}:super._next,this._error=_e?function(W){try{_e(W)}catch(ne){fe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(W){fe.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(mt,Oe,N)=>{N.d(Oe,{U:()=>O});var s=N(4482),H=N(5403);function O(ue,fe){return(0,s.e)((we,ve)=>{let _e=0;we.subscribe((0,H.x)(ve,Ce=>{ve.next(ue.call(fe,Ce,_e++))}))})}},8189:(mt,Oe,N)=>{N.d(Oe,{J:()=>O});var s=N(5577),H=N(4671);function O(ue=1/0){return(0,s.z)(H.y,ue)}},5577:(mt,Oe,N)=>{N.d(Oe,{z:()=>_e});var s=N(4004),H=N(8421),O=N(4482),ue=N(9672),fe=N(5403),ve=N(576);function _e(Ce,q,W=1/0){return(0,ve.m)(q)?_e((ne,Ge)=>(0,s.U)((Ve,Ae)=>q(ne,Ve,Ge,Ae))((0,H.Xf)(Ce(ne,Ge))),W):("number"==typeof q&&(W=q),(0,O.e)((ne,Ge)=>function we(Ce,q,W,ne,Ge,Ve,Ae,ct){const Te=[];let be=0,rt=0,st=!1;const Ue=()=>{st&&!Te.length&&!be&&q.complete()},Fe=Qe=>be<ne?ke(Qe):Te.push(Qe),ke=Qe=>{Ve&&q.next(Qe),be++;let ce=!1;(0,H.Xf)(W(Qe,rt++)).subscribe((0,fe.x)(q,me=>{Ge?.(me),Ve?Fe(me):q.next(me)},()=>{ce=!0},void 0,()=>{if(ce)try{for(be--;Te.length&&be<ne;){const me=Te.shift();Ae?(0,ue.f)(q,Ae,()=>ke(me)):ke(me)}Ue()}catch(me){q.error(me)}}))};return Ce.subscribe((0,fe.x)(q,Fe,()=>{st=!0,Ue()})),()=>{ct?.()}}(ne,Ge,Ce,W)))}},5363:(mt,Oe,N)=>{N.d(Oe,{Q:()=>ue});var s=N(9672),H=N(4482),O=N(5403);function ue(fe,we=0){return(0,H.e)((ve,_e)=>{ve.subscribe((0,O.x)(_e,Ce=>(0,s.f)(_e,fe,()=>_e.next(Ce),we),()=>(0,s.f)(_e,fe,()=>_e.complete(),we),Ce=>(0,s.f)(_e,fe,()=>_e.error(Ce),we)))})}},3099:(mt,Oe,N)=>{N.d(Oe,{B:()=>fe});var s=N(8421),H=N(7579),O=N(930),ue=N(4482);function fe(ve={}){const{connector:_e=(()=>new H.x),resetOnError:Ce=!0,resetOnComplete:q=!0,resetOnRefCountZero:W=!0}=ve;return ne=>{let Ge,Ve,Ae,ct=0,Te=!1,be=!1;const rt=()=>{Ve?.unsubscribe(),Ve=void 0},st=()=>{rt(),Ge=Ae=void 0,Te=be=!1},Ue=()=>{const Fe=Ge;st(),Fe?.unsubscribe()};return(0,ue.e)((Fe,ke)=>{ct++,!be&&!Te&&rt();const Qe=Ae=Ae??_e();ke.add(()=>{ct--,0===ct&&!be&&!Te&&(Ve=we(Ue,W))}),Qe.subscribe(ke),!Ge&&ct>0&&(Ge=new O.Hp({next:ce=>Qe.next(ce),error:ce=>{be=!0,rt(),Ve=we(st,Ce,ce),Qe.error(ce)},complete:()=>{Te=!0,rt(),Ve=we(st,q),Qe.complete()}}),(0,s.Xf)(Fe).subscribe(Ge))})(ne)}}function we(ve,_e,...Ce){if(!0===_e)return void ve();if(!1===_e)return;const q=new O.Hp({next:()=>{q.unsubscribe(),ve()}});return _e(...Ce).subscribe(q)}},9468:(mt,Oe,N)=>{N.d(Oe,{R:()=>H});var s=N(4482);function H(O,ue=0){return(0,s.e)((fe,we)=>{we.add(O.schedule(()=>fe.subscribe(we),ue))})}},8505:(mt,Oe,N)=>{N.d(Oe,{b:()=>fe});var s=N(576),H=N(4482),O=N(5403),ue=N(4671);function fe(we,ve,_e){const Ce=(0,s.m)(we)||ve||_e?{next:we,error:ve,complete:_e}:we;return Ce?(0,H.e)((q,W)=>{var ne;null===(ne=Ce.subscribe)||void 0===ne||ne.call(Ce);let Ge=!0;q.subscribe((0,O.x)(W,Ve=>{var Ae;null===(Ae=Ce.next)||void 0===Ae||Ae.call(Ce,Ve),W.next(Ve)},()=>{var Ve;Ge=!1,null===(Ve=Ce.complete)||void 0===Ve||Ve.call(Ce),W.complete()},Ve=>{var Ae;Ge=!1,null===(Ae=Ce.error)||void 0===Ae||Ae.call(Ce,Ve),W.error(Ve)},()=>{var Ve,Ae;Ge&&(null===(Ve=Ce.unsubscribe)||void 0===Ve||Ve.call(Ce)),null===(Ae=Ce.finalize)||void 0===Ae||Ae.call(Ce)}))}):ue.y}},4408:(mt,Oe,N)=>{N.d(Oe,{o:()=>fe});var s=N(727);class H extends s.w0{constructor(ve,_e){super()}schedule(ve,_e=0){return this}}const O={setInterval(we,ve,..._e){const{delegate:Ce}=O;return Ce?.setInterval?Ce.setInterval(we,ve,..._e):setInterval(we,ve,..._e)},clearInterval(we){const{delegate:ve}=O;return(ve?.clearInterval||clearInterval)(we)},delegate:void 0};var ue=N(8737);class fe extends H{constructor(ve,_e){super(ve,_e),this.scheduler=ve,this.work=_e,this.pending=!1}schedule(ve,_e=0){var Ce;if(this.closed)return this;this.state=ve;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(W,this.id,_e),this}requestAsyncId(ve,_e,Ce=0){return O.setInterval(ve.flush.bind(ve,this),Ce)}recycleAsyncId(ve,_e,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return _e;null!=_e&&O.clearInterval(_e)}execute(ve,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(ve,_e);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,_e){let q,Ce=!1;try{this.work(ve)}catch(W){Ce=!0,q=W||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ve,scheduler:_e}=this,{actions:Ce}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(Ce,this),null!=ve&&(this.id=this.recycleAsyncId(_e,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Oe,N)=>{N.d(Oe,{v:()=>O});var s=N(6063);class H{constructor(fe,we=H.now){this.schedulerActionCtor=fe,this.now=we}schedule(fe,we=0,ve){return new this.schedulerActionCtor(this,fe).schedule(ve,we)}}H.now=s.l.now;class O extends H{constructor(fe,we=H.now){super(fe,we),this.actions=[],this._active=!1}flush(fe){const{actions:we}=this;if(this._active)return void we.push(fe);let ve;this._active=!0;do{if(ve=fe.execute(fe.state,fe.delay))break}while(fe=we.shift());if(this._active=!1,ve){for(;fe=we.shift();)fe.unsubscribe();throw ve}}}},4986:(mt,Oe,N)=>{N.d(Oe,{P:()=>ue,z:()=>O});var s=N(4408);const O=new(N(7565).v)(s.o),ue=O},6063:(mt,Oe,N)=>{N.d(Oe,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(mt,Oe,N)=>{N.d(Oe,{z:()=>s});const s={setTimeout(H,O,...ue){const{delegate:fe}=s;return fe?.setTimeout?fe.setTimeout(H,O,...ue):setTimeout(H,O,...ue)},clearTimeout(H){const{delegate:O}=s;return(O?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(mt,Oe,N)=>{N.d(Oe,{h:()=>H});const H=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Oe,N)=>{N.d(Oe,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Oe,N)=>{N.d(Oe,{_6:()=>we,jO:()=>ue,yG:()=>fe});var s=N(576),H=N(3532);function O(ve){return ve[ve.length-1]}function ue(ve){return(0,s.m)(O(ve))?ve.pop():void 0}function fe(ve){return(0,H.K)(O(ve))?ve.pop():void 0}function we(ve,_e){return"number"==typeof O(ve)?ve.pop():_e}},8737:(mt,Oe,N)=>{function s(H,O){if(H){const ue=H.indexOf(O);0<=ue&&H.splice(ue,1)}}N.d(Oe,{P:()=>s})},3888:(mt,Oe,N)=>{function s(H){const ue=H(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}N.d(Oe,{d:()=>s})},2806:(mt,Oe,N)=>{N.d(Oe,{O:()=>ue,x:()=>O});var s=N(2416);let H=null;function O(fe){if(s.v.useDeprecatedSynchronousErrorHandling){const we=!H;if(we&&(H={errorThrown:!1,error:null}),fe(),we){const{errorThrown:ve,error:_e}=H;if(H=null,ve)throw _e}}else fe()}function ue(fe){s.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=fe)}},9672:(mt,Oe,N)=>{function s(H,O,ue,fe=0,we=!1){const ve=O.schedule(function(){ue(),we?H.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(H.add(ve),!we)return ve}N.d(Oe,{f:()=>s})},4671:(mt,Oe,N)=>{function s(H){return H}N.d(Oe,{y:()=>s})},1144:(mt,Oe,N)=>{N.d(Oe,{z:()=>s});const s=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(mt,Oe,N)=>{N.d(Oe,{D:()=>H});var s=N(576);function H(O){return Symbol.asyncIterator&&(0,s.m)(O?.[Symbol.asyncIterator])}},576:(mt,Oe,N)=>{function s(H){return"function"==typeof H}N.d(Oe,{m:()=>s})},3670:(mt,Oe,N)=>{N.d(Oe,{c:()=>O});var s=N(8822),H=N(576);function O(ue){return(0,H.m)(ue[s.L])}},6495:(mt,Oe,N)=>{N.d(Oe,{T:()=>O});var s=N(2202),H=N(576);function O(ue){return(0,H.m)(ue?.[s.h])}},8239:(mt,Oe,N)=>{N.d(Oe,{t:()=>H});var s=N(576);function H(O){return(0,s.m)(O?.then)}},3260:(mt,Oe,N)=>{N.d(Oe,{L:()=>ue,Q:()=>O});var s=N(655),H=N(576);function O(fe){return(0,s.FC)(this,arguments,function*(){const ve=fe.getReader();try{for(;;){const{value:_e,done:Ce}=yield(0,s.qq)(ve.read());if(Ce)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(_e)}}finally{ve.releaseLock()}})}function ue(fe){return(0,H.m)(fe?.getReader)}},3532:(mt,Oe,N)=>{N.d(Oe,{K:()=>H});var s=N(576);function H(O){return O&&(0,s.m)(O.schedule)}},4482:(mt,Oe,N)=>{N.d(Oe,{A:()=>H,e:()=>O});var s=N(576);function H(ue){return(0,s.m)(ue?.lift)}function O(ue){return fe=>{if(H(fe))return fe.lift(function(we){try{return ue(we,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Oe,N)=>{function s(){}N.d(Oe,{Z:()=>s})},9635:(mt,Oe,N)=>{N.d(Oe,{U:()=>O,z:()=>H});var s=N(4671);function H(...ue){return O(ue)}function O(ue){return 0===ue.length?s.y:1===ue.length?ue[0]:function(we){return ue.reduce((ve,_e)=>_e(ve),we)}}},7849:(mt,Oe,N)=>{N.d(Oe,{h:()=>O});var s=N(2416),H=N(3410);function O(ue){H.z.setTimeout(()=>{const{onUnhandledError:fe}=s.v;if(!fe)throw ue;fe(ue)})}},4532:(mt,Oe,N)=>{function s(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Oe,{z:()=>s})},655:(mt,Oe,N)=>{function ue(ee,ie){var ye={};for(var de in ee)Object.prototype.hasOwnProperty.call(ee,de)&&ie.indexOf(de)<0&&(ye[de]=ee[de]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(de=Object.getOwnPropertySymbols(ee);ze<de.length;ze++)ie.indexOf(de[ze])<0&&Object.prototype.propertyIsEnumerable.call(ee,de[ze])&&(ye[de[ze]]=ee[de[ze]])}return ye}function _e(ee,ie,ye,de){return new(ye||(ye=Promise))(function(je,Et){function un(Sn){try{Je(de.next(Sn))}catch(Zn){Et(Zn)}}function nn(Sn){try{Je(de.throw(Sn))}catch(Zn){Et(Zn)}}function Je(Sn){Sn.done?je(Sn.value):function ze(je){return je instanceof ye?je:new ye(function(Et){Et(je)})}(Sn.value).then(un,nn)}Je((de=de.apply(ee,ie||[])).next())})}function Te(ee){return this instanceof Te?(this.v=ee,this):new Te(ee)}function be(ee,ie,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,de=ye.apply(ee,ie||[]),je=[];return ze={},Et("next"),Et("throw"),Et("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function Et(fn){de[fn]&&(ze[fn]=function(dn){return new Promise(function(Xt,qt){je.push([fn,dn,Xt,qt])>1||un(fn,dn)})})}function un(fn,dn){try{!function nn(fn){fn.value instanceof Te?Promise.resolve(fn.value.v).then(Je,Sn):Zn(je[0][2],fn)}(de[fn](dn))}catch(Xt){Zn(je[0][3],Xt)}}function Je(fn){un("next",fn)}function Sn(fn){un("throw",fn)}function Zn(fn,dn){fn(dn),je.shift(),je.length&&un(je[0][0],je[0][1])}}function st(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ie=ee[Symbol.asyncIterator];return ie?ie.call(ee):(ee=function ne(ee){var ie="function"==typeof Symbol&&Symbol.iterator,ye=ie&&ee[ie],de=0;if(ye)return ye.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&de>=ee.length&&(ee=void 0),{value:ee&&ee[de++],done:!ee}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ye={},de("next"),de("throw"),de("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function de(je){ye[je]=ee[je]&&function(Et){return new Promise(function(un,nn){!function ze(je,Et,un,nn){Promise.resolve(nn).then(function(Je){je({value:Je,done:un})},Et)}(un,nn,(Et=ee[je](Et)).done,Et.value)})}}}N.d(Oe,{FC:()=>be,KL:()=>st,_T:()=>ue,mG:()=>_e,qq:()=>Te})},4650:(mt,Oe,N)=>{N.d(Oe,{$8M:()=>ql,$Z:()=>bo,AFp:()=>VE,ALo:()=>$v,AaK:()=>_e,Akn:()=>yn,AsE:()=>yv,BQk:()=>sf,CHM:()=>zh,CRH:()=>u_,CZH:()=>$u,CqO:()=>hv,D6c:()=>Ub,DdM:()=>dE,Dn7:()=>Wv,EJc:()=>gb,EpF:()=>dv,F$t:()=>hC,F4k:()=>$r,FYo:()=>TT,FiY:()=>De,G48:()=>M_,Gf:()=>yh,GfV:()=>qw,GkF:()=>Fm,Gpc:()=>W,HTZ:()=>jv,Hh0:()=>pE,Hsn:()=>af,JOm:()=>ha,KtG:()=>jo,LFG:()=>Ln,LSH:()=>Rg,Lbi:()=>g_,Lck:()=>If,MAs:()=>uv,MMx:()=>Nv,NdJ:()=>Nm,OlP:()=>On,Oqu:()=>eh,PXZ:()=>UD,Q6J:()=>ef,QGY:()=>Qd,QP$:()=>Ye,QbO:()=>HE,Qsj:()=>kA,R0b:()=>Kr,RDi:()=>Dg,Rgc:()=>xf,SBq:()=>uu,Sil:()=>RD,Suo:()=>Jv,TTD:()=>Ts,TgZ:()=>Su,Tol:()=>Xd,Udp:()=>fc,VKq:()=>_h,W1O:()=>ib,WLB:()=>r_,X6Q:()=>Db,XFs:()=>at,Xpm:()=>K,Xts:()=>ty,Y36:()=>cl,YKP:()=>fh,YNc:()=>Yd,Yjl:()=>se,Yz7:()=>dn,Z0I:()=>Ro,ZZ4:()=>Lb,_Bn:()=>iE,_UZ:()=>Pm,_Vd:()=>cu,_c5:()=>ex,_uU:()=>ge,aQg:()=>F_,c2e:()=>MD,cJS:()=>qt,cg1:()=>pf,dDg:()=>ND,dqk:()=>Ht,eFA:()=>C_,ekj:()=>Um,eoX:()=>wb,f3M:()=>ur,g9A:()=>Ch,h0i:()=>wl,hGG:()=>Bb,hij:()=>Gr,iGM:()=>Ec,ifc:()=>bt,ip1:()=>LE,jDz:()=>Lv,kEZ:()=>hE,kL8:()=>Zm,l5B:()=>Hv,lG2:()=>oi,lcZ:()=>Gv,lqb:()=>da,lri:()=>b_,n5z:()=>Ms,oAB:()=>xt,oJD:()=>Ow,oxw:()=>uC,q4F:()=>Kw,qLn:()=>Ep,qOj:()=>iv,qZA:()=>nf,qbA:()=>zv,rFY:()=>gE,rWj:()=>bb,sBO:()=>xb,sIi:()=>Qp,s_b:()=>a_,soG:()=>Pf,tb:()=>m_,tp0:()=>vt,uIk:()=>km,vHH:()=>Ae,vpe:()=>Ca,wAp:()=>Rt,xi3:()=>Do,xp6:()=>T0,ynx:()=>rf,z2F:()=>Bf,zSh:()=>Ng,zs3:()=>Se});var s=N(7579),H=N(727),O=N(9751),ue=N(6451),fe=N(3099);function we(a){for(let l in a)if(a[l]===we)return l;throw Error("Could not find renamed property on target object.")}function ve(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function _e(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(_e).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function Ce(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=we({__forward_ref__:we});function W(a){return a.__forward_ref__=W,a.toString=function(){return _e(this())},a}function ne(a){return Ge(a)?a():a}function Ge(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===W}class Ae extends Error{constructor(l,c){super(function ct(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function Te(a){return"string"==typeof a?a:null==a?"":String(a)}function Fe(a,l){throw new Ae(-201,!1)}function nn(a,l){null==a&&function Je(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function dn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function qt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Mi(a){return ki(a,rr)||ki(a,Nr)}function Ro(a){return null!==Mi(a)}function ki(a,l){return a.hasOwnProperty(l)?a[l]:null}function Fr(a){return a&&(a.hasOwnProperty(qn)||a.hasOwnProperty(Lr))?a[qn]:null}const rr=we({\u0275prov:we}),qn=we({\u0275inj:we}),Nr=we({ngInjectableDef:we}),Lr=we({ngInjectorDef:we});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let Ci;function Cn(a){const l=Ci;return Ci=a,l}function Ri(a,l,c){const d=Mi(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&at.Optional?null:void 0!==l?l:void Fe(_e(a))}function kn(a){return{toString:a}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),bt=(()=>{return(a=bt||(bt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",bt;var a})();const Ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Oi={},kt=[],Ui=we({\u0275cmp:we}),zt=we({\u0275dir:we}),sr=we({\u0275pipe:we}),rn=we({\u0275mod:we}),J=we({\u0275fac:we}),$=we({__NG_ELEMENT_ID__:we});let z=0;function K(a){return kn(()=>{const c=!0===a.standalone,d={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||kt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||bt.Emulated,id:"c"+z++,styles:a.styles||kt,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.dependencies,v=a.features;return p.inputs=gn(a.inputs,d),p.outputs=gn(a.outputs),v&&v.forEach(w=>w(p)),p.directiveDefs=g?()=>("function"==typeof g?g():g).map(Re).filter(qe):null,p.pipeDefs=g?()=>("function"==typeof g?g():g).map(Ie).filter(qe):null,p})}function Re(a){return j(a)||G(a)}function qe(a){return null!==a}function xt(a){return kn(()=>({type:a.type,bootstrap:a.bootstrap||kt,declarations:a.declarations||kt,imports:a.imports||kt,exports:a.exports||kt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function gn(a,l){if(null==a)return Oi;const c={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),c[p]=d,l&&(l[p]=g)}return c}const oi=K;function se(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function j(a){return a[Ui]||null}function G(a){return a[zt]||null}function Ie(a){return a[sr]||null}function Ye(a){const l=j(a)||G(a)||Ie(a);return null!==l&&l.standalone}function It(a,l){const c=a[rn]||null;if(!c&&!0===l)throw new Error(`Type ${_e(a)} does not have '\u0275mod' property.`);return c}function ai(a){return Array.isArray(a)&&"object"==typeof a[1]}function gr(a){return Array.isArray(a)&&!0===a[1]}function Fo(a){return 0!=(8&a.flags)}function Oc(a){return 2==(2&a.flags)}function Pa(a){return 1==(1&a.flags)}function ar(a){return null!==a.template}function Pc(a){return 0!=(256&a[2])}function Fi(a,l){return a.hasOwnProperty(J)?a[J]:null}class Bo{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ts(){return Na}function Na(a){return a.type.prototype.ngOnChanges&&(a.setInput=Lc),Vl}function Vl(){const a=Uo(this),l=a?.current;if(l){const c=a.previous;if(c===Oi)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Lc(a,l,c,d){const p=Uo(a)||function Dn(a,l){return a[Vc]=l}(a,{previous:Oi,current:null}),g=p.current||(p.current={}),v=p.previous,w=this.declaredInputs[c],I=v[w];g[w]=new Bo(I&&I.currentValue,l,v===Oi),a[d]=l}Ts.ngInherit=!0;const Vc="__ngSimpleChanges__";function Uo(a){return a[Vc]||null}function Gn(a){for(;Array.isArray(a);)a=a[0];return a}function Ar(a,l){return Gn(l[a])}function Ni(a,l){return Gn(l[a.index])}function Qs(a,l){return a.data[l]}function Vr(a,l){return a[l]}function hn(a,l){const c=l[a];return ai(c)?c:c[0]}function Ss(a){return 64==(64&a[2])}function vr(a,l){return null==l?null:a[l]}function La(a){a[18]=0}function Yn(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Vt={lFrame:Za(null),bindingsEnabled:!0};function Js(){return Vt.bindingsEnabled}function Ne(){return Vt.lFrame.lView}function sn(){return Vt.lFrame.tView}function zh(a){return Vt.lFrame.contextLView=a,a[8]}function jo(a){return Vt.lFrame.contextLView=null,a}function ci(){let a=$o();for(;null!==a&&64===a.type;)a=a.parent;return a}function $o(){return Vt.lFrame.currentTNode}function Yi(a,l){const c=Vt.lFrame;c.currentTNode=a,c.isParent=l}function Hl(){return Vt.lFrame.isParent}function Go(){Vt.lFrame.isParent=!1}function ui(){const a=Vt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function $a(){return Vt.lFrame.bindingIndex++}function os(a){const l=Vt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function od(a,l){const c=Vt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Wo(l)}function Wo(a){Vt.lFrame.currentDirectiveIndex=a}function Ga(){return Vt.lFrame.currentQueryIndex}function $c(a){Vt.lFrame.currentQueryIndex=a}function Wa(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function ad(a,l,c){if(c&at.SkipSelf){let p=l,g=a;for(;!(p=p.parent,null!==p||c&at.Host||(p=Wa(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;l=p,a=g}const d=Vt.lFrame=Gh();return d.currentTNode=l,d.lView=a,!0}function Zo(a){const l=Gh(),c=a[1];Vt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Gh(){const a=Vt.lFrame,l=null===a?null:a.child;return null===l?Za(a):l}function Za(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Wh(){const a=Vt.lFrame;return Vt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ld=Wh;function Ds(){const a=Wh();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Hn(){return Vt.lFrame.selectedIndex}function as(a){Vt.lFrame.selectedIndex=a}function zn(){const a=Vt.lFrame;return Qs(a.tView,a.selectedIndex)}function qc(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:R}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),w&&((a.contentHooks||(a.contentHooks=[])).push(c,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,w)),I&&(a.viewHooks||(a.viewHooks=[])).push(-c,I),x&&((a.viewHooks||(a.viewHooks=[])).push(c,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,x)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(c,R)}}function eo(a,l,c){Ko(a,l,3,c)}function qo(a,l,c,d){(3&a[2])===c&&Ko(a,l,c,d)}function hd(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Ko(a,l,c,d){const g=d??-1,v=l.length-1;let w=0;for(let I=void 0!==d?65535&a[18]:0;I<v;I++)if("number"==typeof l[I+1]){if(w=l[I],null!=d&&w>=d)break}else l[I]<0&&(a[18]+=65536),(w<g||-1==g)&&(pd(a,c,l,I),a[18]=(4294901760&a[18])+I+2),I++}function pd(a,l,c,d){const p=c[d]<0,g=c[d+1],w=a[p?-c[d]:c[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class br{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ls(a,l,c){let d=0;for(;d<c.length;){const p=c[d];if("number"==typeof p){if(0!==p)break;d++;const g=c[d++],v=c[d++],w=c[d++];a.setAttribute(l,v,w,g)}else{const g=p,v=c[++d];Yc(g)?a.setProperty(l,g,v):a.setAttribute(l,g,v),d++}}return d}function Ka(a){return 3===a||4===a||6===a}function Yc(a){return 64===a.charCodeAt(0)}function Ya(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?c=p:0===c||gd(a,c,p,null,-1===c||2===c?l[++d]:null)}}return a}function gd(a,l,c,d,p){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const w=a[g++];if("number"==typeof w){if(w===l){v=-1;break}if(w>l){v=g-1;break}}}for(;g<a.length;){const w=a[g];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==p&&(a[g+1]=p));if(d===a[g+1])return void(a[g+2]=p)}g++,null!==d&&g++,null!==p&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==p&&a.splice(g++,0,p)}function Kh(a){return-1!==a}function di(a){return 32767&a}function As(a,l){let c=function Yh(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let Qc=!0;function Qa(a){const l=Qc;return Qc=a,l}let md=0;const cr={};function cs(a,l){const c=Gl(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Jc(d.data,a),Jc(l,null),Jc(d.blueprint,null));const p=Ja(a,l),g=a.injectorIndex;if(Kh(p)){const v=di(p),w=As(p,l),I=w[1].data;for(let x=0;x<8;x++)l[g+x]=w[v+x]|I[v+x]}return l[g+8]=p,g}function Jc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Gl(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Ja(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,p=l;for(;null!==p;){if(d=na(p),null===d)return-1;if(c++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function to(a,l,c){!function _d(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty($)&&(d=c[$]),null==d&&(d=c[$]=md++);const p=255&d;l.data[a+(p>>5)]|=1<<p}(a,l,c)}function Qo(a,l,c){if(c&at.Optional||void 0!==a)return a;Fe()}function no(a,l,c,d){if(c&at.Optional&&void 0===d&&(d=null),0==(c&(at.Self|at.Host))){const p=a[9],g=Cn(void 0);try{return p?p.get(l,d,c&at.Optional):Ri(l,d,c&at.Optional)}finally{Cn(g)}}return Qo(d,0,c)}function Jo(a,l,c,d=at.Default,p){if(null!==a){if(1024&l[2]){const v=function Xh(a,l,c,d,p){let g=a,v=l;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const w=yd(g,v,c,d|at.Self,cr);if(w!==cr)return w;let I=g.parent;if(!I){const x=v[21];if(x){const R=x.get(c,cr,d);if(R!==cr)return R}I=na(v),v=v[15]}g=I}return p}(a,l,c,d,cr);if(v!==cr)return v}const g=yd(a,l,c,d,cr);if(g!==cr)return g}return no(l,c,d,p)}function yd(a,l,c,d,p){const g=function Jh(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty($)?a[$]:void 0;return"number"==typeof l?l>=0?255&l:Xc:l}(c);if("function"==typeof g){if(!ad(l,a,d))return d&at.Host?Qo(p,0,d):no(l,c,d,p);try{const v=g(d);if(null!=v||d&at.Optional)return v;Fe()}finally{ld()}}else if("number"==typeof g){let v=null,w=Gl(a,l),I=-1,x=d&at.Host?l[16][6]:null;for((-1===w||d&at.SkipSelf)&&(I=-1===w?Ja(a,l):l[w+8],-1!==I&&Zl(d,!1)?(v=l[1],w=di(I),l=As(I,l)):w=-1);-1!==w;){const R=l[1];if(Xo(g,w,R.data)){const V=Wl(w,l,c,v,d,x);if(V!==cr)return V}I=l[w+8],-1!==I&&Zl(d,l[1].data[w+8]===x)&&Xo(g,w,l)?(v=R,w=di(I),l=As(I,l)):w=-1}}return p}function Wl(a,l,c,d,p,g){const v=l[1],w=v.data[a+8],R=el(w,v,c,null==d?Oc(w)&&Qc:d!=v&&0!=(3&w.type),p&at.Host&&g===w);return null!==R?Ur(l,v,R,w):cr}function el(a,l,c,d,p){const g=a.providerIndexes,v=l.data,w=1048575&g,I=a.directiveStart,R=g>>20,Q=p?w+R:a.directiveEnd;for(let le=d?w:w+R;le<Q;le++){const Me=v[le];if(le<I&&c===Me||le>=I&&Me.type===c)return le}if(p){const le=v[I];if(le&&ar(le)&&le.type===c)return I}return null}function Ur(a,l,c,d){let p=a[c];const g=l.data;if(function Kc(a){return a instanceof br}(p)){const v=p;v.resolving&&function rt(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${a}${c}`)}(function be(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Te(a)}(g[c]));const w=Qa(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Cn(v.injectImpl):null;ad(a,d,at.Default);try{p=a[c]=v.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function dd(a,l,c){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:g}=l.type.prototype;if(d){const v=Na(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,p),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==I&&Cn(I),Qa(w),v.resolving=!1,ld()}}return p}function Xo(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Zl(a,l){return!(a&at.Self||a&at.Host&&l)}class ea{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Jo(this._tNode,this._lView,l,d,c)}}function Xc(){return new ea(ci(),Ne())}function Ms(a){return kn(()=>{const l=a.prototype.constructor,c=l[J]||ta(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const g=p[J]||ta(p);if(g&&g!==c)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function ta(a){return Ge(a)?()=>{const l=ta(ne(a));return l&&l()}:Fi(a)}function na(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function ql(a){return function Xa(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let p=0;for(;p<d;){const g=c[p];if(Ka(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<d&&"string"==typeof c[p];)p++;else{if(g===l)return c[p+1];p+=2}}}return null}(ci(),a)}const ia="__parameters__";function sa(a,l,c){return kn(()=>{const d=function eu(a){return function(...c){if(a){const d=a(...c);for(const p in d)this[p]=d[p]}}}(l);function p(...g){if(this instanceof p)return d.apply(this,g),this;const v=new p(...g);return w.annotation=v,w;function w(I,x,R){const V=I.hasOwnProperty(ia)?I[ia]:Object.defineProperty(I,ia,{value:[]})[ia];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(v),I}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class On{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=dn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Pn(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Pn(d,l)):l!==a&&l.push(d)}return l}function ds(a,l){a.forEach(c=>Array.isArray(c)?ds(c,l):l(c))}function ro(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function hi(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function so(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function ut(a,l,c){let d=zr(a,l);return d>=0?a[1|d]=c:(d=~d,function np(a,l,c,d){let p=a.length;if(p==l)a.push(c,d);else if(1===p)a.push(d,a[0]),a[0]=c;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function tu(a,l){const c=zr(a,l);if(c>=0)return a[1|c]}function zr(a,l){return function tl(a,l,c){let d=0,p=a.length>>c;for(;p!==d;){const g=d+(p-d>>1),v=a[g<<c];if(l===v)return g<<c;v>l?p=g:d=g+1}return~(p<<c)}(a,l,1)}const kr={},Xl="__NG_DI_FLAG__",Rs="ngTempTokenPath",zi=/\n/gm,Fn="__source";let lo;function co(a){const l=lo;return lo=a,l}function pi(a,l=at.Default){if(void 0===lo)throw new Ae(-203,!1);return null===lo?Ri(a,void 0,l):lo.get(a,l&at.Optional?null:void 0,l)}function Ln(a,l=at.Default){return(function Kn(){return Ci}()||pi)(ne(a),l)}function ur(a,l=at.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Ln(a,l)}function T(a){const l=[];for(let c=0;c<a.length;c++){const d=ne(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Ae(900,!1);let p,g=at.Default;for(let v=0;v<d.length;v++){const w=d[v],I=k(w);"number"==typeof I?-1===I?p=w.token:g|=I:p=w}l.push(Ln(p,g))}else l.push(Ln(d))}return l}function S(a,l){return a[Xl]=l,a.prototype[Xl]=l,a}function k(a){return a[Xl]}const De=S(sa("Optional"),8),vt=S(sa("SkipSelf"),4);let ap,nu,Sd;function Dg(a){ap=a}function go(a){return function Td(){if(void 0===nu&&(nu=null,Ht.trustedTypes))try{nu=Ht.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return nu}()?.createHTML(a)||a}function xg(a){return function mo(){if(void 0===Sd&&(Sd=null,Ht.trustedTypes))try{Sd=Ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Sd}()?.createHTML(a)||a}class Ag{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ns(a){return a instanceof Ag?a.changingThisBreaksApplicationSecurity:a}function _o(a,l){const c=function dp(a){return a instanceof Ag&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}class _{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(go(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class C{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=go(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=go(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let p=c.length-1;0<p;p--){const v=c.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const F=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ae(a){return(a=String(a)).match(F)?a:"unsafe:"+a}function xe(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function it(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const pt=xe("area,br,col,hr,img,wbr"),Zt=xe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wn=xe("rp,rt"),la=it(pt,it(Zt,xe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),it(Wn,xe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),it(Wn,Zt)),vo=xe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),su=it(vo,xe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pp=xe("script,style,template");class ol{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!la.hasOwnProperty(c))return this.sanitizedSomething=!0,!pp.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let p=0;p<d.length;p++){const g=d.item(p),v=g.name,w=v.toLowerCase();if(!su.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=g.value;vo[w]&&(I=ae(I)),this.buf.push(" ",v,'="',gp(I),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();la.hasOwnProperty(c)&&!pt.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(gp(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const fp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kg=/([^\#-~ |!])/g;function gp(a){return a.replace(/&/g,"&amp;").replace(fp,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(kg,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rc;function ou(a){return"content"in a&&function vT(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var _i=(()=>((_i=_i||{})[_i.NONE=0]="NONE",_i[_i.HTML=1]="HTML",_i[_i.STYLE=2]="STYLE",_i[_i.SCRIPT=3]="SCRIPT",_i[_i.URL=4]="URL",_i[_i.RESOURCE_URL=5]="RESOURCE_URL",_i))();function Ow(a){const l=_p();return l?xg(l.sanitize(_i.HTML,a)||""):_o(a,"HTML")?xg(Ns(a)):function mp(a,l){let c=null;try{rc=rc||function m(a){const l=new C(a);return function M(){try{return!!(new window.DOMParser).parseFromString(go(""),"text/html")}catch{return!1}}()?new _(l):l}(a);let d=l?String(l):"";c=rc.getInertBodyElement(d);let p=5,g=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=g,g=c.innerHTML,c=rc.getInertBodyElement(d)}while(d!==g);return go((new ol).sanitizeChildren(ou(c)||c))}finally{if(c){const d=ou(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(function Id(){return void 0!==ap?ap:typeof document<"u"?document:void 0}(),Te(a))}function Rg(a){const l=_p();return l?l.sanitize(_i.URL,a)||"":_o(a,"URL")?Ns(a):ae(Te(a))}function _p(){const a=Ne();return a&&a[12]}const ty=new On("ENVIRONMENT_INITIALIZER"),Nw=new On("INJECTOR",-1),Lw=new On("INJECTOR_DEF_TYPES");class Vw{get(l,c=kr){if(c===kr){const d=new Error(`NullInjectorError: No provider for ${_e(l)}!`);throw d.name="NullInjectorError",d}return c}}function wT(...a){return{\u0275providers:Bw(0,a)}}function Bw(a,...l){const c=[],d=new Set;let p;return ds(l,g=>{const v=g;Pg(v,c,[],d)&&(p||(p=[]),p.push(v))}),void 0!==p&&Uw(p,c),c}function Uw(a,l){for(let c=0;c<a.length;c++){const{providers:p}=a[c];ds(p,g=>{l.push(g)})}}function Pg(a,l,c,d){if(!(a=ne(a)))return!1;let p=null,g=Fr(a);const v=!g&&j(a);if(g||v){if(v&&!v.standalone)return!1;p=a}else{const I=a.ngModule;if(g=Fr(I),!g)return!1;p=I}const w=d.has(p);if(v){if(w)return!1;if(d.add(p),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of I)Pg(x,l,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let x;d.add(p);try{ds(g.imports,R=>{Pg(R,l,c,d)&&(x||(x=[]),x.push(R))})}finally{}void 0!==x&&Uw(x,l)}if(!w){const x=Fi(p)||(()=>new p);l.push({provide:p,useFactory:x,deps:kt},{provide:Lw,useValue:p,multi:!0},{provide:ty,useValue:()=>Ln(p),multi:!0})}const I=g.providers;null==I||w||ds(I,R=>{l.push(R)})}}return p!==a&&void 0!==a.providers}const Hw=we({provide:String,useValue:we});function yp(a){return null!==a&&"object"==typeof a&&Hw in a}function Ls(a){return"function"==typeof a}const Ng=new On("Set Injector scope."),Lg={},lu={};let Vg;function Bg(){return void 0===Vg&&(Vg=new Vw),Vg}class da{}class ny extends da{constructor(l,c,d,p){super(),this.parent=c,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hg(l,v=>this.processProvider(v)),this.records.set(Nw,xd(void 0,this)),p.has("environment")&&this.records.set(da,xd(void 0,this));const g=this.records.get(Ng);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Lw.multi,kt,at.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=co(this),d=Cn(void 0);try{return l()}finally{co(c),Cn(d)}}get(l,c=kr,d=at.Default){this.assertNotDestroyed();const p=co(this),g=Cn(void 0);try{if(!(d&at.SkipSelf)){let w=this.records.get(l);if(void 0===w){const I=function ET(a){return"function"==typeof a||"object"==typeof a&&a instanceof On}(l)&&Mi(l);w=I&&this.injectableDefInScope(I)?xd(vp(l),Lg):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&at.Self?Bg():this.parent).get(l,c=d&at.Optional&&c===kr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Rs]=v[Rs]||[]).unshift(_e(l)),p)throw v;return function U(a,l,c,d){const p=a[Rs];throw l[Fn]&&p.unshift(l[Fn]),a.message=function X(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let p=_e(l);if(Array.isArray(l))p=l.map(_e).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let w=l[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):_e(w)))}p=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${p}]: ${a.replace(zi,"\n  ")}`}("\n"+a.message,p,c,d),a.ngTokenPath=p,a[Rs]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Cn(g),co(p)}}resolveInjectorInitializers(){const l=co(this),c=Cn(void 0);try{const d=this.get(ty.multi,kt,at.Self);for(const p of d)p()}finally{co(l),Cn(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(_e(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(l){let c=Ls(l=ne(l))?l:ne(l&&l.provide);const d=function iy(a){return yp(a)?xd(void 0,a.useValue):xd(Ug(a),Lg)}(l);if(Ls(l)||!0!==l.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=xd(void 0,Lg,!0),p.factory=()=>T(p.multi),this.records.set(c,p)),c=l,p.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===Lg&&(c.value=lu,c.value=c.factory()),"object"==typeof c.value&&c.value&&function CT(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ne(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function vp(a){const l=Mi(a),c=null!==l?l.factory:Fi(a);if(null!==c)return c;if(a instanceof On)throw new Ae(204,!1);if(a instanceof Function)return function jw(a){const l=a.length;if(l>0)throw so(l,"?"),new Ae(204,!1);const c=function Bn(a){const l=a&&(a[rr]||a[Nr]);if(l){const c=function Xr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Ae(204,!1)}function Ug(a,l,c){let d;if(Ls(a)){const p=ne(a);return Fi(p)||vp(p)}if(yp(a))d=()=>ne(a.useValue);else if(function ua(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...T(a.deps||[]));else if(function Fg(a){return!(!a||!a.useExisting)}(a))d=()=>Ln(ne(a.useExisting));else{const p=ne(a&&(a.useClass||a.provide));if(!function bp(a){return!!a.deps}(a))return Fi(p)||vp(p);d=()=>new p(...T(a.deps))}return d}function xd(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function ry(a){return!!a.\u0275providers}function Hg(a,l){for(const c of a)Array.isArray(c)?Hg(c,l):ry(c)?Hg(c.\u0275providers,l):l(c)}class sy{}class jg{resolveComponentFactory(l){throw function Gw(a){const l=Error(`No component factory found for ${_e(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let cu=(()=>{class a{}return a.NULL=new jg,a})();function IT(){return Ad(ci(),Ne())}function Ad(a,l){return new uu(Ni(a,l))}let uu=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=IT,a})();function Zw(a){return a instanceof uu?a.nativeElement:a}class TT{}let kA=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function RA(){const a=Ne(),c=hn(ci().index,a);return(ai(c)?c:a)[11]}(),a})(),oy=(()=>{class a{}return a.\u0275prov=dn({token:a,providedIn:"root",factory:()=>null}),a})();class qw{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Kw=new qw("14.2.4"),ay={};function py(a){return a.ngOriginalError}class Ep{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&py(l);for(;c&&py(c);)c=py(c);return c||null}}const fy=new Map;let RT=0;const Kg="__ngContext__";function Qi(a,l){ai(l)?(a[Kg]=l[20],function PT(a){fy.set(a[20],a)}(l)):a[Kg]=l}function al(a){return a instanceof Function?a():a}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();function vy(a,l){return undefined(a,l)}function Pd(a){const l=a[3];return gr(l)?l[3]:l}function Jg(a){return l0(a[13])}function Xg(a){return l0(a[4])}function l0(a){for(;null!==a&&!gr(a);)a=a[4];return a}function Fd(a,l,c,d,p){if(null!=d){let g,v=!1;gr(d)?g=d:ai(d)&&(v=!0,d=d[0]);const w=Gn(d);0===a&&null!==c?null==p?g0(l,c,w):pa(l,c,w,p||null,!0):1===a&&null!==c?pa(l,c,w,p||null,!0):2===a?function qT(a,l,c){const d=nm(a,l);d&&function ZT(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}(l,w,v):3===a&&l.destroyNode(w),null!=g&&function zA(a,l,c,d,p){const g=c[7];g!==Gn(c)&&Fd(l,a,d,g,p);for(let w=10;w<c.length;w++){const I=c[w];du(I[1],I,a,l,d,g)}}(l,a,g,c,p)}}function em(a,l,c){return a.createElement(l,c)}function h0(a,l){const c=a[9],d=c.indexOf(l),p=l[3];512&l[2]&&(l[2]&=-513,Yn(p,-1)),c.splice(d,1)}function Ey(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const p=d[17];null!==p&&p!==a&&h0(p,d),l>0&&(a[c-1][4]=d[4]);const g=hi(a,10+l);!function Cy(a,l){du(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Sp(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&du(a,l,c,3,null,null),function UA(a){let l=a[13];if(!l)return tm(a[1],a);for(;l;){let c=null;if(ai(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)ai(l)&&tm(l[1],l),l=l[3];null===l&&(l=a),ai(l)&&tm(l[1],l),c=l&&l[4]}l=c}}(l)}}function tm(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Ty(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const p=l[c[d]];if(!(p instanceof br)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=p[g[v]],I=g[v+1];try{I.call(w)}finally{}}else try{g.call(p)}finally{}}}}(a,l),function Iy(a,l){const c=a.cleanup,d=l[7];let p=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],w="function"==typeof v?v(l):Gn(l[v]),I=d[p=c[g+2]],x=c[g+3];"boolean"==typeof x?w.removeEventListener(c[g],I,x):x>=0?d[p=x]():d[p=-x].unsubscribe(),g+=2}else{const v=d[p=c[g+1]];c[g].call(v)}if(null!==d){for(let g=p+1;g<d.length;g++)(0,d[g])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&gr(l[3])){c!==l[3]&&h0(c,l);const d=l[19];null!==d&&d.detachView(a)}!function FT(a){fy.delete(a[20])}(l)}}function p0(a,l,c){return function f0(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const p=a.data[d.directiveStart].encapsulation;if(p===bt.None||p===bt.Emulated)return null}return Ni(d,c)}(a,l.parent,c)}function pa(a,l,c,d,p){a.insertBefore(l,c,d,p)}function g0(a,l,c){a.appendChild(l,c)}function m0(a,l,c,d,p){null!==d?pa(a,l,c,d,p):g0(a,l,c)}function nm(a,l){return a.parentNode(l)}function fi(a,l,c){return Sy(a,l,c)}let Sy=function y0(a,l,c){return 40&a.type?Ni(a,c):null};function Ap(a,l,c,d){const p=p0(a,d,l),g=l[11],w=fi(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(c))for(let I=0;I<c.length;I++)m0(g,p,c[I],w,!1);else m0(g,p,c,w,!1)}function im(a,l){if(null!==l){const c=l.type;if(3&c)return Ni(l,a);if(4&c)return v0(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return im(a,d);{const p=a[l.index];return gr(p)?v0(-1,p):Gn(p)}}if(32&c)return vy(l,a)()||Gn(a[l.index]);{const d=Dy(a,l);return null!==d?Array.isArray(d)?d[0]:im(Pd(a[16]),d):im(a,l.next)}}return null}function Dy(a,l){return null!==l?a[16][6].projection[l.projection]:null}function v0(a,l){const c=10+a+1;if(c<l.length){const d=l[c],p=d[1].firstChild;if(null!==p)return im(d,p)}return l[7]}function xy(a,l,c,d,p,g,v){for(;null!=c;){const w=d[c.index],I=c.type;if(v&&0===l&&(w&&Qi(Gn(w),d),c.flags|=4),64!=(64&c.flags))if(8&I)xy(a,l,c.child,d,p,g,!1),Fd(l,a,p,w,g);else if(32&I){const x=vy(c,d);let R;for(;R=x();)Fd(l,a,p,R,g);Fd(l,a,p,w,g)}else 16&I?Mp(a,l,d,c,p,g):Fd(l,a,p,w,g);c=v?c.projectionNext:c.next}}function du(a,l,c,d,p,g){xy(c,d,a.firstChild,l,p,g,!1)}function Mp(a,l,c,d,p,g){const v=c[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Fd(l,a,p,I[x],g);else xy(a,l,I,v[3],p,g,!0)}function hu(a,l,c){a.setAttribute(l,"style",c)}function kp(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function KT(a,l,c){let d=a.length;for(;;){const p=a.indexOf(l,c);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const g=l.length;if(p+g===d||a.charCodeAt(p+g)<=32)return p}c=p+1}}const Ay="ng-template";function My(a,l,c){let d=0;for(;d<a.length;){let p=a[d++];if(c&&"class"===p){if(p=a[d],-1!==KT(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function C0(a){return 4===a.type&&a.value!==Ay}function QT(a,l,c){return l===(4!==a.type||c?a.value:Ay)}function JT(a,l,c){let d=4;const p=a.attrs||[],g=function jA(a){for(let l=0;l<a.length;l++)if(Ka(a[l]))return l;return a.length}(p);let v=!1;for(let w=0;w<l.length;w++){const I=l[w];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!QT(a,I,c)||""===I&&1===l.length){if(Bs(d))return!1;v=!0}}else{const x=8&d?I:l[++w];if(8&d&&null!==a.attrs){if(!My(a.attrs,x,c)){if(Bs(d))return!1;v=!0}continue}const V=XT(8&d?"class":I,p,C0(a),c);if(-1===V){if(Bs(d))return!1;v=!0;continue}if(""!==x){let Q;Q=V>g?"":p[V+1].toLowerCase();const le=8&d?Q:null;if(le&&-1!==KT(le,x,0)||2&d&&x!==Q){if(Bs(d))return!1;v=!0}}}}else{if(!v&&!Bs(d)&&!Bs(I))return!1;if(v&&Bs(I))continue;v=!1,d=I|1&d}}return Bs(d)||v}function Bs(a){return 0==(1&a)}function XT(a,l,c,d){if(null===l)return-1;let p=0;if(d||!c){let g=!1;for(;p<l.length;){const v=l[p];if(v===a)return p;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=l[++p];for(;"string"==typeof w;)w=l[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=g?1:2}return-1}return function E0(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function eS(a,l,c=!1){for(let d=0;d<l.length;d++)if(JT(a,l[d],c))return!0;return!1}function tS(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function I0(a,l){return a?":not("+l.trim()+")":l}function sm(a){let l=a[0],c=1,d=2,p="",g=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const w=a[++c];p+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?p+="."+v:4&d&&(p+=" "+v);else""!==p&&!Bs(v)&&(l+=I0(g,p),p=""),d=v,g=g||!Bs(d);c++}return""!==p&&(l+=I0(g,p)),l}const Kt={};function T0(a){S0(sn(),Ne(),Hn()+a,!1)}function S0(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&eo(l,g,c)}else{const g=a.preOrderHooks;null!==g&&qo(l,g,0,c)}as(c)}function aS(a,l=null,c=null,d){const p=D0(a,l,c,d);return p.resolveInjectorInitializers(),p}function D0(a,l=null,c=null,d,p=new Set){const g=[c||kt,wT(a)];return d=d||("object"==typeof a?void 0:_e(a)),new ny(g,l||Bg(),d||null,p)}let Se=(()=>{class a{static create(c,d){if(Array.isArray(c))return aS({name:""},d,c,"");{const p=c.name??"";return aS({name:p},c.parent,c.providers,p)}}}return a.THROW_IF_NOT_FOUND=kr,a.NULL=new Vw,a.\u0275prov=dn({token:a,providedIn:"any",factory:()=>Ln(Nw)}),a.__NG_ELEMENT_ID__=-1,a})();function cl(a,l=at.Default){const c=Ne();return null===c?Ln(a,l):Jo(ci(),c,ne(a),l)}function bo(){throw new Error("invalid")}function pm(a,l){return a<<17|l<<2}function wo(a){return a>>17&32767}function Op(a){return 2|a}function _a(a){return(131068&a)>>2}function Fy(a,l){return-131069&a|l<<2}function Vd(a){return 1|a}function zy(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d],g=c[d+1];if(-1!==g){const v=a.data[g];$c(p),v.contentQueries(2,l[g],g)}}}function Bd(a,l,c,d,p,g,v,w,I,x,R){const V=l.blueprint.slice();return V[0]=p,V[2]=76|d,(null!==R||a&&1024&a[2])&&(V[2]|=1024),La(V),V[3]=V[15]=a,V[8]=c,V[10]=v||a&&a[10],V[11]=w||a&&a[11],V[12]=I||a&&a[12]||null,V[9]=x||a&&a[9]||null,V[6]=g,V[20]=function OT(){return RT++}(),V[21]=R,V[16]=2==l.type?a[16]:V,V}function fu(a,l,c,d,p){let g=a.data[l];if(null===g)g=function $y(a,l,c,d,p){const g=$o(),v=Hl(),I=a.data[l]=function TS(a,l,c,d,p,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,l,d,p);return null===a.firstChild&&(a.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(a,l,c,d,p),function sd(){return Vt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=p;const v=function Ul(){const a=Vt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Yi(g,!0),g}function ul(a,l,c,d){if(0===c)return-1;const p=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function zp(a,l,c){Zo(l);try{const d=a.viewQuery;null!==d&&tv(1,d,c);const p=a.template;null!==p&&Gy(a,l,p,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&zy(a,l),a.staticViewQueries&&tv(2,a.viewQuery,c);const g=a.components;null!==g&&function ES(a,l){for(let c=0;c<l.length;c++)K0(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Ds()}}function Ud(a,l,c,d){const p=l[2];if(128!=(128&p)){Zo(l);try{La(l),function ja(a){return Vt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&Gy(a,l,c,2,d);const v=3==(3&p);if(v){const x=a.preOrderCheckHooks;null!==x&&eo(l,x,null)}else{const x=a.preOrderHooks;null!==x&&qo(l,x,0,null),hd(l,0)}if(function q0(a){for(let l=Jg(a);null!==l;l=Xg(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const p=c[d],g=p[3];0==(512&p[2])&&Yn(g,1),p[2]|=512}}}(l),function Z0(a){for(let l=Jg(a);null!==l;l=Xg(l))for(let c=10;c<l.length;c++){const d=l[c],p=d[1];Ss(d)&&Ud(p,d,p.template,d[8])}}(l),null!==a.contentQueries&&zy(a,l),v){const x=a.contentCheckHooks;null!==x&&eo(l,x)}else{const x=a.contentHooks;null!==x&&qo(l,x,1),hd(l,1)}!function CS(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const p=c[d];if(p<0)as(~p);else{const g=p,v=c[++d],w=c[++d];od(v,g),w(2,l[g])}}}finally{as(-1)}}(a,l);const w=a.components;null!==w&&function jy(a,l){for(let c=0;c<l.length;c++)DS(a,l[c])}(l,w);const I=a.viewQuery;if(null!==I&&tv(2,I,d),v){const x=a.viewCheckHooks;null!==x&&eo(l,x)}else{const x=a.viewHooks;null!==x&&qo(l,x,2),hd(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Yn(l[3],-1))}finally{Ds()}}}function Gy(a,l,c,d,p){const g=Hn(),v=2&d;try{as(-1),v&&l.length>22&&S0(a,l,22,!1),c(d,p)}finally{as(g)}}function H0(a,l,c){if(Fo(l)){const p=l.directiveEnd;for(let g=l.directiveStart;g<p;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function gu(a,l,c){!Js()||(function $0(a,l,c,d){const p=c.directiveStart,g=c.directiveEnd;a.firstCreatePass||cs(c,l),Qi(d,l);const v=c.initialInputs;for(let w=p;w<g;w++){const I=a.data[w],x=ar(I);x&&Gp(l,c,I);const R=Ur(l,a,w,c);Qi(R,l),null!==v&&Xy(0,w-p,R,I,0,v),x&&(hn(c.index,l)[8]=R)}}(a,l,c,Ni(c,l)),128==(128&c.flags)&&function qy(a,l,c){const d=c.directiveStart,p=c.directiveEnd,g=c.index,v=function $h(){return Vt.lFrame.currentDirectiveIndex}();try{as(g);for(let w=d;w<p;w++){const I=a.data[w],x=l[w];Wo(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Ky(I,x)}}finally{as(-1),Wo(v)}}(a,l,c))}function vm(a,l,c=Ni){const d=l.localNames;if(null!==d){let p=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],w=-1===v?c(l,a):a[v];a[p++]=w}}}function Wy(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=bm(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function bm(a,l,c,d,p,g,v,w,I,x){const R=22+d,V=R+p,Q=function wm(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Kt);return c}(R,V),le="function"==typeof x?x():x;return Q[1]={type:a,blueprint:Q,template:c,queries:null,viewQuery:w,declTNode:l,data:Q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:le,incompleteFirstPass:!1}}function mu(a,l,c,d){const p=nv(l);null===c?p.push(d):(p.push(c),a.firstCreatePass&&Y0(a).push(d,p.length-1))}function z0(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const p=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,p):c[d]=[l,p]}return c}function cc(a,l){const d=l.directiveEnd,p=a.data,g=l.attrs,v=[];let w=null,I=null;for(let x=l.directiveStart;x<d;x++){const R=p[x],V=R.inputs,Q=null===g||C0(l)?null:Tm(V,g);v.push(Q),w=z0(V,x,w),I=z0(R.outputs,x,I)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=w,l.outputs=I}function Zy(a,l){const c=hn(l,a);16&c[2]||(c[2]|=32)}function Cm(a,l,c,d){let p=!1;if(Js()){const g=function G0(a,l,c){const d=a.directiveRegistry;let p=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];eS(c,v.selectors,!1)&&(p||(p=[]),to(cs(c,l),a,v.type),ar(v)?(zd(a,c),p.unshift(v)):p.push(v))}return p}(a,l,c),v=null===d?null:{"":-1};if(null!==g){p=!0,Im(c,a.data.length,g.length);for(let R=0;R<g.length;R++){const V=g[R];V.providersResolver&&V.providersResolver(V)}let w=!1,I=!1,x=ul(a,l,g.length,null);for(let R=0;R<g.length;R++){const V=g[R];c.mergedAttrs=Ya(c.mergedAttrs,V.hostAttrs),$p(a,c,l,x,V),Qy(x,V,v),null!==V.contentQueries&&(c.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(c.flags|=128);const Q=V.type.prototype;!w&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),w=!0),!I&&(Q.ngOnChanges||Q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),I=!0),x++}cc(a,c)}v&&function Yy(a,l,c){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const g=c[l[p+1]];if(null==g)throw new Ae(-301,!1);d.push(l[p],g)}}}(c,d,v)}return c.mergedAttrs=Ya(c.mergedAttrs,c.attrs),p}function Hd(a,l,c,d,p,g){const v=g.hostBindings;if(v){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const I=~l.index;(function Em(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=I&&w.push(I),w.push(d,p,v)}}function Ky(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function zd(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Qy(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;ar(l)&&(c[""]=a)}}function Im(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function $p(a,l,c,d,p){a.data[d]=p;const g=p.factory||(p.factory=Fi(p.type)),v=new br(g,ar(p),cl);a.blueprint[d]=v,c[d]=v,Hd(a,l,0,d,ul(a,c,p.hostVars,Kt),p)}function Gp(a,l,c){const d=Ni(l,a),p=Wy(c),g=a[10],v=uc(a,Bd(a,p,null,c.onPush?32:16,d,l,g,g.createRenderer(d,c),null,null,null));a[l.index]=v}function Co(a,l,c,d,p,g){const v=Ni(a,l);!function Jy(a,l,c,d,p,g,v){if(null==g)a.removeAttribute(l,p,c);else{const w=null==v?Te(g):v(g,d||"",p);a.setAttribute(l,p,w,c)}}(l[11],v,g,a.value,c,d,p)}function Xy(a,l,c,d,p,g){const v=g[l];if(null!==v){const w=d.setInput;for(let I=0;I<v.length;){const x=v[I++],R=v[I++],V=v[I++];null!==w?d.setInput(c,V,x,R):c[R]=V}}}function Tm(a,l){let c=null,d=0;for(;d<l.length;){const p=l[d];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,a[p],l[d+1])),d+=2}else d+=2;else d+=4}return c}function ev(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function DS(a,l){const c=hn(l,a);if(Ss(c)){const d=c[1];48&c[2]?Ud(d,c,d.template,c[8]):c[5]>0&&_u(c)}}function _u(a){for(let d=Jg(a);null!==d;d=Xg(d))for(let p=10;p<d.length;p++){const g=d[p];if(Ss(g))if(512&g[2]){const v=g[1];Ud(v,g,v.template,g[8])}else g[5]>0&&_u(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const p=hn(c[d],a);Ss(p)&&p[5]>0&&_u(p)}}function K0(a,l){const c=hn(l,a),d=c[1];(function Sm(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),zp(d,c,c[8])}function uc(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function dl(a){for(;a;){a[2]|=32;const l=Pd(a);if(Pc(a)&&!l)return a;a=l}return null}function jd(a,l,c,d=!0){const p=l[10];p.begin&&p.begin();try{Ud(a,l,a.template,c)}catch(v){throw d&&va(l,v),v}finally{p.end&&p.end()}}function tv(a,l,c){$c(0),l(a,c)}function nv(a){return a[7]||(a[7]=[])}function Y0(a){return a.cleanup||(a.cleanup=[])}function va(a,l){const c=a[9],d=c?c.get(Ep,null):null;d&&d.handleError(l)}function $d(a,l,c,d,p){for(let g=0;g<c.length;){const v=c[g++],w=c[g++],I=l[v],x=a.data[v];null!==x.setInput?x.setInput(I,p,d,w):I[w]=p}}function Us(a,l,c){const d=Ar(l,a);!function c0(a,l,c){a.setValue(l,c)}(a[11],d,c)}function Wp(a,l,c){let d=c?a.styles:null,p=c?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const w=l[v];"number"==typeof w?g=w:1==g?p=Ce(p,w):2==g&&(d=Ce(d,w+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=p:a.classesWithoutHost=p}function jn(a,l,c,d,p=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(Gn(g)),gr(g))for(let w=10;w<g.length;w++){const I=g[w],x=I[1].firstChild;null!==x&&jn(I[1],I,x,d)}const v=c.type;if(8&v)jn(a,l,c.child,d);else if(32&v){const w=vy(c,l);let I;for(;I=w();)d.push(I)}else if(16&v){const w=Dy(l,c);if(Array.isArray(w))d.push(...w);else{const I=Pd(l[16]);jn(I[1],I,w,d,!0)}}c=p?c.projectionNext:c.next}return d}class hc{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return jn(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(gr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Ey(l,d),hi(c,d))}this._attachedToViewContainer=!1}Sp(this._lView[1],this._lView)}onDestroy(l){mu(this._lView[1],this._lView,null,l)}markForCheck(){dl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){jd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function d0(a,l){du(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=l}}class Zp extends hc{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;jd(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class yu extends cu{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=j(l);return new qp(c,this.ngModule)}}function Q0(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class AS{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const p=this.injector.get(l,ay,d);return p!==ay||c===ay?p:this.parentInjector.get(l,c,d)}}class qp extends sy{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function nS(a){return a.map(sm).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Q0(this.componentDef.inputs)}get outputs(){return Q0(this.componentDef.outputs)}create(l,c,d,p){let g=(p=p||this.ngModule)instanceof da?p:p?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new AS(l,g):l,w=v.get(TT,null);if(null===w)throw new Ae(407,!1);const I=v.get(oy,null),x=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",V=d?function IS(a,l,c){return a.selectRootElement(l,c===bt.ShadowDom)}(x,d,this.componentDef.encapsulation):em(w.createRenderer(null,this.componentDef),R,function J0(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),Q=this.componentDef.onPush?288:272,le=bm(0,null,null,1,0,null,null,null,null,null),Me=Bd(null,le,null,Q,null,null,w,x,I,v,null);let We,nt;Zo(Me);try{const dt=function X0(a,l,c,d,p,g){const v=c[1];c[22]=a;const I=fu(v,22,2,"#host",null),x=I.mergedAttrs=l.hostAttrs;null!==x&&(Wp(I,x,!0),null!==a&&(ls(p,a,x),null!==I.classes&&kp(p,a,I.classes),null!==I.styles&&hu(p,a,I.styles)));const R=d.createRenderer(a,l),V=Bd(c,Wy(l),null,l.onPush?32:16,c[22],I,d,R,g||null,null,null);return v.firstCreatePass&&(to(cs(I,c),v,l.type),zd(v,I),Im(I,c.length,1)),uc(c,V),c[22]=V}(V,this.componentDef,Me,w,x);if(V)if(d)ls(x,V,["ng-version",Kw.full]);else{const{attrs:Mt,classes:Le}=function iS(a){const l=[],c=[];let d=1,p=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===p?""!==g&&l.push(g,a[++d]):8===p&&c.push(g);else{if(!Bs(p))break;p=g}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Mt&&ls(x,V,Mt),Le&&Le.length>0&&kp(x,V,Le.join(" "))}if(nt=Qs(le,22),void 0!==c){const Mt=nt.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const Lt=c[Le];Mt.push(null!=Lt?Array.from(Lt):null)}}We=function eC(a,l,c,d){const p=c[1],g=function Rr(a,l,c){const d=ci();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),$p(a,d,l,ul(a,l,1,null),c),cc(a,d));const p=Ur(l,a,d.directiveStart,d);Qi(p,l);const g=Ni(d,l);return g&&Qi(g,l),p}(p,c,l);if(a[8]=c[8]=g,null!==d)for(const w of d)w(g,l);if(l.contentQueries){const w=ci();l.contentQueries(1,g,w.directiveStart)}const v=ci();return!p.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(as(v.index),Hd(c[1],v,0,v.directiveStart,v.directiveEnd,l),Ky(l,g)),g}(dt,this.componentDef,Me,[tC]),zp(le,Me,null)}finally{Ds()}return new Kp(this.componentType,We,Ad(nt,Me),Me,nt)}}class Kp extends class $w{}{constructor(l,c,d,p,g){super(),this.location=d,this._rootLView=p,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Zp(p),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[l])){const g=this._rootLView;$d(g[1],g,p,l,c),Zy(g,this._tNode.index)}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function tC(){const a=ci();qc(Ne()[1],a)}function iv(a){let l=function bu(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let p;if(ar(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ae(903,!1);p=l.\u0275dir}if(p){if(c){d.push(p);const v=a;v.inputs=Dm(a.inputs),v.declaredInputs=Dm(a.declaredInputs),v.outputs=Dm(a.outputs);const w=p.hostBindings;w&&iC(a,w);const I=p.viewQuery,x=p.contentQueries;if(I&&RS(a,I),x&&nC(a,x),ve(a.inputs,p.inputs),ve(a.declaredInputs,p.declaredInputs),ve(a.outputs,p.outputs),ar(p)&&p.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(a),w===iv&&(c=!1)}}l=Object.getPrototypeOf(l)}!function kS(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=Ya(p.hostAttrs,c=Ya(c,p.hostAttrs))}}(d)}function Dm(a){return a===Oi?{}:a===kt?[]:a}function RS(a,l){const c=a.viewQuery;a.viewQuery=c?(d,p)=>{l(d,p),c(d,p)}:l}function nC(a,l){const c=a.contentQueries;a.contentQueries=c?(d,p,g)=>{l(d,p,g),c(d,p,g)}:l}function iC(a,l){const c=a.hostBindings;a.hostBindings=c?(d,p)=>{l(d,p),c(d,p)}:l}let Yp=null;function hl(){if(!Yp){const a=Ht.Symbol;if(a&&a.iterator)Yp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Yp=d)}}}return Yp}function Qp(a){return!!wu(a)&&(Array.isArray(a)||!(a instanceof Map)&&hl()in a)}function wu(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Hs(a,l,c){return a[l]=c}function Gd(a,l){return a[l]}function Vi(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function Eo(a,l,c,d){const p=Vi(a,l,c);return Vi(a,l+1,d)||p}function Mm(a,l,c,d,p){const g=Eo(a,l,c,d);return Vi(a,l+2,p)||g}function xn(a,l,c,d,p,g){const v=Eo(a,l,c,d);return Eo(a,l+2,p,g)||v}function km(a,l,c,d){const p=Ne();return Vi(p,$a(),l)&&(sn(),Co(zn(),p,a,l,c,d)),km}function qd(a,l,c,d,p,g){const w=Eo(a,function Br(){return Vt.lFrame.bindingIndex}(),c,p);return os(2),w?l+Te(c)+d+Te(p)+g:Kt}function Yd(a,l,c,d,p,g,v,w){const I=Ne(),x=sn(),R=a+22,V=x.firstCreatePass?function sC(a,l,c,d,p,g,v,w,I){const x=l.consts,R=fu(l,a,4,v||null,vr(x,w));Cm(l,c,R,vr(x,I)),qc(l,R);const V=R.tViews=bm(2,R,d,p,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,R),V.queries=l.queries.embeddedTView(R)),R}(R,x,I,l,c,d,p,g,v):x.data[R];Yi(V,!1);const Q=I[11].createComment("");Ap(x,I,Q,V),Qi(Q,I),uc(I,I[R]=ev(Q,I,Q,V)),Pa(V)&&gu(x,I,V),null!=v&&vm(I,V,w)}function uv(a){return Vr(function za(){return Vt.lFrame.contextLView}(),22+a)}function ef(a,l,c){const d=Ne();return Vi(d,$a(),l)&&function Er(a,l,c,d,p,g,v,w){const I=Ni(l,c);let R,x=l.inputs;!w&&null!=x&&(R=x[d])?($d(a,c,R,d,p),Oc(l)&&Zy(c,l.index)):3&l.type&&(d=function j0(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=v?v(p,l.value||"",d):p,g.setProperty(I,d,p))}(sn(),zn(),d,a,l,d[11],c,!1),ef}function tf(a,l,c,d,p){const v=p?"class":"style";$d(a,c,l.inputs[v],v,d)}function Su(a,l,c,d){const p=Ne(),g=sn(),v=22+a,w=p[11],I=p[v]=em(w,l,function Zc(){return Vt.lFrame.currentNamespace}()),x=g.firstCreatePass?function aC(a,l,c,d,p,g,v){const w=l.consts,x=fu(l,a,2,p,vr(w,g));return Cm(l,c,x,vr(w,v)),null!==x.attrs&&Wp(x,x.attrs,!1),null!==x.mergedAttrs&&Wp(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(v,g,p,0,l,c,d):g.data[v];Yi(x,!0);const R=x.mergedAttrs;null!==R&&ls(w,I,R);const V=x.classes;null!==V&&kp(w,I,V);const Q=x.styles;return null!==Q&&hu(w,I,Q),64!=(64&x.flags)&&Ap(g,p,I,x),0===function Ba(){return Vt.lFrame.elementDepthCount}()&&Qi(I,p),function rd(){Vt.lFrame.elementDepthCount++}(),Pa(x)&&(gu(g,p,x),H0(g,x,p)),null!==d&&vm(p,x),Su}function nf(){let a=ci();Hl()?Go():(a=a.parent,Yi(a,!1));const l=a;!function Ua(){Vt.lFrame.elementDepthCount--}();const c=sn();return c.firstCreatePass&&(qc(c,a),Fo(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function jl(a){return 0!=(16&a.flags)}(l)&&tf(c,l,Ne(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function $l(a){return 0!=(32&a.flags)}(l)&&tf(c,l,Ne(),l.stylesWithoutHost,!1),nf}function Pm(a,l,c,d){return Su(a,l,c,d),nf(),Pm}function rf(a,l,c){const d=Ne(),p=sn(),g=a+22,v=p.firstCreatePass?function Du(a,l,c,d,p){const g=l.consts,v=vr(g,d),w=fu(l,a,8,"ng-container",v);return null!==v&&Wp(w,v,!0),Cm(l,c,w,vr(g,p)),null!==l.queries&&l.queries.elementStart(l,w),w}(g,p,d,l,c):p.data[g];Yi(v,!0);const w=d[g]=d[11].createComment("");return Ap(p,d,w,v),Qi(w,d),Pa(v)&&(gu(p,d,v),H0(p,v,d)),null!=c&&vm(d,v),rf}function sf(){let a=ci();const l=sn();return Hl()?Go():(a=a.parent,Yi(a,!1)),l.firstCreatePass&&(qc(l,a),Fo(a)&&l.queries.elementEnd(a)),sf}function Fm(a,l,c){return rf(a,l,c),sf(),Fm}function dv(){return Ne()}function Qd(a){return!!a&&"function"==typeof a.then}function $r(a){return!!a&&"function"==typeof a.subscribe}const hv=$r;function Nm(a,l,c,d){const p=Ne(),g=sn(),v=ci();return function lC(a,l,c,d,p,g,v,w){const I=Pa(d),R=a.firstCreatePass&&Y0(a),V=l[8],Q=nv(l);let le=!0;if(3&d.type||w){const nt=Ni(d,l),dt=w?w(nt):nt,Mt=Q.length,Le=w?bn=>w(Gn(bn[d.index])):d.index;let Lt=null;if(!w&&I&&(Lt=function FS(a,l,c,d){const p=a.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const v=p[g];if(v===c&&p[g+1]===d){const w=l[7],I=p[g+2];return w.length>I?w[I]:null}"string"==typeof v&&(g+=2)}return null}(a,l,p,d.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=g,Lt.__ngLastListenerFn__=g,le=!1;else{g=cC(d,l,V,g,!1);const bn=c.listen(dt,p,g);Q.push(g,bn),R&&R.push(p,Le,Mt,Mt+1)}}else g=cC(d,l,V,g,!1);const Me=d.outputs;let We;if(le&&null!==Me&&(We=Me[p])){const nt=We.length;if(nt)for(let dt=0;dt<nt;dt+=2){const si=l[We[dt]][We[dt+1]].subscribe(g),Ml=Q.length;Q.push(g,si),R&&R.push(p,d.index,Ml,-(Ml+1))}}}(g,p,p[11],v,a,l,0,d),Nm}function Lm(a,l,c,d){try{return!1!==c(d)}catch(p){return va(a,p),!1}}function cC(a,l,c,d,p){return function g(v){if(v===Function)return d;dl(2&a.flags?hn(a.index,l):l);let I=Lm(l,0,d,v),x=g.__ngNextListenerFn__;for(;x;)I=Lm(l,0,x,v)&&I,x=x.__ngNextListenerFn__;return p&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function uC(a=1){return function xs(a){return(Vt.lFrame.contextLView=function cd(a,l){for(;a>0;)l=l[15],a--;return l}(a,Vt.lFrame.contextLView))[8]}(a)}function dC(a,l){let c=null;const d=function rm(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let p=0;p<l.length;p++){const g=l[p];if("*"!==g){if(null===d?eS(a,g,!0):tS(d,g))return p}else c=p}return c}function hC(a){const l=Ne()[16][6];if(!l.projection){const d=l.projection=so(a?a.length:1,null),p=d.slice();let g=l.child;for(;null!==g;){const v=a?dC(g,a):0;null!==v&&(p[v]?p[v].projectionNext=g:d[v]=g,p[v]=g),g=g.next}}}function af(a,l=0,c){const d=Ne(),p=sn(),g=fu(p,22+a,16,null,c||null);null===g.projection&&(g.projection=l),Go(),64!=(64&g.flags)&&function b0(a,l,c){Mp(l[11],0,l,c,p0(a,c,l),fi(c.parent||l[6],c,l))}(p,d,g)}function mC(a,l,c,d,p){const g=a[c+1],v=null===l;let w=d?wo(g):_a(g),I=!1;for(;0!==w&&(!1===I||v);){const R=a[w+1];ot(a[w],l)&&(I=!0,a[w+1]=d?Vd(R):Op(R)),w=d?wo(R):_a(R)}I&&(a[c+1]=d?Op(g):Vd(g))}function ot(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&zr(a,l)>=0}const pe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function He(a){return a.substring(pe.key,pe.keyEnd)}function Xi(a){return a.substring(pe.value,pe.valueEnd)}function yC(a,l){const c=pe.textEnd;return c===l?-1:(l=pe.keyEnd=function wC(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,pe.key=l,c),Jd(a,l,c))}function vC(a,l){const c=pe.textEnd;let d=pe.key=Jd(a,l,c);return c===d?-1:(d=pe.keyEnd=function LS(a,l,c){let d;for(;l<c&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,c),d=VS(a,d,c),d=pe.value=Jd(a,d,c),d=pe.valueEnd=function BS(a,l,c){let d=-1,p=-1,g=-1,v=l,w=v;for(;v<c;){const I=a.charCodeAt(v++);if(59===I)return w;34===I||39===I?w=v=pv(a,I,v,c):l===v-4&&85===g&&82===p&&76===d&&40===I?w=v=pv(a,41,v,c):I>32&&(w=v),g=p,p=d,d=-33&I}return w}(a,d,c),VS(a,d,c))}function bC(a){pe.key=0,pe.keyEnd=0,pe.value=0,pe.valueEnd=0,pe.textEnd=a.length}function Jd(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function VS(a,l,c,d){return(l=Jd(a,l,c))<c&&l++,l}function pv(a,l,c,d){let p=-1,g=c;for(;g<d;){const v=a.charCodeAt(g++);if(v==l&&92!==p)return g;p=92==v&&92===p?0:v}throw new Error}function fc(a,l,c){return Io(a,l,c,!1),fc}function Um(a,l){return Io(a,l,null,!0),Um}function yn(a){Tn(mv,Nt,a,!1)}function Nt(a,l){for(let c=function NS(a){return bC(a),vC(a,Jd(a,0,pe.textEnd))}(l);c>=0;c=vC(l,c))mv(a,He(l),Xi(l))}function Xd(a){Tn(ut,Jt,a,!0)}function Jt(a,l){for(let c=function _C(a){return bC(a),yC(a,Jd(a,0,pe.textEnd))}(l);c>=0;c=yC(l,c))ut(a,He(l),!0)}function Io(a,l,c,d){const p=Ne(),g=sn(),v=os(2);g.firstUpdatePass&&lf(g,a,v,d),l!==Kt&&Vi(p,v,l)&&zm(g,g.data[Hn()],p,p[11],a,p[v+1]=function gc(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=_e(Ns(a)))),a}(l,c),d,v)}function Tn(a,l,c,d){const p=sn(),g=os(2);p.firstUpdatePass&&lf(p,null,g,d);const v=Ne();if(c!==Kt&&Vi(v,g,c)){const w=p.data[Hn()];if(jm(w,d)&&!tt(p,g)){let I=d?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(c=Ce(I,c||"")),tf(p,w,v,c,d)}else!function ps(a,l,c,d,p,g,v,w){p===Kt&&(p=kt);let I=0,x=0,R=0<p.length?p[0]:null,V=0<g.length?g[0]:null;for(;null!==R||null!==V;){const Q=I<p.length?p[I+1]:void 0,le=x<g.length?g[x+1]:void 0;let We,Me=null;R===V?(I+=2,x+=2,Q!==le&&(Me=V,We=le)):null===V||null!==R&&R<V?(I+=2,Me=R):(x+=2,Me=V,We=le),null!==Me&&zm(a,l,c,d,Me,We,v,w),R=I<p.length?p[I]:null,V=x<g.length?g[x]:null}}(p,w,v,v[11],v[g+1],v[g+1]=function CC(a,l,c){if(null==c||""===c)return kt;const d=[],p=Ns(c);if(Array.isArray(p))for(let g=0;g<p.length;g++)a(d,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&a(d,g,p[g]);else"string"==typeof p&&l(d,p);return d}(a,l,c),d,g)}}function tt(a,l){return l>=a.expandoStartIndex}function lf(a,l,c,d){const p=a.data;if(null===p[c+1]){const g=p[Hn()],v=tt(a,c);jm(g,d)&&null===l&&!v&&(l=!1),l=function fv(a,l,c,d){const p=function jc(a){const l=Vt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let g=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(c=gl(c=gv(null,a,l,c,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==p)if(c=gv(p,a,l,c,d),null===g){let I=function Mu(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==_a(d))return a[wo(d)]}(a,l,d);void 0!==I&&Array.isArray(I)&&(I=gv(null,a,l,I[1],d),I=gl(I,l.attrs,d),function US(a,l,c,d){a[wo(c?l.classBindings:l.styleBindings)]=d}(a,l,d,I))}else g=function Hm(a,l,c){let d;const p=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<p;g++)d=gl(d,a[g].hostAttrs,c);return gl(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(p,g,l,d),function ft(a,l,c,d,p,g){let v=g?l.classBindings:l.styleBindings,w=wo(v),I=_a(v);a[d]=c;let R,x=!1;if(Array.isArray(c)){const V=c;R=V[1],(null===R||zr(V,R)>0)&&(x=!0)}else R=c;if(p)if(0!==I){const Q=wo(a[w+1]);a[d+1]=pm(Q,w),0!==Q&&(a[Q+1]=Fy(a[Q+1],d)),a[w+1]=function O0(a,l){return 131071&a|l<<17}(a[w+1],d)}else a[d+1]=pm(w,0),0!==w&&(a[w+1]=Fy(a[w+1],d)),w=d;else a[d+1]=pm(I,0),0===w?w=d:a[I+1]=Fy(a[I+1],d),I=d;x&&(a[d+1]=Op(a[d+1])),mC(a,R,d,!0),mC(a,R,d,!1),function Ut(a,l,c,d,p){const g=p?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&zr(g,l)>=0&&(c[d+1]=Vd(c[d+1]))}(l,R,a,d,g),v=pm(w,I),g?l.classBindings=v:l.styleBindings=v}(p,g,l,c,v,d)}}function gv(a,l,c,d,p){let g=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(g=l[w],d=gl(d,g.hostAttrs,p),g!==a);)w++;return null!==a&&(c.directiveStylingLast=w),d}function gl(a,l,c){const d=c?1:2;let p=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?p=v:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ut(a,v,!!c||l[++g]))}return void 0===a?null:a}function mv(a,l,c){ut(a,l,Ns(c))}function zm(a,l,c,d,p,g,v,w){if(!(3&l.type))return;const I=a.data,x=I[w+1];cf(function Ny(a){return 1==(1&a)}(x)?_v(I,l,c,p,_a(x),v):void 0)||(cf(g)||function pu(a){return 2==(2&a)}(x)&&(g=_v(I,null,c,p,w,v)),function w0(a,l,c,d,p){if(l)p?a.addClass(c,d):a.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:ha.DashCase;null==p?a.removeStyle(c,d,g):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),g|=ha.Important),a.setStyle(c,d,p,g))}}(d,v,Ar(Hn(),c),p,g))}function _v(a,l,c,d,p,g){const v=null===l;let w;for(;p>0;){const I=a[p],x=Array.isArray(I),R=x?I[1]:I,V=null===R;let Q=c[p+1];Q===Kt&&(Q=V?kt:void 0);let le=V?tu(Q,d):R===d?Q:void 0;if(x&&!cf(le)&&(le=tu(I,d)),cf(le)&&(w=le,v))return w;const Me=a[p+1];p=v?wo(Me):_a(Me)}if(null!==l){let I=g?l.residualClasses:l.residualStyles;null!=I&&(w=tu(I,d))}return w}function cf(a){return void 0!==a}function jm(a,l){return 0!=(a.flags&(l?16:32))}function ge(a,l=""){const c=Ne(),d=sn(),p=a+22,g=d.firstCreatePass?fu(d,p,1,l,null):d.data[p],v=c[p]=function wy(a,l){return a.createText(l)}(c[11],l);Ap(d,c,v,g),Yi(g,!1)}function eh(a){return Gr("",a,""),eh}function Gr(a,l,c){const d=Ne(),p=function Zd(a,l,c,d){return Vi(a,$a(),c)?l+Te(c)+d:Kt}(d,a,l,c);return p!==Kt&&Us(d,Hn(),p),Gr}function yv(a,l,c,d,p){const g=Ne(),v=qd(g,a,l,c,d,p);return v!==Kt&&Us(g,Hn(),v),yv}const Ir=void 0;var vc=["en",[["a","p"],["AM","PM"],Ir],[["AM","PM"],Ir,Ir],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ir,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ir,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ir,"{1} 'at' {0}",Ir],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function df(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Ou={};function pf(a){const l=function qm(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=ah(l);if(c)return c;const d=l.split("-")[0];if(c=ah(d),c)return c;if("en"===d)return vc;throw new Ae(701,!1)}function Zm(a){return pf(a)[Rt.PluralCase]}function ah(a){return a in Ou||(Ou[a]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[a]),Ou[a]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const lh="en-US";let $n=lh;function Lu(a,l,c,d,p){if(a=ne(a),Array.isArray(a))for(let g=0;g<a.length;g++)Lu(a[g],l,c,d,p);else{const g=sn(),v=Ne();let w=Ls(a)?a:ne(a.provide),I=Ug(a);const x=ci(),R=1048575&x.providerIndexes,V=x.directiveStart,Q=x.providerIndexes>>20;if(Ls(a)||!a.multi){const le=new br(I,p,cl),Me=t_(w,l,p?R:R+Q,V);-1===Me?(to(cs(x,v),g,w),e_(g,a,l.length),l.push(w),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),c.push(le),v.push(le)):(c[Me]=le,v[Me]=le)}else{const le=t_(w,l,R+Q,V),Me=t_(w,l,R,R+Q),We=le>=0&&c[le],nt=Me>=0&&c[Me];if(p&&!nt||!p&&!We){to(cs(x,v),g,w);const dt=function tn(a,l,c,d,p){const g=new br(a,c,cl);return g.multi=[],g.index=l,g.componentProviders=0,So(g,p,d&&!c),g}(p?rD:Ef,c.length,p,d,I);!p&&nt&&(c[Me].providerFactory=dt),e_(g,a,l.length,0),l.push(w),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),c.push(dt),v.push(dt)}else e_(g,a,le>-1?le:Me,So(c[p?Me:le],I,!p&&d));!p&&d&&nt&&c[Me].componentProviders++}}}function e_(a,l,c,d){const p=Ls(l),g=function zw(a){return!!a.useClass}(l);if(p||g){const I=(g?ne(l.useClass):l).prototype.ngOnDestroy;if(I){const x=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const R=x.indexOf(c);-1===R?x.push(c,[d,I]):x[R+1].push(d,I)}else x.push(c,I)}}}function So(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function t_(a,l,c,d){for(let p=c;p<d;p++)if(l[p]===a)return p;return-1}function Ef(a,l,c,d){return Ov(this.multi,[])}function rD(a,l,c,d){const p=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Ur(c,c[1],this.providerFactory.index,d);g=w.slice(0,v),Ov(p,g);for(let I=v;I<w.length;I++)g.push(w[I])}else g=[],Ov(p,g);return g}function Ov(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function iE(a,l=[]){return c=>{c.providersResolver=(d,p)=>function nE(a,l,c){const d=sn();if(d.firstCreatePass){const p=ar(a);Lu(c,d.data,d.blueprint,p,!0),Lu(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class wl{}class fh{}function If(a,l){return new Fv(a,l??null)}class Fv extends wl{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yu(this);const d=It(l);this._bootstrapComponents=al(d.bootstrap),this._r3Injector=D0(l,c,[{provide:wl,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],_e(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class n_ extends fh{constructor(l){super(),this.moduleType=l}create(l){return new Fv(this.moduleType,l)}}class rE extends wl{constructor(l,c,d){super(),this.componentFactoryResolver=new yu(this),this.instance=null;const p=new ny([...l,{provide:wl,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],c||Bg(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Nv(a,l,c=null){return new rE(a,l,c).injector}let sE=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Bw(0,c.type),p=d.length>0?Nv([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,p)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=dn({token:a,providedIn:"environment",factory:()=>new a(Ln(da))}),a})();function Lv(a){a.getStandaloneInjector=l=>l.get(sE).getOrCreateStandaloneInjector(a)}function dE(a,l,c){const d=ui()+a,p=Ne();return p[d]===Kt?Hs(p,d,c?l.call(c):l()):Gd(p,d)}function _h(a,l,c,d){return Vu(Ne(),ui(),a,l,c,d)}function r_(a,l,c,d,p){return Bu(Ne(),ui(),a,l,c,d,p)}function hE(a,l,c,d,p,g){return mE(Ne(),ui(),a,l,c,d,p,g)}function Hv(a,l,c,d,p,g,v){return function _E(a,l,c,d,p,g,v,w,I){const x=l+c;return xn(a,x,p,g,v,w)?Hs(a,x+4,I?d.call(I,p,g,v,w):d(p,g,v,w)):Sf(a,x+4)}(Ne(),ui(),a,l,c,d,p,g,v)}function zv(a,l,c,d,p,g,v,w){const I=ui()+a,x=Ne(),R=xn(x,I,c,d,p,g);return Vi(x,I+4,v)||R?Hs(x,I+5,w?l.call(w,c,d,p,g,v):l(c,d,p,g,v)):Gd(x,I+5)}function jv(a,l,c,d,p,g,v,w,I){const x=ui()+a,R=Ne(),V=xn(R,x,c,d,p,g);return Eo(R,x+4,v,w)||V?Hs(R,x+6,I?l.call(I,c,d,p,g,v,w):l(c,d,p,g,v,w)):Gd(R,x+6)}function pE(a,l,c,d,p,g,v,w,I,x){const R=ui()+a,V=Ne();let Q=xn(V,R,c,d,p,g);return Mm(V,R+4,v,w,I)||Q?Hs(V,R+7,x?l.call(x,c,d,p,g,v,w,I):l(c,d,p,g,v,w,I)):Gd(V,R+7)}function gE(a,l,c,d){return function yE(a,l,c,d,p,g){let v=l+c,w=!1;for(let I=0;I<p.length;I++)Vi(a,v++,p[I])&&(w=!0);return w?Hs(a,v,d.apply(g,p)):Sf(a,v)}(Ne(),ui(),a,l,c,d)}function Sf(a,l){const c=a[l];return c===Kt?void 0:c}function Vu(a,l,c,d,p,g){const v=l+c;return Vi(a,v,p)?Hs(a,v+1,g?d.call(g,p):d(p)):Sf(a,v+1)}function Bu(a,l,c,d,p,g,v){const w=l+c;return Eo(a,w,p,g)?Hs(a,w+2,v?d.call(v,p,g):d(p,g)):Sf(a,w+2)}function mE(a,l,c,d,p,g,v,w){const I=l+c;return Mm(a,I,p,g,v)?Hs(a,I+3,w?d.call(w,p,g,v):d(p,g,v)):Sf(a,I+3)}function $v(a,l){const c=sn();let d;const p=a+22;c.firstCreatePass?(d=function Or(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[p]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,d.onDestroy)):d=c.data[p];const g=d.factory||(d.factory=Fi(d.type)),v=Cn(cl);try{const w=Qa(!1),I=g();return Qa(w),function oC(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Ne(),p,I),I}finally{Cn(v)}}function Gv(a,l,c){const d=a+22,p=Ne(),g=Vr(p,d);return Df(p,d)?Vu(p,ui(),l,g.transform,c,g):g.transform(c)}function Do(a,l,c,d){const p=a+22,g=Ne(),v=Vr(g,p);return Df(g,p)?Bu(g,ui(),l,v.transform,c,d,v):v.transform(c,d)}function Wv(a,l,c,d,p){const g=a+22,v=Ne(),w=Vr(v,g);return Df(v,g)?mE(v,ui(),l,w.transform,c,d,p,w):w.transform(c,d,p)}function Df(a,l){return a[1].data[l].pure}function Zv(a){return l=>{setTimeout(a,void 0,l)}}const Ca=class cD extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let p=l,g=c||(()=>null),v=d;if(l&&"object"==typeof l){const I=l;p=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=Zv(g),p&&(p=Zv(p)),v&&(v=Zv(v)));const w=super.subscribe({next:p,error:g,complete:v});return l instanceof H.w0&&l.add(w),w}};function uD(){return this._results[hl()]()}class qv{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=hl(),d=qv.prototype;d[c]||(d[c]=uD)}get changes(){return this._changes||(this._changes=new Ca)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const p=Pn(l);(this._changesDetected=!function Qt(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],g=l[d];if(c&&(p=c(p),g=c(g)),g!==p)return!1}return!0}(d._results,p,c))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xf=(()=>{class a{}return a.__NG_ELEMENT_ID__=pD,a})();const dD=xf,hD=class extends dD{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,p=Bd(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);p[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(p[19]=v.createEmbeddedView(d)),zp(d,p,l),new hc(p)}};function pD(){return o_(ci(),Ne())}function o_(a,l){return 4&a.type?new hD(l,a,Ad(a,l)):null}let a_=(()=>{class a{}return a.__NG_ELEMENT_ID__=fD,a})();function fD(){return Qv(ci(),Ne())}const gD=a_,bE=class extends gD{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Ad(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ja(this._hostTNode,this._hostLView);if(Kh(l)){const c=As(l,this._hostLView),d=di(l);return new ea(c[1].data[d+8],c)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Kv(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let p,g;"number"==typeof d?p=d:null!=d&&(p=d.index,g=d.injector);const v=l.createEmbeddedView(c||{},g);return this.insert(v,p),v}createComponent(l,c,d,p,g){const v=l&&!function us(a){return"function"==typeof a}(l);let w;if(v)w=c;else{const V=c||{};w=V.index,d=V.injector,p=V.projectableNodes,g=V.environmentInjector||V.ngModuleRef}const I=v?l:new qp(j(l)),x=d||this.parentInjector;if(!g&&null==I.ngModule){const Q=(v?x:this.parentInjector).get(da,null);Q&&(g=Q)}const R=I.create(x,p,void 0,g);return this.insert(R.hostView,w),R}insert(l,c){const d=l._lView,p=d[1];if(function Hc(a){return gr(a[3])}(d)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const V=d[3],Q=new bE(V,V[6],V[3]);Q.detach(Q.indexOf(l))}}const g=this._adjustIndex(c),v=this._lContainer;!function GT(a,l,c,d){const p=10+d,g=c.length;d>0&&(c[p-1][4]=l),d<g-10?(l[4]=c[p],ro(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function WT(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=64}(p,d,v,g);const w=v0(g,v),I=d[11],x=nm(I,v[7]);return null!==x&&function u0(a,l,c,d,p,g){d[0]=p,d[6]=l,du(a,d,c,1,p,g)}(p,v[6],I,d,x,w),l.attachToViewContainerRef(),ro(Yv(v),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Kv(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Ey(this._lContainer,c);d&&(hi(Yv(this._lContainer),c),Sp(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Ey(this._lContainer,c);return d&&null!=hi(Yv(this._lContainer),c)?new hc(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function Kv(a){return a[8]}function Yv(a){return a[8]||(a[8]=[])}function Qv(a,l){let c;const d=l[a.index];if(gr(d))c=d;else{let p;if(8&a.type)p=Gn(d);else{const g=l[11];p=g.createComment("");const v=Ni(a,l);pa(g,nm(g,v),p,function _0(a,l){return a.nextSibling(l)}(g,v),!1)}l[a.index]=c=ev(d,l,p,a),uc(l,c)}return new bE(c,a,l)}class Bi{constructor(l){this.queryList=l,this.matches=null}clone(){return new Bi(this.queryList)}setDirty(){this.queryList.setDirty()}}class Af{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);p.push(this.queries[v.indexInDeclarationView].clone())}return new Af(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==nb(l,c).matches&&this.queries[c].setDirty()}}class l_{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Mf{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const p=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,p);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Mf(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Ea{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Ea(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const g=d[p];this.matchTNodeWithReadOption(l,c,EE(c,g)),this.matchTNodeWithReadOption(l,c,el(c,l,g,!1,!1))}else d===xf?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,el(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===uu||p===a_||p===xf&&4&c.type)this.addMatch(c.index,-2);else{const g=el(c,l,p,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function EE(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function IE(a,l,c,d){return-1===c?function _D(a,l){return 11&a.type?Ad(a,l):4&a.type?o_(a,l):null}(l,a):-2===c?function c_(a,l,c){return c===uu?Ad(l,a):c===xf?o_(l,a):c===a_?Qv(l,a):void 0}(a,l,d):Ur(a,a[1],c,l)}function Cc(a,l,c,d){const p=l[19].queries[d];if(null===p.matches){const g=a.data,v=c.matches,w=[];for(let I=0;I<v.length;I+=2){const x=v[I];w.push(x<0?null:IE(l,g[x],v[I+1],c.metadata.read))}p.matches=w}return p.matches}function El(a,l,c,d){const p=a.queries.getByIndex(c),g=p.matches;if(null!==g){const v=Cc(a,l,p,c);for(let w=0;w<g.length;w+=2){const I=g[w];if(I>0)d.push(v[w/2]);else{const x=g[w+1],R=l[-I];for(let V=10;V<R.length;V++){const Q=R[V];Q[17]===Q[3]&&El(Q[1],Q,x,d)}if(null!==R[9]){const V=R[9];for(let Q=0;Q<V.length;Q++){const le=V[Q];El(le[1],le,x,d)}}}}}return d}function Ec(a){const l=Ne(),c=sn(),d=Ga();$c(d+1);const p=nb(c,d);if(a.dirty&&function Uc(a){return 4==(4&a[2])}(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const g=p.crossesNgTemplate?El(c,l,d,[]):Cc(c,l,p,d);a.reset(g,Zw),a.notifyOnChanges()}return!0}return!1}function yh(a,l,c){const d=sn();d.firstCreatePass&&(tb(d,new l_(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),eb(d,Ne(),l)}function Jv(a,l,c,d){const p=sn();if(p.firstCreatePass){const g=ci();tb(p,new l_(l,c,d),g.index),function yD(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(p,a),2==(2&c)&&(p.staticContentQueries=!0)}eb(p,Ne(),c)}function u_(){return function Xv(a,l){return a[19].queries[l].queryList}(Ne(),Ga())}function eb(a,l,c){const d=new qv(4==(4&c));mu(a,l,d,d.destroy),null===l[19]&&(l[19]=new Af),l[19].queries.push(new Bi(d))}function tb(a,l,c){null===a.queries&&(a.queries=new Mf),a.queries.track(new Ea(l,c))}function nb(a,l){return a.queries.getByIndex(l)}function ib(a,l){return o_(a,l)}function f_(...a){}const LE=new On("Application Initializer");let $u=(()=>{class a{constructor(c){this.appInits=c,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Qd(g))c.push(g);else if(hv(g)){const v=new Promise((w,I)=>{g.subscribe({complete:w,error:I})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(p=>{this.reject(p)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Ln(LE,8))},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const VE=new On("AppId",{providedIn:"root",factory:function fb(){return`${Of()}${Of()}${Of()}`}});function Of(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ch=new On("Platform Initializer"),g_=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),m_=new On("appBootstrapListener"),HE=new On("AnimationModuleType");let MD=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Pf=new On("LocaleId",{providedIn:"root",factory:()=>ur(Pf,at.Optional|at.SkipSelf)||function zE(){return typeof $localize<"u"&&$localize.locale||lh}()}),gb=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jE{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let RD=(()=>{class a{compileModuleSync(c){return new n_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=al(It(c).declarations).reduce((v,w)=>{const I=j(w);return I&&v.push(new qp(I)),v},[]);return new jE(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const PD=(()=>Promise.resolve(0))();function Lf(a){typeof Zone>"u"?PD.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Kr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&c,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function FD(){let a=Ht.requestAnimationFrame,l=Ht.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function y_(a){const l=()=>{!function yb(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ht,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Gu(a),a.isCheckStableRunning=!0,__(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Gu(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,p,g,v,w)=>{try{return Vf(a),c.invokeTask(p,g,v,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),v_(a)}},onInvoke:(c,d,p,g,v,w,I)=>{try{return Vf(a),c.invoke(p,g,v,w,I)}finally{a.shouldCoalesceRunChangeDetection&&l(),v_(a)}},onHasTask:(c,d,p,g)=>{c.hasTask(p,g),d===p&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Gu(a),__(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,p,g)=>(c.handleError(p,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kr.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Kr.isInAngularZone())throw new Ae(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,p){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+p,l,$E,f_,f_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const $E={};function __(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Gu(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Vf(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function v_(a){a._nesting--,__(a)}class vb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,p){return l.apply(c,d)}}const b_=new On(""),bb=new On("");let Cb,ND=(()=>{class a{constructor(c,d,p){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cb||(function LD(a){Cb=a}(p),p.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kr.assertNotInAngularZone(),Lf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lf(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,p){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:p})}whenStable(c,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,p){return[]}}return a.\u0275fac=function(c){return new(c||a)(Ln(Kr),Ln(wb),Ln(bb))},a.\u0275prov=dn({token:a,factory:a.\u0275fac}),a})(),wb=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Cb?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Tc=null;const Eb=new On("AllowMultipleToken"),Ih=new On("PlatformDestroyListeners");class UD{constructor(l,c){this.name=l,this.token=c}}function C_(a,l,c=[]){const d=`Platform: ${l}`,p=new On(d);return(g=[])=>{let v=Wu();if(!v||v.injector.get(Eb,!1)){const w=[...c,...g,{provide:p,useValue:!0}];a?a(w):function HD(a){if(Tc&&!Tc.get(Eb,!1))throw new Ae(400,!1);Tc=a;const l=a.get(I_);(function GE(a){const l=a.get(Ch,null);l&&l.forEach(c=>c())})(a)}(function E_(a=[],l){return Se.create({name:l,providers:[{provide:Ng,useValue:"platform"},{provide:Ih,useValue:new Set([()=>Tc=null])},...a]})}(w,d))}return function Th(a){const l=Wu();if(!l)throw new Ae(401,!1);return l}()}}function Wu(){return Tc?.get(I_)??null}let I_=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const p=function T_(a,l){let c;return c="noop"===a?new vb:("zone.js"===a?void 0:a)||new Kr(l),c}(d?.ngZone,function Sb(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Kr,useValue:p}];return p.run(()=>{const v=Se.create({providers:g,parent:this.injector,name:c.moduleType.name}),w=c.create(v),I=w.injector.get(Ep,null);if(!I)throw new Ae(402,!1);return p.runOutsideAngular(()=>{const x=p.onError.subscribe({next:R=>{I.handleError(R)}});w.onDestroy(()=>{D_(this._modules,w),x.unsubscribe()})}),function S_(a,l,c){try{const d=c();return Qd(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(I,p,()=>{const x=w.injector.get($u);return x.runInitializers(),x.donePromise.then(()=>(function MC(a){nn(a,"Expected localeId to be defined"),"string"==typeof a&&($n=a.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Pf,lh)||lh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const p=xl({},d);return function Ib(a,l,c){const d=new n_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(c){const d=c.injector.get(Bf);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new Ae(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Ih,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Ln(Se))},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function xl(a,l){return Array.isArray(l)?l.reduce(xl,a):{...a,...l}}let Bf=(()=>{class a{constructor(c,d,p){this._zone=c,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new O.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Kr.assertNotInAngularZone(),Lf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Kr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ue.T)(g,v.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const p=c instanceof sy;if(!this._injector.get($u).done)throw!p&&Ye(c),new Ae(405,false);let v;v=p?c:this._injector.get(cu).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const w=function BD(a){return a.isBoundToModule}(v)?void 0:this._injector.get(wl),x=v.create(Se.NULL,[],d||v.selector,w),R=x.location.nativeElement,V=x.injector.get(b_,null);return V?.registerApplication(R),x.onDestroy(()=>{this.detachView(x.hostView),D_(this.components,x),V?.unregisterApplication(R)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;D_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(m_,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>D_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ae(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(Ln(Kr),Ln(da),Ln(Ep))},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function D_(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let A_=!0,WE=!1;function Db(){return WE=!0,A_}function M_(){if(WE)throw new Error("Cannot enable prod mode after platform setup.");A_=!1}let xb=(()=>{class a{}return a.__NG_ELEMENT_ID__=GD,a})();function GD(a){return function WD(a,l,c){if(Oc(a)&&!c){const d=hn(a.index,l);return new hc(d,d)}return 47&a.type?new hc(l[16],l):null}(ci(),Ne(),16==(16&a))}class KE{constructor(){}supports(l){return Qp(l)}create(l){return new Rb(l)}}const kb=(a,l)=>l;class Rb{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||kb}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,p=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<QE(d,p,g)?c:d,w=QE(v,p,g),I=v.currentIndex;if(v===d)p--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)p++;else{g||(g=[]);const x=w-p,R=I-p;if(x!=R){for(let Q=0;Q<x;Q++){const le=Q<g.length?g[Q]:g[Q]=0,Me=le+Q;R<=Me&&Me<x&&(g[Q]=le+1)}g[v.previousIndex]=R-x}}w!==I&&l(v,w,I)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Qp(l))throw new Ae(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,g,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)g=l[w],v=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,w),d=!0),c=c._next}else p=0,function xm(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[hl()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{v=this._trackByFn(p,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,p)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,p),d=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,p){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,p)):l=this._addAfter(new Ob(c,d),g,p),l}_verifyReinsertion(l,c,d,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,g=l._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new YE),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Ob{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pb{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class YE{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new Pb,this.map.set(c,d)),d.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QE(a,l,c){const d=a.previousIndex;if(null===d)return d;let p=0;return c&&d<c.length&&(p=c[d]),d+l+p}class P_{constructor(){}supports(l){return l instanceof Map||wu(l)}create(){return new Fb}}class Fb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||wu(l)))throw new Ae(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(p,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const g=p._prev,v=p._next;return g&&(g._next=v),v&&(v._prev=g),p._next=null,p._prev=null,p}const d=new QD(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class QD{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nb(){return new Lb([new KE])}let Lb=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Nb()),deps:[[a,new vt,new De]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(null!=d)return d;throw new Ae(901,!1)}}return a.\u0275prov=dn({token:a,providedIn:"root",factory:Nb}),a})();function Vb(){return new F_([new P_])}let F_=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Vb()),deps:[[a,new vt,new De]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new Ae(901,!1)}}return a.\u0275prov=dn({token:a,providedIn:"root",factory:Vb}),a})();const ex=C_(null,"core",[]);let Bb=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Ln(Bf))},a.\u0275mod=xt({type:a}),a.\u0275inj=qt({}),a})();function Ub(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(mt,Oe,N)=>{N.d(Oe,{Z:()=>Ae});var s=N(2090),H=N(4859),O=N(9681),ue=N(1877);class fe{constructor(Te,be){this._delegate=Te,this.firebase=be,(0,O._addComponent)(Te,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Te,be=O._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(Te);return!st.isInitialized()&&"EXPLICIT"===(null===(rt=st.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&st.initialize(),st.getImmediate({identifier:be})}_removeServiceInstance(Te,be=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(be)}_addComponent(Te){(0,O._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,O._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Ce(){const ct=function _e(ct){const Te={},be={__esModule:!0,initializeApp:function Ue(ce,me={}){const Ee=O.initializeApp(ce,me);if((0,s.r3)(Te,Ee.name))return Te[Ee.name];const ee=new ct(Ee,be);return Te[Ee.name]=ee,ee},app:st,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ke(ce){const me=ce.name,Ee=me.replace("-compat","");if(O._registerComponent(ce)&&"PUBLIC"===ce.type){const ee=(ie=st())=>{if("function"!=typeof ie[Ee])throw ve.create("invalid-app-argument",{appName:me});return ie[Ee]()};void 0!==ce.serviceProps&&(0,s.ZB)(ee,ce.serviceProps),be[Ee]=ee,ct.prototype[Ee]=function(...ie){return this._getService.bind(this,me).apply(this,ce.multipleInstances?ie:[])}}return"PUBLIC"===ce.type?be[Ee]:null},removeApp:function rt(ce){delete Te[ce]},useAsService:function Qe(ce,me){return"serverAuth"===me?null:me},modularAPIs:O}};function st(ce){if(!(0,s.r3)(Te,ce=ce||O._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:ce});return Te[ce]}return be.default=be,Object.defineProperty(be,"apps",{get:function Fe(){return Object.keys(Te).map(ce=>Te[ce])}}),st.App=ct,be}(fe);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Te(be){(0,s.ZB)(ct,be)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),ct}(),W=new ue.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=q;!function Ve(ct){(0,O.registerVersion)("@firebase/app-compat","0.1.34",ct)}()},9681:(mt,Oe,N)=>{N.r(Oe),N.d(Oe,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>nn,_addComponent:()=>fn,_addOrOverwriteComponent:()=>dn,_apps:()=>Sn,_clearComponents:()=>Ro,_components:()=>Zn,_getProvider:()=>qt,_registerComponent:()=>Xt,_removeServiceInstance:()=>Mi,deleteApp:()=>Lr,getApp:()=>qn,getApps:()=>Nr,initializeApp:()=>rr,onLog:()=>Kn,registerVersion:()=>Ci,setLogLevel:()=>Cn});var s=N(5861),H=N(4859),O=N(1877),ue=N(2090),fe=N(8766);class we{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(Y=>{if(function ve(z){return"VERSION"===z.getComponent()?.type}(Y)){const Re=Y.getImmediate();return`${Re.library}/${Re.version}`}return null}).filter(Y=>Y).join(" ")}}const _e="@firebase/app",q=new O.Yd("@firebase/app"),nn="[DEFAULT]",Je={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,Zn=new Map;function fn(z,K){try{z.container.addComponent(K)}catch(Y){q.debug(`Component ${K.name} failed to register with FirebaseApp ${z.name}`,Y)}}function dn(z,K){z.container.addOrOverwriteComponent(K)}function Xt(z){const K=z.name;if(Zn.has(K))return q.debug(`There were multiple attempts to register component ${K}.`),!1;Zn.set(K,z);for(const Y of Sn.values())fn(Y,z);return!0}function qt(z,K){const Y=z.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),z.container.getProvider(K)}function Mi(z,K,Y=nn){qt(z,K).clearInstance(Y)}function Ro(){Zn.clear()}const Bn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xr{constructor(K,Y,Re){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=Re,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const Fr="9.10.0";function rr(z,K={}){"object"!=typeof K&&(K={name:K});const Y=Object.assign({name:nn,automaticDataCollectionEnabled:!1},K),Re=Y.name;if("string"!=typeof Re||!Re)throw Bn.create("bad-app-name",{appName:String(Re)});const qe=Sn.get(Re);if(qe){if((0,ue.vZ)(z,qe.options)&&(0,ue.vZ)(Y,qe.config))return qe;throw Bn.create("duplicate-app",{appName:Re})}const xt=new H.H0(Re);for(const gn of Zn.values())xt.addComponent(gn);const _n=new Xr(z,Y,xt);return Sn.set(Re,_n),_n}function qn(z=nn){const K=Sn.get(z);if(!K)throw Bn.create("no-app",{appName:z});return K}function Nr(){return Array.from(Sn.values())}function Lr(z){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(z){const K=z.name;Sn.has(K)&&(Sn.delete(K),yield Promise.all(z.container.getProviders().map(Y=>Y.delete())),z.isDeleted=!0)})).apply(this,arguments)}function Ci(z,K,Y){var Re;let qe=null!==(Re=Je[z])&&void 0!==Re?Re:z;Y&&(qe+=`-${Y}`);const xt=qe.match(/\s|\//),_n=K.match(/\s|\//);if(xt||_n){const gn=[`Unable to register library "${qe}" with version "${K}":`];return xt&&gn.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),xt&&_n&&gn.push("and"),_n&&gn.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void q.warn(gn.join(" "))}Xt(new H.wA(`${qe}-version`,()=>({library:qe,version:K}),"VERSION"))}function Kn(z,K){if(null!==z&&"function"!=typeof z)throw Bn.create("invalid-log-argument");(0,O.Am)(z,K)}function Cn(z){(0,O.Ub)(z)}const kn="firebase-heartbeat-store";let Nn=null;function Mn(){return Nn||(Nn=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(z,K)=>{0===K&&z.createObjectStore(kn)}}).catch(z=>{throw Bn.create("idb-open",{originalErrorMessage:z.message})})),Nn}function bt(){return(bt=(0,s.Z)(function*(z){var K;try{return(yield Mn()).transaction(kn).objectStore(kn).get(Ei(z))}catch(Y){if(Y instanceof ue.ZR)q.warn(Y.message);else{const Re=Bn.create("idb-get",{originalErrorMessage:null===(K=Y)||void 0===K?void 0:K.message});q.warn(Re.message)}}})).apply(this,arguments)}function Ht(z,K){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,s.Z)(function*(z,K){var Y;try{const qe=(yield Mn()).transaction(kn,"readwrite");return yield qe.objectStore(kn).put(K,Ei(z)),qe.done}catch(Re){if(Re instanceof ue.ZR)q.warn(Re.message);else{const qe=Bn.create("idb-set",{originalErrorMessage:null===(Y=Re)||void 0===Y?void 0:Y.message});q.warn(qe.message)}}})).apply(this,arguments)}function Ei(z){return`${z.name}!${z.options.appId}`}class Ui{constructor(K){this.container=K,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this._storage=new rn(Y),this._heartbeatsCachePromise=this._storage.read().then(Re=>(this._heartbeatsCache=Re,Re))}triggerHeartbeat(){var K=this;return(0,s.Z)(function*(){const Re=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=zt();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==qe&&!K._heartbeatsCache.heartbeats.some(xt=>xt.date===qe))return K._heartbeatsCache.heartbeats.push({date:qe,agent:Re}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(xt=>{const _n=new Date(xt.date).valueOf();return Date.now()-_n<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,s.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const Y=zt(),{heartbeatsToSend:Re,unsentEntries:qe}=function sr(z,K=1024){const Y=[];let Re=z.slice();for(const qe of z){const xt=Y.find(_n=>_n.agent===qe.agent);if(xt){if(xt.dates.push(qe.date),J(Y)>K){xt.dates.pop();break}}else if(Y.push({agent:qe.agent,dates:[qe.date]}),J(Y)>K){Y.pop();break}Re=Re.slice(1)}return{heartbeatsToSend:Y,unsentEntries:Re}}(K._heartbeatsCache.heartbeats),xt=(0,ue.L)(JSON.stringify({version:2,heartbeats:Re}));return K._heartbeatsCache.lastSentHeartbeatDate=Y,qe.length>0?(K._heartbeatsCache.heartbeats=qe,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),xt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class rn{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,s.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function yt(z){return bt.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var Y=this;return(0,s.Z)(function*(){var Re;if(yield Y._canUseIndexedDBPromise){const xt=yield Y.read();return Ht(Y.app,{lastSentHeartbeatDate:null!==(Re=K.lastSentHeartbeatDate)&&void 0!==Re?Re:xt.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var Y=this;return(0,s.Z)(function*(){var Re;if(yield Y._canUseIndexedDBPromise){const xt=yield Y.read();return Ht(Y.app,{lastSentHeartbeatDate:null!==(Re=K.lastSentHeartbeatDate)&&void 0!==Re?Re:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...K.heartbeats]})}})()}}function J(z){return(0,ue.L)(JSON.stringify({version:2,heartbeats:z})).length}!function $(z){Xt(new H.wA("platform-logger",K=>new we(K),"PRIVATE")),Xt(new H.wA("heartbeat",K=>new Ui(K),"PRIVATE")),Ci(_e,"0.7.33",z),Ci(_e,"0.7.33","esm2017"),Ci("fire-js","")}("")},4859:(mt,Oe,N)=>{N.d(Oe,{H0:()=>_e,wA:()=>O});var s=N(5861),H=N(2090);class O{constructor(q,W,ne){this.name=q,this.instanceFactory=W,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ue="[DEFAULT]";class fe{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const ne=new H.BH;if(this.instancesDeferred.set(W,ne),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:W});Ge&&ne.resolve(Ge)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const ne=this.normalizeInstanceIdentifier(q?.identifier),Ge=null!==(W=q?.optional)&&void 0!==W&&W;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ve){if(Ge)return null;throw Ve}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ve(Ce){return"EAGER"===Ce.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[W,ne]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(W);try{const Ve=this.getOrInitializeService({instanceIdentifier:Ge});ne.resolve(Ve)}catch{}}}}clearInstance(q=ue){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,s.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...W.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ue){return this.instances.has(q)}getOptions(q=ue){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,ne=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ne,options:W});for(const[Ve,Ae]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ve)&&Ae.resolve(Ge);return Ge}onInit(q,W){var ne;const Ge=this.normalizeInstanceIdentifier(W),Ve=null!==(ne=this.onInitCallbacks.get(Ge))&&void 0!==ne?ne:new Set;Ve.add(q),this.onInitCallbacks.set(Ge,Ve);const Ae=this.instances.get(Ge);return Ae&&q(Ae,Ge),()=>{Ve.delete(q)}}invokeOnInitCallbacks(q,W){const ne=this.onInitCallbacks.get(W);if(ne)for(const Ge of ne)try{Ge(q,W)}catch{}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let ne=this.instances.get(q);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=q,Ce===ue?void 0:Ce),options:W}),this.instances.set(q,ne),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(ne,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ne)}catch{}var Ce;return ne||null}normalizeInstanceIdentifier(q=ue){return this.component?this.component.multipleInstances?q:ue:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new fe(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Oe,N)=>{N.d(Oe,{Am:()=>Ce,Ub:()=>_e,Yd:()=>ve,in:()=>H});const s=[];var H=(()=>{return(q=H||(H={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",H;var q})();const O={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ue=H.INFO,fe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},we=(q,W,...ne)=>{if(W<q.logLevel)return;const Ge=(new Date).toISOString(),Ve=fe[W];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ve](`[${Ge}]  ${q.name}:`,...ne)};class ve{constructor(W){this.name=W,this._logLevel=ue,this._logHandler=we,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in H))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?O[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...W),this._logHandler(this,H.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...W),this._logHandler(this,H.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,H.INFO,...W),this._logHandler(this,H.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,H.WARN,...W),this._logHandler(this,H.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...W),this._logHandler(this,H.ERROR,...W)}}function _e(q){s.forEach(W=>{W.setLogLevel(q)})}function Ce(q,W){for(const ne of s){let Ge=null;W&&W.level&&(Ge=O[W.level]),ne.userLogHandler=null===q?null:(Ve,Ae,...ct)=>{const Te=ct.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Ae>=(Ge??Ve.logLevel)&&q({level:H[Ae].toLowerCase(),message:Te,args:ct,type:Ve.name})}}}},8766:(mt,Oe,N)=>{N.d(Oe,{Lj:()=>Ue,X3:()=>st});var s=N(5861);let O,ue;const ve=new WeakMap,_e=new WeakMap,Ce=new WeakMap,q=new WeakMap,W=new WeakMap;let Ve={get(me,Ee,ee){if(me instanceof IDBTransaction){if("done"===Ee)return _e.get(me);if("objectStoreNames"===Ee)return me.objectStoreNames||Ce.get(me);if("store"===Ee)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return be(me[Ee])},set:(me,Ee,ee)=>(me[Ee]=ee,!0),has:(me,Ee)=>me instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in me};function Te(me){return"function"==typeof me?function ct(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...Ee){return me.apply(rt(this),Ee),be(ve.get(this))}:function(...Ee){return be(me.apply(rt(this),Ee))}:function(Ee,...ee){const ie=me.call(rt(this),Ee,...ee);return Ce.set(ie,Ee.sort?Ee.sort():[Ee]),be(ie)}}(me):(me instanceof IDBTransaction&&function Ge(me){if(_e.has(me))return;const Ee=new Promise((ee,ie)=>{const ye=()=>{me.removeEventListener("complete",de),me.removeEventListener("error",ze),me.removeEventListener("abort",ze)},de=()=>{ee(),ye()},ze=()=>{ie(me.error||new DOMException("AbortError","AbortError")),ye()};me.addEventListener("complete",de),me.addEventListener("error",ze),me.addEventListener("abort",ze)});_e.set(me,Ee)}(me),((me,Ee)=>Ee.some(ee=>me instanceof ee))(me,function fe(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Ve):me)}function be(me){if(me instanceof IDBRequest)return function ne(me){const Ee=new Promise((ee,ie)=>{const ye=()=>{me.removeEventListener("success",de),me.removeEventListener("error",ze)},de=()=>{ee(be(me.result)),ye()},ze=()=>{ie(me.error),ye()};me.addEventListener("success",de),me.addEventListener("error",ze)});return Ee.then(ee=>{ee instanceof IDBCursor&&ve.set(ee,me)}).catch(()=>{}),W.set(Ee,me),Ee}(me);if(q.has(me))return q.get(me);const Ee=Te(me);return Ee!==me&&(q.set(me,Ee),W.set(Ee,me)),Ee}const rt=me=>W.get(me);function st(me,Ee,{blocked:ee,upgrade:ie,blocking:ye,terminated:de}={}){const ze=indexedDB.open(me,Ee),je=be(ze);return ie&&ze.addEventListener("upgradeneeded",Et=>{ie(be(ze.result),Et.oldVersion,Et.newVersion,be(ze.transaction))}),ee&&ze.addEventListener("blocked",()=>ee()),je.then(Et=>{de&&Et.addEventListener("close",()=>de()),ye&&Et.addEventListener("versionchange",()=>ye())}).catch(()=>{}),je}function Ue(me,{blocked:Ee}={}){const ee=indexedDB.deleteDatabase(me);return Ee&&ee.addEventListener("blocked",()=>Ee()),be(ee).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Qe=new Map;function ce(me,Ee){if(!(me instanceof IDBDatabase)||Ee in me||"string"!=typeof Ee)return;if(Qe.get(Ee))return Qe.get(Ee);const ee=Ee.replace(/FromIndex$/,""),ie=Ee!==ee,ye=ke.includes(ee);if(!(ee in(ie?IDBIndex:IDBObjectStore).prototype)||!ye&&!Fe.includes(ee))return;const de=function(){var ze=(0,s.Z)(function*(je,...Et){const un=this.transaction(je,ye?"readwrite":"readonly");let nn=un.store;return ie&&(nn=nn.index(Et.shift())),(yield Promise.all([nn[ee](...Et),ye&&un.done]))[0]});return function(Et){return ze.apply(this,arguments)}}();return Qe.set(Ee,de),de}!function Ae(me){Ve=me(Ve)}(me=>({...me,get:(Ee,ee,ie)=>ce(Ee,ee)||me.get(Ee,ee,ie),has:(Ee,ee)=>!!ce(Ee,ee)||me.has(Ee,ee)}))},5861:(mt,Oe,N)=>{function s(O,ue,fe,we,ve,_e,Ce){try{var q=O[_e](Ce),W=q.value}catch(ne){return void fe(ne)}q.done?ue(W):Promise.resolve(W).then(we,ve)}function H(O){return function(){var ue=this,fe=arguments;return new Promise(function(we,ve){var _e=O.apply(ue,fe);function Ce(W){s(_e,we,ve,Ce,q,"next",W)}function q(W){s(_e,we,ve,Ce,q,"throw",W)}Ce(void 0)})}}N.d(Oe,{Z:()=>H})}},mt=>{mt(mt.s=3387)}]);